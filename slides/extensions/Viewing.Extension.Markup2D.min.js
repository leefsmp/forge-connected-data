!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["Viewing.Extension.Markup2D"]=e():t["Viewing.Extension.Markup2D"]=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}({0:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(28),l=n(u),c=i(6),h=n(c);i(90);var d=i(5),p=n(d);i(27),i(91),i(29);var f=function(t){function e(t,i){return o(this,e),r(this,Object.getPrototypeOf(e).call(this,t,i))}return s(e,t),a(e,[{key:"load",value:function(){var t=this;if(this._control=p["default"].createButton("toolbar-markup2D","glyphicon glyphicon-edit","Markup 2D Panel",function(){t._panel.toggleVisibility()}),this._panel=new l["default"](this._viewer,"markup2d",this._control.container),this.parentControl=this._options.parentControl,!this.parentControl){var e=this._viewer.getToolbar(!0);this.parentControl=new Autodesk.Viewing.UI.ControlGroup("markup"),e.addControl(this.parentControl)}return this.parentControl.addControl(this._control),this._panel.setVisible(this._options.showPanel),console.log("Viewing.Extension.Markup2D loaded"),!0}},{key:"unload",value:function(){console.log("Viewing.Extension.Markup2D unloaded")}}],[{key:"ExtensionId",get:function(){return"Viewing.Extension.Markup2D"}}]),e}(h["default"]);Autodesk.Viewing.theExtensionManager.registerExtension(f.ExtensionId,f)},1:function(t,e,i){var n,o;!function(e,i){"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?i(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(e)}("undefined"!=typeof window?window:this,function(i,r){function s(t){var e=!!t&&"length"in t&&t.length,i=lt.type(t);return"function"===i||lt.isWindow(t)?!1:"array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t}function a(t,e,i){if(lt.isFunction(e))return lt.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return lt.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(At.test(e))return lt.filter(e,t,i);e=lt.filter(e,t)}return lt.grep(t,function(t){return nt.call(e,t)>-1!==i})}function u(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function l(t){var e={};return lt.each(t.match(Mt)||[],function(t,i){e[i]=!0}),e}function c(){Z.removeEventListener("DOMContentLoaded",c),i.removeEventListener("load",c),lt.ready()}function h(){this.expando=lt.expando+h.uid++}function d(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(_t,"-$&").toLowerCase(),i=t.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Nt.test(i)?lt.parseJSON(i):i}catch(o){}Dt.set(t,e,i)}else i=void 0;return i}function p(t,e,i,n){var o,r=1,s=20,a=n?function(){return n.cur()}:function(){return lt.css(t,e,"")},u=a(),l=i&&i[3]||(lt.cssNumber[e]?"":"px"),c=(lt.cssNumber[e]||"px"!==l&&+u)&&It.exec(lt.css(t,e));if(c&&c[3]!==l){l=l||c[3],i=i||[],c=+u||1;do r=r||".5",c/=r,lt.style(t,e,c+l);while(r!==(r=a()/u)&&1!==r&&--s)}return i&&(c=+c||+u||0,o=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=l,n.start=c,n.end=o)),o}function f(t,e){var i="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&lt.nodeName(t,e)?lt.merge([t],i):i}function g(t,e){for(var i=0,n=t.length;n>i;i++)Rt.set(t[i],"globalEval",!e||Rt.get(e[i],"globalEval"))}function y(t,e,i,n,o){for(var r,s,a,u,l,c,h=e.createDocumentFragment(),d=[],p=0,y=t.length;y>p;p++)if(r=t[p],r||0===r)if("object"===lt.type(r))lt.merge(d,r.nodeType?[r]:r);else if(Bt.test(r)){for(s=s||h.appendChild(e.createElement("div")),a=(Ot.exec(r)||["",""])[1].toLowerCase(),u=Ft[a]||Ft._default,s.innerHTML=u[1]+lt.htmlPrefilter(r)+u[2],c=u[0];c--;)s=s.lastChild;lt.merge(d,s.childNodes),s=h.firstChild,s.textContent=""}else d.push(e.createTextNode(r));for(h.textContent="",p=0;r=d[p++];)if(n&&lt.inArray(r,n)>-1)o&&o.push(r);else if(l=lt.contains(r.ownerDocument,r),s=f(h.appendChild(r),"script"),l&&g(s),i)for(c=0;r=s[c++];)Ht.test(r.type||"")&&i.push(r);return h}function v(){return!0}function m(){return!1}function A(){try{return Z.activeElement}catch(t){}}function x(t,e,i,n,o,r){var s,a;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=void 0);for(a in e)x(t,a,i,n,e[a],r);return t}if(null==n&&null==o?(o=i,n=i=void 0):null==o&&("string"==typeof i?(o=n,n=void 0):(o=n,n=i,i=void 0)),o===!1)o=m;else if(!o)return t;return 1===r&&(s=o,o=function(t){return lt().off(t),s.apply(this,arguments)},o.guid=s.guid||(s.guid=lt.guid++)),t.each(function(){lt.event.add(this,e,o,n,i)})}function b(t,e){return lt.nodeName(t,"table")&&lt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function E(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function k(t){var e=Yt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function w(t,e){var i,n,o,r,s,a,u,l;if(1===e.nodeType){if(Rt.hasData(t)&&(r=Rt.access(t),s=Rt.set(e,r),l=r.events)){delete s.handle,s.events={};for(o in l)for(i=0,n=l[o].length;n>i;i++)lt.event.add(e,o,l[o][i])}Dt.hasData(t)&&(a=Dt.access(t),u=lt.extend({},a),Dt.set(e,u))}}function M(t,e){var i=e.nodeName.toLowerCase();"input"===i&&Vt.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function T(t,e,i,n){e=et.apply([],e);var o,r,s,a,u,l,c=0,h=t.length,d=h-1,p=e[0],g=lt.isFunction(p);if(g||h>1&&"string"==typeof p&&!at.checkClone&&Kt.test(p))return t.each(function(o){var r=t.eq(o);g&&(e[0]=p.call(this,o,r.html())),T(r,e,i,n)});if(h&&(o=y(e,t[0].ownerDocument,!1,t,n),r=o.firstChild,1===o.childNodes.length&&(o=r),r||n)){for(s=lt.map(f(o,"script"),E),a=s.length;h>c;c++)u=o,c!==d&&(u=lt.clone(u,!0,!0),a&&lt.merge(s,f(u,"script"))),i.call(t[c],u,c);if(a)for(l=s[s.length-1].ownerDocument,lt.map(s,k),c=0;a>c;c++)u=s[c],Ht.test(u.type||"")&&!Rt.access(u,"globalEval")&&lt.contains(l,u)&&(u.src?lt._evalUrl&&lt._evalUrl(u.src):lt.globalEval(u.textContent.replace(Xt,"")))}return t}function C(t,e,i){for(var n,o=e?lt.filter(e,t):t,r=0;null!=(n=o[r]);r++)i||1!==n.nodeType||lt.cleanData(f(n)),n.parentNode&&(i&&lt.contains(n.ownerDocument,n)&&g(f(n,"script")),n.parentNode.removeChild(n));return t}function S(t,e){var i=lt(e.createElement(t)).appendTo(e.body),n=lt.css(i[0],"display");return i.detach(),n}function R(t){var e=Z,i=Jt[t];return i||(i=S(t,e),"none"!==i&&i||($t=($t||lt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=$t[0].contentDocument,e.write(),e.close(),i=S(t,e),$t.detach()),Jt[t]=i),i}function D(t,e,i){var n,o,r,s,a=t.style;return i=i||te(t),s=i?i.getPropertyValue(e)||i[e]:void 0,""!==s&&void 0!==s||lt.contains(t.ownerDocument,t)||(s=lt.style(t,e)),i&&!at.pixelMarginRight()&&Zt.test(s)&&Qt.test(e)&&(n=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=o,a.maxWidth=r),void 0!==s?s+"":s}function N(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function _(t){if(t in ae)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=se.length;i--;)if(t=se[i]+e,t in ae)return t}function P(t,e,i){var n=It.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function I(t,e,i,n,o){for(var r=i===(n?"border":"content")?4:"width"===e?1:0,s=0;4>r;r+=2)"margin"===i&&(s+=lt.css(t,i+zt[r],!0,o)),n?("content"===i&&(s-=lt.css(t,"padding"+zt[r],!0,o)),"margin"!==i&&(s-=lt.css(t,"border"+zt[r]+"Width",!0,o))):(s+=lt.css(t,"padding"+zt[r],!0,o),"padding"!==i&&(s+=lt.css(t,"border"+zt[r]+"Width",!0,o)));return s}function z(t,e,n){var o=!0,r="width"===e?t.offsetWidth:t.offsetHeight,s=te(t),a="border-box"===lt.css(t,"boxSizing",!1,s);if(Z.msFullscreenElement&&i.top!==i&&t.getClientRects().length&&(r=Math.round(100*t.getBoundingClientRect()[e])),0>=r||null==r){if(r=D(t,e,s),(0>r||null==r)&&(r=t.style[e]),Zt.test(r))return r;o=a&&(at.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+I(t,e,n||(a?"border":"content"),o,s)+"px"}function L(t,e){for(var i,n,o,r=[],s=0,a=t.length;a>s;s++)n=t[s],n.style&&(r[s]=Rt.get(n,"olddisplay"),i=n.style.display,e?(r[s]||"none"!==i||(n.style.display=""),""===n.style.display&&Lt(n)&&(r[s]=Rt.access(n,"olddisplay",R(n.nodeName)))):(o=Lt(n),"none"===i&&o||Rt.set(n,"olddisplay",o?i:lt.css(n,"display"))));for(s=0;a>s;s++)n=t[s],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?r[s]||"":"none"));return t}function V(t,e,i,n,o){return new V.prototype.init(t,e,i,n,o)}function O(){return i.setTimeout(function(){ue=void 0}),ue=lt.now()}function H(t,e){var i,n=0,o={height:t};for(e=e?1:0;4>n;n+=2-e)i=zt[n],o["margin"+i]=o["padding"+i]=t;return e&&(o.opacity=o.width=t),o}function F(t,e,i){for(var n,o=(U.tweeners[e]||[]).concat(U.tweeners["*"]),r=0,s=o.length;s>r;r++)if(n=o[r].call(i,e,t))return n}function B(t,e,i){var n,o,r,s,a,u,l,c,h=this,d={},p=t.style,f=t.nodeType&&Lt(t),g=Rt.get(t,"fxshow");i.queue||(a=lt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,lt.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],l=lt.css(t,"display"),c="none"===l?Rt.get(t,"olddisplay")||R(t.nodeName):l,"inline"===c&&"none"===lt.css(t,"float")&&(p.display="inline-block")),i.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in e)if(o=e[n],ce.exec(o)){if(delete e[n],r=r||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!g||void 0===g[n])continue;f=!0}d[n]=g&&g[n]||lt.style(t,n)}else l=void 0;if(lt.isEmptyObject(d))"inline"===("none"===l?R(t.nodeName):l)&&(p.display=l);else{g?"hidden"in g&&(f=g.hidden):g=Rt.access(t,"fxshow",{}),r&&(g.hidden=!f),f?lt(t).show():h.done(function(){lt(t).hide()}),h.done(function(){var e;Rt.remove(t,"fxshow");for(e in d)lt.style(t,e,d[e])});for(n in d)s=F(f?g[n]:0,n,h),n in g||(g[n]=s.start,f&&(s.end=s.start,s.start="width"===n||"height"===n?1:0))}}function j(t,e){var i,n,o,r,s;for(i in t)if(n=lt.camelCase(i),o=e[n],r=t[i],lt.isArray(r)&&(o=r[1],r=t[i]=r[0]),i!==n&&(t[n]=r,delete t[i]),s=lt.cssHooks[n],s&&"expand"in s){r=s.expand(r),delete t[n];for(i in r)i in t||(t[i]=r[i],e[i]=o)}else e[n]=o}function U(t,e,i){var n,o,r=0,s=U.prefilters.length,a=lt.Deferred().always(function(){delete u.elem}),u=function(){if(o)return!1;for(var e=ue||O(),i=Math.max(0,l.startTime+l.duration-e),n=i/l.duration||0,r=1-n,s=0,u=l.tweens.length;u>s;s++)l.tweens[s].run(r);return a.notifyWith(t,[l,r,i]),1>r&&u?i:(a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:lt.extend({},e),opts:lt.extend(!0,{specialEasing:{},easing:lt.easing._default},i),originalProperties:e,originalOptions:i,startTime:ue||O(),duration:i.duration,tweens:[],createTween:function(e,i){var n=lt.Tween(t,l.opts,e,i,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var i=0,n=e?l.tweens.length:0;if(o)return this;for(o=!0;n>i;i++)l.tweens[i].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),c=l.props;for(j(c,l.opts.specialEasing);s>r;r++)if(n=U.prefilters[r].call(l,t,c,l.opts))return lt.isFunction(n.stop)&&(lt._queueHooks(l.elem,l.opts.queue).stop=lt.proxy(n.stop,n)),n;return lt.map(c,F,l),lt.isFunction(l.opts.start)&&l.opts.start.call(t,l),lt.fx.timer(lt.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function G(t){return t.getAttribute&&t.getAttribute("class")||""}function q(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,o=0,r=e.toLowerCase().match(Mt)||[];if(lt.isFunction(i))for(;n=r[o++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function W(t,e,i,n){function o(a){var u;return r[a]=!0,lt.each(t[a]||[],function(t,a){var l=a(e,i,n);return"string"!=typeof l||s||r[l]?s?!(u=l):void 0:(e.dataTypes.unshift(l),o(l),!1)}),u}var r={},s=t===De;return o(e.dataTypes[0])||!r["*"]&&o("*")}function K(t,e){var i,n,o=lt.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&lt.extend(!0,t,n),t}function Y(t,e,i){for(var n,o,r,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(o in a)if(a[o]&&a[o].test(n)){u.unshift(o);break}if(u[0]in i)r=u[0];else{for(o in i){if(!u[0]||t.converters[o+" "+u[0]]){r=o;break}s||(s=o)}r=r||s}return r?(r!==u[0]&&u.unshift(r),i[r]):void 0}function X(t,e,i,n){var o,r,s,a,u,l={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(r=c.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!u&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=r,r=c.shift())if("*"===r)r=u;else if("*"!==u&&u!==r){if(s=l[u+" "+r]||l["* "+r],!s)for(o in l)if(a=o.split(" "),a[1]===r&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[o]:l[o]!==!0&&(r=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+u+" to "+r}}}return{state:"success",data:e}}function $(t,e,i,n){var o;if(lt.isArray(e))lt.each(e,function(e,o){i||Ie.test(t)?n(t,o):$(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,i,n)});else if(i||"object"!==lt.type(e))n(t,e);else for(o in e)$(t+"["+o+"]",e[o],i,n)}function J(t){return lt.isWindow(t)?t:9===t.nodeType&&t.defaultView}var Q=[],Z=i.document,tt=Q.slice,et=Q.concat,it=Q.push,nt=Q.indexOf,ot={},rt=ot.toString,st=ot.hasOwnProperty,at={},ut="2.2.3",lt=function(t,e){return new lt.fn.init(t,e)},ct=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ht=/^-ms-/,dt=/-([\da-z])/gi,pt=function(t,e){return e.toUpperCase()};lt.fn=lt.prototype={jquery:ut,constructor:lt,selector:"",length:0,toArray:function(){return tt.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:tt.call(this)},pushStack:function(t){var e=lt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return lt.each(this,t)},map:function(t){return this.pushStack(lt.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(tt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:it,sort:Q.sort,splice:Q.splice},lt.extend=lt.fn.extend=function(){var t,e,i,n,o,r,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||lt.isFunction(s)||(s={}),a===u&&(s=this,a--);u>a;a++)if(null!=(t=arguments[a]))for(e in t)i=s[e],n=t[e],s!==n&&(l&&n&&(lt.isPlainObject(n)||(o=lt.isArray(n)))?(o?(o=!1,r=i&&lt.isArray(i)?i:[]):r=i&&lt.isPlainObject(i)?i:{},s[e]=lt.extend(l,r,n)):void 0!==n&&(s[e]=n));return s},lt.extend({expando:"jQuery"+(ut+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===lt.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!lt.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==lt.type(t)||t.nodeType||lt.isWindow(t))return!1;if(t.constructor&&!st.call(t,"constructor")&&!st.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||st.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ot[rt.call(t)]||"object":typeof t},globalEval:function(t){var e,i=eval;t=lt.trim(t),t&&(1===t.indexOf("use strict")?(e=Z.createElement("script"),e.text=t,Z.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(ht,"ms-").replace(dt,pt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,n=0;if(s(t))for(i=t.length;i>n&&e.call(t[n],n,t[n])!==!1;n++);else for(n in t)if(e.call(t[n],n,t[n])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(ct,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(s(Object(t))?lt.merge(i,"string"==typeof t?[t]:t):it.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:nt.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,o=t.length;i>n;n++)t[o++]=e[n];return t.length=o,t},grep:function(t,e,i){for(var n,o=[],r=0,s=t.length,a=!i;s>r;r++)n=!e(t[r],r),n!==a&&o.push(t[r]);return o},map:function(t,e,i){var n,o,r=0,a=[];if(s(t))for(n=t.length;n>r;r++)o=e(t[r],r,i),null!=o&&a.push(o);else for(r in t)o=e(t[r],r,i),null!=o&&a.push(o);return et.apply([],a)},guid:1,proxy:function(t,e){var i,n,o;return"string"==typeof e&&(i=t[e],e=t,t=i),lt.isFunction(t)?(n=tt.call(arguments,2),o=function(){return t.apply(e||this,n.concat(tt.call(arguments)))},o.guid=t.guid=t.guid||lt.guid++,o):void 0},now:Date.now,support:at}),"function"==typeof Symbol&&(lt.fn[Symbol.iterator]=Q[Symbol.iterator]),lt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ot["[object "+e+"]"]=e.toLowerCase()});var ft=function(t){function e(t,e,i,n){var o,r,s,a,u,l,h,p,f=e&&e.ownerDocument,g=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return i;if(!n&&((e?e.ownerDocument||e:F)!==_&&N(e),e=e||_,I)){if(11!==g&&(l=vt.exec(t)))if(o=l[1]){if(9===g){if(!(s=e.getElementById(o)))return i;if(s.id===o)return i.push(s),i}else if(f&&(s=f.getElementById(o))&&O(e,s)&&s.id===o)return i.push(s),i}else{if(l[2])return Q.apply(i,e.getElementsByTagName(t)),i;if((o=l[3])&&b.getElementsByClassName&&e.getElementsByClassName)return Q.apply(i,e.getElementsByClassName(o)),i}if(b.qsa&&!q[t+" "]&&(!z||!z.test(t))){if(1!==g)f=e,p=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(At,"\\$&"):e.setAttribute("id",a=H),h=M(t),r=h.length,u=dt.test(a)?"#"+a:"[id='"+a+"']";r--;)h[r]=u+" "+d(h[r]);p=h.join(","),f=mt.test(t)&&c(e.parentNode)||e}if(p)try{return Q.apply(i,f.querySelectorAll(p)),i}catch(y){}finally{a===H&&e.removeAttribute("id")}}}return C(t.replace(at,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>E.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[H]=!0,t}function o(t){var e=_.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var i=t.split("|"),n=i.length;n--;)E.attrHandle[i[n]]=e}function s(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||K)-(~t.sourceIndex||K);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function u(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function l(t){return n(function(e){return e=+e,n(function(i,n){for(var o,r=t([],i.length,e),s=r.length;s--;)i[o=r[s]]&&(i[o]=!(n[o]=i[o]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function d(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function p(t,e,i){var n=e.dir,o=i&&"parentNode"===n,r=j++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,r)}:function(e,i,s){var a,u,l,c=[B,r];if(s){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,s))return!0}else for(;e=e[n];)if(1===e.nodeType||o){if(l=e[H]||(e[H]={}),u=l[e.uniqueID]||(l[e.uniqueID]={}),(a=u[n])&&a[0]===B&&a[1]===r)return c[2]=a[2];if(u[n]=c,c[2]=t(e,i,s))return!0}}}function f(t){return t.length>1?function(e,i,n){for(var o=t.length;o--;)if(!t[o](e,i,n))return!1;return!0}:t[0]}function g(t,i,n){for(var o=0,r=i.length;r>o;o++)e(t,i[o],n);return n}function y(t,e,i,n,o){for(var r,s=[],a=0,u=t.length,l=null!=e;u>a;a++)(r=t[a])&&(i&&!i(r,n,o)||(s.push(r),l&&e.push(a)));return s}function v(t,e,i,o,r,s){return o&&!o[H]&&(o=v(o)),r&&!r[H]&&(r=v(r,s)),n(function(n,s,a,u){var l,c,h,d=[],p=[],f=s.length,v=n||g(e||"*",a.nodeType?[a]:a,[]),m=!t||!n&&e?v:y(v,d,t,a,u),A=i?r||(n?t:f||o)?[]:s:m;if(i&&i(m,A,a,u),o)for(l=y(A,p),o(l,[],a,u),c=l.length;c--;)(h=l[c])&&(A[p[c]]=!(m[p[c]]=h));if(n){if(r||t){if(r){for(l=[],c=A.length;c--;)(h=A[c])&&l.push(m[c]=h);r(null,A=[],l,u)}for(c=A.length;c--;)(h=A[c])&&(l=r?tt(n,h):d[c])>-1&&(n[l]=!(s[l]=h))}}else A=y(A===s?A.splice(f,A.length):A),r?r(null,s,A,u):Q.apply(s,A)})}function m(t){for(var e,i,n,o=t.length,r=E.relative[t[0].type],s=r||E.relative[" "],a=r?1:0,u=p(function(t){return t===e},s,!0),l=p(function(t){return tt(e,t)>-1},s,!0),c=[function(t,i,n){var o=!r&&(n||i!==S)||((e=i).nodeType?u(t,i,n):l(t,i,n));return e=null,o}];o>a;a++)if(i=E.relative[t[a].type])c=[p(f(c),i)];else{if(i=E.filter[t[a].type].apply(null,t[a].matches),i[H]){for(n=++a;o>n&&!E.relative[t[n].type];n++);return v(a>1&&f(c),a>1&&d(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),i,n>a&&m(t.slice(a,n)),o>n&&m(t=t.slice(n)),o>n&&d(t))}c.push(i)}return f(c)}function A(t,i){var o=i.length>0,r=t.length>0,s=function(n,s,a,u,l){var c,h,d,p=0,f="0",g=n&&[],v=[],m=S,A=n||r&&E.find.TAG("*",l),x=B+=null==m?1:Math.random()||.1,b=A.length;for(l&&(S=s===_||s||l);f!==b&&null!=(c=A[f]);f++){if(r&&c){for(h=0,s||c.ownerDocument===_||(N(c),a=!I);d=t[h++];)if(d(c,s||_,a)){u.push(c);break}l&&(B=x)}o&&((c=!d&&c)&&p--,n&&g.push(c))}if(p+=f,o&&f!==p){for(h=0;d=i[h++];)d(g,v,s,a);if(n){if(p>0)for(;f--;)g[f]||v[f]||(v[f]=$.call(u));v=y(v)}Q.apply(u,v),l&&!n&&v.length>0&&p+i.length>1&&e.uniqueSort(u)}return l&&(B=x,S=m),g};return o?n(s):s}var x,b,E,k,w,M,T,C,S,R,D,N,_,P,I,z,L,V,O,H="sizzle"+1*new Date,F=t.document,B=0,j=0,U=i(),G=i(),q=i(),W=function(t,e){return t===e&&(D=!0),0},K=1<<31,Y={}.hasOwnProperty,X=[],$=X.pop,J=X.push,Q=X.push,Z=X.slice,tt=function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+it+"*\\]",rt=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",st=new RegExp(it+"+","g"),at=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ut=new RegExp("^"+it+"*,"+it+"*"),lt=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ct=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ht=new RegExp(rt),dt=new RegExp("^"+nt+"$"),pt={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,yt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,mt=/[+~]/,At=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),bt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},Et=function(){N()};try{Q.apply(X=Z.call(F.childNodes),F.childNodes),X[F.childNodes.length].nodeType}catch(kt){Q={apply:X.length?function(t,e){J.apply(t,Z.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}b=e.support={},w=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},N=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:F;return n!==_&&9===n.nodeType&&n.documentElement?(_=n,P=_.documentElement,I=!w(_),(i=_.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",Et,!1):i.attachEvent&&i.attachEvent("onunload",Et)),b.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),b.getElementsByTagName=o(function(t){return t.appendChild(_.createComment("")),!t.getElementsByTagName("*").length}),b.getElementsByClassName=yt.test(_.getElementsByClassName),b.getById=o(function(t){return P.appendChild(t).id=H,!_.getElementsByName||!_.getElementsByName(H).length}),b.getById?(E.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&I){var i=e.getElementById(t);return i?[i]:[]}},E.filter.ID=function(t){var e=t.replace(xt,bt);return function(t){return t.getAttribute("id")===e}}):(delete E.find.ID,E.filter.ID=function(t){var e=t.replace(xt,bt);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),E.find.TAG=b.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):b.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;i=r[o++];)1===i.nodeType&&n.push(i);return n}return r},E.find.CLASS=b.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&I?e.getElementsByClassName(t):void 0},L=[],z=[],(b.qsa=yt.test(_.querySelectorAll))&&(o(function(t){P.appendChild(t).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&z.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||z.push("\\["+it+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+H+"-]").length||z.push("~="),t.querySelectorAll(":checked").length||z.push(":checked"),t.querySelectorAll("a#"+H+"+*").length||z.push(".#.+[+~]")}),o(function(t){var e=_.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&z.push("name"+it+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||z.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),z.push(",.*:")})),(b.matchesSelector=yt.test(V=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&o(function(t){b.disconnectedMatch=V.call(t,"div"),V.call(t,"[s!='']:x"),L.push("!=",rt)}),z=z.length&&new RegExp(z.join("|")),L=L.length&&new RegExp(L.join("|")),e=yt.test(P.compareDocumentPosition),O=e||yt.test(P.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},W=e?function(t,e){if(t===e)return D=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!b.sortDetached&&e.compareDocumentPosition(t)===i?t===_||t.ownerDocument===F&&O(F,t)?-1:e===_||e.ownerDocument===F&&O(F,e)?1:R?tt(R,t)-tt(R,e):0:4&i?-1:1)}:function(t,e){if(t===e)return D=!0,0;var i,n=0,o=t.parentNode,r=e.parentNode,a=[t],u=[e];if(!o||!r)return t===_?-1:e===_?1:o?-1:r?1:R?tt(R,t)-tt(R,e):0;if(o===r)return s(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)u.unshift(i);for(;a[n]===u[n];)n++;return n?s(a[n],u[n]):a[n]===F?-1:u[n]===F?1:0},_):_},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==_&&N(t),i=i.replace(ct,"='$1']"),b.matchesSelector&&I&&!q[i+" "]&&(!L||!L.test(i))&&(!z||!z.test(i)))try{var n=V.call(t,i);if(n||b.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(o){}return e(i,_,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==_&&N(t),O(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==_&&N(t);var i=E.attrHandle[e.toLowerCase()],n=i&&Y.call(E.attrHandle,e.toLowerCase())?i(t,e,!I):void 0;return void 0!==n?n:b.attributes||!I?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,o=0;if(D=!b.detectDuplicates,R=!b.sortStable&&t.slice(0),t.sort(W),D){for(;e=t[o++];)e===t[o]&&(n=i.push(o));for(;n--;)t.splice(i[n],1)}return R=null,t},k=e.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=k(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=k(e);return i},E=e.selectors={cacheLength:50,createPseudo:n,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xt,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(xt,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ht.test(i)&&(e=M(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xt,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=U[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&U(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(o){var r=e.attr(o,t);return null==r?"!="===i:i?(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r.replace(st," ")+" ").indexOf(n)>-1:"|="===i?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,o){var r="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===o?function(t){return!!t.parentNode}:function(e,i,u){var l,c,h,d,p,f,g=r!==s?"nextSibling":"previousSibling",y=e.parentNode,v=a&&e.nodeName.toLowerCase(),m=!u&&!a,A=!1;if(y){if(r){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?y.firstChild:y.lastChild],s&&m){for(d=y,h=d[H]||(d[H]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),l=c[t]||[],p=l[0]===B&&l[1],A=p&&l[2],d=p&&y.childNodes[p];d=++p&&d&&d[g]||(A=p=0)||f.pop();)if(1===d.nodeType&&++A&&d===e){
c[t]=[B,p,A];break}}else if(m&&(d=e,h=d[H]||(d[H]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),l=c[t]||[],p=l[0]===B&&l[1],A=p),A===!1)for(;(d=++p&&d&&d[g]||(A=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++A||(m&&(h=d[H]||(d[H]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),c[t]=[B,A]),d!==e)););return A-=o,A===n||A%n===0&&A/n>=0}}},PSEUDO:function(t,i){var o,r=E.pseudos[t]||E.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[H]?r(i):r.length>1?(o=[t,t,"",i],E.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,o=r(t,i),s=o.length;s--;)n=tt(t,o[s]),t[n]=!(e[n]=o[s])}):function(t){return r(t,0,o)}):r}},pseudos:{not:n(function(t){var e=[],i=[],o=T(t.replace(at,"$1"));return o[H]?n(function(t,e,i,n){for(var r,s=o(t,null,n,[]),a=t.length;a--;)(r=s[a])&&(t[a]=!(e[a]=r))}):function(t,n,r){return e[0]=t,o(e,null,r,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(xt,bt),function(e){return(e.textContent||e.innerText||k(e)).indexOf(t)>-1}}),lang:n(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(xt,bt).toLowerCase(),function(e){var i;do if(i=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===P},focus:function(t){return t===_.activeElement&&(!_.hasFocus||_.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!E.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,i){return[0>i?i+e:i]}),even:l(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:l(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:l(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:l(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},E.pseudos.nth=E.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[x]=a(x);for(x in{submit:!0,reset:!0})E.pseudos[x]=u(x);return h.prototype=E.filters=E.pseudos,E.setFilters=new h,M=e.tokenize=function(t,i){var n,o,r,s,a,u,l,c=G[t+" "];if(c)return i?0:c.slice(0);for(a=t,u=[],l=E.preFilter;a;){n&&!(o=ut.exec(a))||(o&&(a=a.slice(o[0].length)||a),u.push(r=[])),n=!1,(o=lt.exec(a))&&(n=o.shift(),r.push({value:n,type:o[0].replace(at," ")}),a=a.slice(n.length));for(s in E.filter)!(o=pt[s].exec(a))||l[s]&&!(o=l[s](o))||(n=o.shift(),r.push({value:n,type:s,matches:o}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):G(t,u).slice(0)},T=e.compile=function(t,e){var i,n=[],o=[],r=q[t+" "];if(!r){for(e||(e=M(t)),i=e.length;i--;)r=m(e[i]),r[H]?n.push(r):o.push(r);r=q(t,A(o,n)),r.selector=t}return r},C=e.select=function(t,e,i,n){var o,r,s,a,u,l="function"==typeof t&&t,h=!n&&M(t=l.selector||t);if(i=i||[],1===h.length){if(r=h[0]=h[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&b.getById&&9===e.nodeType&&I&&E.relative[r[1].type]){if(e=(E.find.ID(s.matches[0].replace(xt,bt),e)||[])[0],!e)return i;l&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=pt.needsContext.test(t)?0:r.length;o--&&(s=r[o],!E.relative[a=s.type]);)if((u=E.find[a])&&(n=u(s.matches[0].replace(xt,bt),mt.test(r[0].type)&&c(e.parentNode)||e))){if(r.splice(o,1),t=n.length&&d(r),!t)return Q.apply(i,n),i;break}}return(l||T(t,h))(n,e,!I,i,!e||mt.test(t)&&c(e.parentNode)||e),i},b.sortStable=H.split("").sort(W).join("")===H,b.detectDuplicates=!!D,N(),b.sortDetached=o(function(t){return 1&t.compareDocumentPosition(_.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),b.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||r(et,function(t,e,i){var n;return i?void 0:t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(i);lt.find=ft,lt.expr=ft.selectors,lt.expr[":"]=lt.expr.pseudos,lt.uniqueSort=lt.unique=ft.uniqueSort,lt.text=ft.getText,lt.isXMLDoc=ft.isXML,lt.contains=ft.contains;var gt=function(t,e,i){for(var n=[],o=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&lt(t).is(i))break;n.push(t)}return n},yt=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},vt=lt.expr.match.needsContext,mt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,At=/^.[^:#\[\.,]*$/;lt.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?lt.find.matchesSelector(n,t)?[n]:[]:lt.find.matches(t,lt.grep(e,function(t){return 1===t.nodeType}))},lt.fn.extend({find:function(t){var e,i=this.length,n=[],o=this;if("string"!=typeof t)return this.pushStack(lt(t).filter(function(){for(e=0;i>e;e++)if(lt.contains(o[e],this))return!0}));for(e=0;i>e;e++)lt.find(t,o[e],n);return n=this.pushStack(i>1?lt.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(a(this,t||[],!1))},not:function(t){return this.pushStack(a(this,t||[],!0))},is:function(t){return!!a(this,"string"==typeof t&&vt.test(t)?lt(t):t||[],!1).length}});var xt,bt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,Et=lt.fn.init=function(t,e,i){var n,o;if(!t)return this;if(i=i||xt,"string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:bt.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof lt?e[0]:e,lt.merge(this,lt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:Z,!0)),mt.test(n[1])&&lt.isPlainObject(e))for(n in e)lt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return o=Z.getElementById(n[2]),o&&o.parentNode&&(this.length=1,this[0]=o),this.context=Z,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):lt.isFunction(t)?void 0!==i.ready?i.ready(t):t(lt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),lt.makeArray(t,this))};Et.prototype=lt.fn,xt=lt(Z);var kt=/^(?:parents|prev(?:Until|All))/,wt={children:!0,contents:!0,next:!0,prev:!0};lt.fn.extend({has:function(t){var e=lt(t,this),i=e.length;return this.filter(function(){for(var t=0;i>t;t++)if(lt.contains(this,e[t]))return!0})},closest:function(t,e){for(var i,n=0,o=this.length,r=[],s=vt.test(t)||"string"!=typeof t?lt(t,e||this.context):0;o>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&lt.find.matchesSelector(i,t))){r.push(i);break}return this.pushStack(r.length>1?lt.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?nt.call(lt(t),this[0]):nt.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(lt.uniqueSort(lt.merge(this.get(),lt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),lt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return gt(t,"parentNode")},parentsUntil:function(t,e,i){return gt(t,"parentNode",i)},next:function(t){return u(t,"nextSibling")},prev:function(t){return u(t,"previousSibling")},nextAll:function(t){return gt(t,"nextSibling")},prevAll:function(t){return gt(t,"previousSibling")},nextUntil:function(t,e,i){return gt(t,"nextSibling",i)},prevUntil:function(t,e,i){return gt(t,"previousSibling",i)},siblings:function(t){return yt((t.parentNode||{}).firstChild,t)},children:function(t){return yt(t.firstChild)},contents:function(t){return t.contentDocument||lt.merge([],t.childNodes)}},function(t,e){lt.fn[t]=function(i,n){var o=lt.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=lt.filter(n,o)),this.length>1&&(wt[t]||lt.uniqueSort(o),kt.test(t)&&o.reverse()),this.pushStack(o)}});var Mt=/\S+/g;lt.Callbacks=function(t){t="string"==typeof t?l(t):lt.extend({},t);var e,i,n,o,r=[],s=[],a=-1,u=function(){for(o=t.once,n=e=!0;s.length;a=-1)for(i=s.shift();++a<r.length;)r[a].apply(i[0],i[1])===!1&&t.stopOnFalse&&(a=r.length,i=!1);t.memory||(i=!1),e=!1,o&&(r=i?[]:"")},c={add:function(){return r&&(i&&!e&&(a=r.length-1,s.push(i)),function n(e){lt.each(e,function(e,i){lt.isFunction(i)?t.unique&&c.has(i)||r.push(i):i&&i.length&&"string"!==lt.type(i)&&n(i)})}(arguments),i&&!e&&u()),this},remove:function(){return lt.each(arguments,function(t,e){for(var i;(i=lt.inArray(e,r,i))>-1;)r.splice(i,1),a>=i&&a--}),this},has:function(t){return t?lt.inArray(t,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return o=s=[],r=i="",this},disabled:function(){return!r},lock:function(){return o=s=[],i||(r=i=""),this},locked:function(){return!!o},fireWith:function(t,i){return o||(i=i||[],i=[t,i.slice?i.slice():i],s.push(i),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},lt.extend({Deferred:function(t){var e=[["resolve","done",lt.Callbacks("once memory"),"resolved"],["reject","fail",lt.Callbacks("once memory"),"rejected"],["notify","progress",lt.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return lt.Deferred(function(i){lt.each(e,function(e,r){var s=lt.isFunction(t[e])&&t[e];o[r[1]](function(){var t=s&&s.apply(this,arguments);t&&lt.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[r[0]+"With"](this===n?i.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?lt.extend(t,n):n}},o={};return n.pipe=n.then,lt.each(e,function(t,r){var s=r[2],a=r[3];n[r[1]]=s.add,a&&s.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?n:this,arguments),this},o[r[0]+"With"]=s.fireWith}),n.promise(o),t&&t.call(o,o),o},when:function(t){var e,i,n,o=0,r=tt.call(arguments),s=r.length,a=1!==s||t&&lt.isFunction(t.promise)?s:0,u=1===a?t:lt.Deferred(),l=function(t,i,n){return function(o){i[t]=this,n[t]=arguments.length>1?tt.call(arguments):o,n===e?u.notifyWith(i,n):--a||u.resolveWith(i,n)}};if(s>1)for(e=new Array(s),i=new Array(s),n=new Array(s);s>o;o++)r[o]&&lt.isFunction(r[o].promise)?r[o].promise().progress(l(o,i,e)).done(l(o,n,r)).fail(u.reject):--a;return a||u.resolveWith(n,r),u.promise()}});var Tt;lt.fn.ready=function(t){return lt.ready.promise().done(t),this},lt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?lt.readyWait++:lt.ready(!0)},ready:function(t){(t===!0?--lt.readyWait:lt.isReady)||(lt.isReady=!0,t!==!0&&--lt.readyWait>0||(Tt.resolveWith(Z,[lt]),lt.fn.triggerHandler&&(lt(Z).triggerHandler("ready"),lt(Z).off("ready"))))}}),lt.ready.promise=function(t){return Tt||(Tt=lt.Deferred(),"complete"===Z.readyState||"loading"!==Z.readyState&&!Z.documentElement.doScroll?i.setTimeout(lt.ready):(Z.addEventListener("DOMContentLoaded",c),i.addEventListener("load",c))),Tt.promise(t)},lt.ready.promise();var Ct=function(t,e,i,n,o,r,s){var a=0,u=t.length,l=null==i;if("object"===lt.type(i)){o=!0;for(a in i)Ct(t,e,a,i[a],!0,r,s)}else if(void 0!==n&&(o=!0,lt.isFunction(n)||(s=!0),l&&(s?(e.call(t,n),e=null):(l=e,e=function(t,e,i){return l.call(lt(t),i)})),e))for(;u>a;a++)e(t[a],i,s?n:n.call(t[a],a,e(t[a],i)));return o?t:l?e.call(t):u?e(t[0],i):r},St=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};h.uid=1,h.prototype={register:function(t,e){var i=e||{};return t.nodeType?t[this.expando]=i:Object.defineProperty(t,this.expando,{value:i,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!St(t))return{};var e=t[this.expando];return e||(e={},St(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,o=this.cache(t);if("string"==typeof e)o[e]=i;else for(n in e)o[n]=e[n];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,i){var n;return void 0===e||e&&"string"==typeof e&&void 0===i?(n=this.get(t,e),void 0!==n?n:this.get(t,lt.camelCase(e))):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n,o,r=t[this.expando];if(void 0!==r){if(void 0===e)this.register(t);else{lt.isArray(e)?n=e.concat(e.map(lt.camelCase)):(o=lt.camelCase(e),e in r?n=[e,o]:(n=o,n=n in r?[n]:n.match(Mt)||[])),i=n.length;for(;i--;)delete r[n[i]]}(void 0===e||lt.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!lt.isEmptyObject(e)}};var Rt=new h,Dt=new h,Nt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_t=/[A-Z]/g;lt.extend({hasData:function(t){return Dt.hasData(t)||Rt.hasData(t)},data:function(t,e,i){return Dt.access(t,e,i)},removeData:function(t,e){Dt.remove(t,e)},_data:function(t,e,i){return Rt.access(t,e,i)},_removeData:function(t,e){Rt.remove(t,e)}}),lt.fn.extend({data:function(t,e){var i,n,o,r=this[0],s=r&&r.attributes;if(void 0===t){if(this.length&&(o=Dt.get(r),1===r.nodeType&&!Rt.get(r,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&(n=s[i].name,0===n.indexOf("data-")&&(n=lt.camelCase(n.slice(5)),d(r,n,o[n])));Rt.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each(function(){Dt.set(this,t)}):Ct(this,function(e){var i,n;if(r&&void 0===e){if(i=Dt.get(r,t)||Dt.get(r,t.replace(_t,"-$&").toLowerCase()),void 0!==i)return i;if(n=lt.camelCase(t),i=Dt.get(r,n),void 0!==i)return i;if(i=d(r,n,void 0),void 0!==i)return i}else n=lt.camelCase(t),this.each(function(){var i=Dt.get(this,n);Dt.set(this,n,e),t.indexOf("-")>-1&&void 0!==i&&Dt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Dt.remove(this,t)})}}),lt.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=Rt.get(t,e),i&&(!n||lt.isArray(i)?n=Rt.access(t,e,lt.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=lt.queue(t,e),n=i.length,o=i.shift(),r=lt._queueHooks(t,e),s=function(){lt.dequeue(t,e)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete r.stop,o.call(t,s,r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return Rt.get(t,i)||Rt.access(t,i,{empty:lt.Callbacks("once memory").add(function(){Rt.remove(t,[e+"queue",i])})})}}),lt.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?lt.queue(this[0],t):void 0===e?this:this.each(function(){var i=lt.queue(this,t,e);lt._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&lt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){lt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,o=lt.Deferred(),r=this,s=this.length,a=function(){--n||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)i=Rt.get(r[s],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),o.promise(e)}});var Pt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,It=new RegExp("^(?:([+-])=|)("+Pt+")([a-z%]*)$","i"),zt=["Top","Right","Bottom","Left"],Lt=function(t,e){return t=e||t,"none"===lt.css(t,"display")||!lt.contains(t.ownerDocument,t)},Vt=/^(?:checkbox|radio)$/i,Ot=/<([\w:-]+)/,Ht=/^$|\/(?:java|ecma)script/i,Ft={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ft.optgroup=Ft.option,Ft.tbody=Ft.tfoot=Ft.colgroup=Ft.caption=Ft.thead,Ft.th=Ft.td;var Bt=/<|&#?\w+;/;!function(){var t=Z.createDocumentFragment(),e=t.appendChild(Z.createElement("div")),i=Z.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),at.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",at.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var jt=/^key/,Ut=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Gt=/^([^.]*)(?:\.(.+)|)/;lt.event={global:{},add:function(t,e,i,n,o){var r,s,a,u,l,c,h,d,p,f,g,y=Rt.get(t);if(y)for(i.handler&&(r=i,i=r.handler,o=r.selector),i.guid||(i.guid=lt.guid++),(u=y.events)||(u=y.events={}),(s=y.handle)||(s=y.handle=function(e){return"undefined"!=typeof lt&&lt.event.triggered!==e.type?lt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Mt)||[""],l=e.length;l--;)a=Gt.exec(e[l])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p&&(h=lt.event.special[p]||{},p=(o?h.delegateType:h.bindType)||p,h=lt.event.special[p]||{},c=lt.extend({type:p,origType:g,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&lt.expr.match.needsContext.test(o),namespace:f.join(".")},r),(d=u[p])||(d=u[p]=[],d.delegateCount=0,h.setup&&h.setup.call(t,n,f,s)!==!1||t.addEventListener&&t.addEventListener(p,s)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),o?d.splice(d.delegateCount++,0,c):d.push(c),lt.event.global[p]=!0)},remove:function(t,e,i,n,o){var r,s,a,u,l,c,h,d,p,f,g,y=Rt.hasData(t)&&Rt.get(t);if(y&&(u=y.events)){for(e=(e||"").match(Mt)||[""],l=e.length;l--;)if(a=Gt.exec(e[l])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p){for(h=lt.event.special[p]||{},p=(n?h.delegateType:h.bindType)||p,d=u[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=d.length;r--;)c=d[r],!o&&g!==c.origType||i&&i.guid!==c.guid||a&&!a.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(d.splice(r,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(t,c));s&&!d.length&&(h.teardown&&h.teardown.call(t,f,y.handle)!==!1||lt.removeEvent(t,p,y.handle),delete u[p])}else for(p in u)lt.event.remove(t,p+e[l],i,n,!0);lt.isEmptyObject(u)&&Rt.remove(t,"handle events")}},dispatch:function(t){t=lt.event.fix(t);var e,i,n,o,r,s=[],a=tt.call(arguments),u=(Rt.get(this,"events")||{})[t.type]||[],l=lt.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(s=lt.event.handlers.call(this,t,u),e=0;(o=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,i=0;(r=o.handlers[i++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(r.namespace)||(t.handleObj=r,t.data=r.data,n=((lt.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,a),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,o,r,s=[],a=e.delegateCount,u=t.target;if(a&&u.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==t.type)){for(n=[],i=0;a>i;i++)r=e[i],o=r.selector+" ",void 0===n[o]&&(n[o]=r.needsContext?lt(o,this).index(u)>-1:lt.find(o,this,null,[u]).length),n[o]&&n.push(r);n.length&&s.push({elem:u,handlers:n})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,o,r=e.button;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||Z,n=i.documentElement,o=i.body,t.pageX=e.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},fix:function(t){if(t[lt.expando])return t;var e,i,n,o=t.type,r=t,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=Ut.test(o)?this.mouseHooks:jt.test(o)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,t=new lt.Event(r),e=n.length;e--;)i=n[e],t[i]=r[i];return t.target||(t.target=Z),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,r):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==A()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===A()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&lt.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return lt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},lt.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},lt.Event=function(t,e){return this instanceof lt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?v:m):this.type=t,e&&lt.extend(this,e),this.timeStamp=t&&t.timeStamp||lt.now(),void(this[lt.expando]=!0)):new lt.Event(t,e)},lt.Event.prototype={constructor:lt.Event,isDefaultPrevented:m,isPropagationStopped:m,isImmediatePropagationStopped:m,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=v,t&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=v,t&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=v,t&&t.stopImmediatePropagation(),this.stopPropagation()}},lt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){lt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,o=t.relatedTarget,r=t.handleObj;return o&&(o===n||lt.contains(n,o))||(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}}),lt.fn.extend({on:function(t,e,i,n){return x(this,t,e,i,n)},one:function(t,e,i,n){return x(this,t,e,i,n,1)},off:function(t,e,i){var n,o;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,lt(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return e!==!1&&"function"!=typeof e||(i=e,e=void 0),i===!1&&(i=m),this.each(function(){lt.event.remove(this,t,i,e)})}});var qt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Wt=/<script|<style|<link/i,Kt=/checked\s*(?:[^=]|=\s*.checked.)/i,Yt=/^true\/(.*)/,Xt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;lt.extend({htmlPrefilter:function(t){return t.replace(qt,"<$1></$2>")},clone:function(t,e,i){var n,o,r,s,a=t.cloneNode(!0),u=lt.contains(t.ownerDocument,t);if(!(at.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||lt.isXMLDoc(t)))for(s=f(a),r=f(t),n=0,o=r.length;o>n;n++)M(r[n],s[n]);if(e)if(i)for(r=r||f(t),s=s||f(a),n=0,o=r.length;o>n;n++)w(r[n],s[n]);else w(t,a);return s=f(a,"script"),s.length>0&&g(s,!u&&f(t,"script")),a},cleanData:function(t){for(var e,i,n,o=lt.event.special,r=0;void 0!==(i=t[r]);r++)if(St(i)){if(e=i[Rt.expando]){if(e.events)for(n in e.events)o[n]?lt.event.remove(i,n):lt.removeEvent(i,n,e.handle);i[Rt.expando]=void 0}i[Dt.expando]&&(i[Dt.expando]=void 0)}}}),lt.fn.extend({domManip:T,detach:function(t){return C(this,t,!0)},remove:function(t){return C(this,t)},text:function(t){return Ct(this,function(t){return void 0===t?lt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return T(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=b(this,t);e.appendChild(t)}})},prepend:function(){return T(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=b(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return T(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return T(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(lt.cleanData(f(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return lt.clone(this,t,e)})},html:function(t){return Ct(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Wt.test(t)&&!Ft[(Ot.exec(t)||["",""])[1].toLowerCase()]){t=lt.htmlPrefilter(t);try{for(;n>i;i++)e=this[i]||{},1===e.nodeType&&(lt.cleanData(f(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return T(this,arguments,function(e){var i=this.parentNode;lt.inArray(this,t)<0&&(lt.cleanData(f(this)),i&&i.replaceChild(e,this))},t)}}),lt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){lt.fn[t]=function(t){for(var i,n=[],o=lt(t),r=o.length-1,s=0;r>=s;s++)i=s===r?this:this.clone(!0),lt(o[s])[e](i),it.apply(n,i.get());return this.pushStack(n)}});var $t,Jt={HTML:"block",BODY:"block"},Qt=/^margin/,Zt=new RegExp("^("+Pt+")(?!px)[a-z%]+$","i"),te=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=i),e.getComputedStyle(t)},ee=function(t,e,i,n){var o,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];o=i.apply(t,n||[]);for(r in e)t.style[r]=s[r];return o},ie=Z.documentElement;!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",ie.appendChild(s);var t=i.getComputedStyle(a);e="1%"!==t.top,r="2px"===t.marginLeft,n="4px"===t.width,a.style.marginRight="50%",o="4px"===t.marginRight,ie.removeChild(s)}var e,n,o,r,s=Z.createElement("div"),a=Z.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",at.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),lt.extend(at,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return null==n&&t(),n},pixelMarginRight:function(){return null==n&&t(),o},reliableMarginLeft:function(){return null==n&&t(),r},reliableMarginRight:function(){var t,e=a.appendChild(Z.createElement("div"));return e.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",a.style.width="1px",ie.appendChild(s),t=!parseFloat(i.getComputedStyle(e).marginRight),ie.removeChild(s),a.removeChild(e),t}}))}();var ne=/^(none|table(?!-c[ea]).+)/,oe={position:"absolute",visibility:"hidden",display:"block"},re={letterSpacing:"0",fontWeight:"400"},se=["Webkit","O","Moz","ms"],ae=Z.createElement("div").style;lt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=D(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,s,a=lt.camelCase(e),u=t.style;return e=lt.cssProps[a]||(lt.cssProps[a]=_(a)||a),s=lt.cssHooks[e]||lt.cssHooks[a],void 0===i?s&&"get"in s&&void 0!==(o=s.get(t,!1,n))?o:u[e]:(r=typeof i,"string"===r&&(o=It.exec(i))&&o[1]&&(i=p(t,e,o),r="number"),null!=i&&i===i&&("number"===r&&(i+=o&&o[3]||(lt.cssNumber[a]?"":"px")),at.clearCloneStyle||""!==i||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(i=s.set(t,i,n))||(u[e]=i)),void 0)}},css:function(t,e,i,n){var o,r,s,a=lt.camelCase(e);return e=lt.cssProps[a]||(lt.cssProps[a]=_(a)||a),s=lt.cssHooks[e]||lt.cssHooks[a],s&&"get"in s&&(o=s.get(t,!0,i)),void 0===o&&(o=D(t,e,n)),"normal"===o&&e in re&&(o=re[e]),""===i||i?(r=parseFloat(o),i===!0||isFinite(r)?r||0:o):o}}),lt.each(["height","width"],function(t,e){lt.cssHooks[e]={get:function(t,i,n){return i?ne.test(lt.css(t,"display"))&&0===t.offsetWidth?ee(t,oe,function(){return z(t,e,n)}):z(t,e,n):void 0},set:function(t,i,n){var o,r=n&&te(t),s=n&&I(t,e,n,"border-box"===lt.css(t,"boxSizing",!1,r),r);return s&&(o=It.exec(i))&&"px"!==(o[3]||"px")&&(t.style[e]=i,i=lt.css(t,e)),P(t,i,s)}}}),lt.cssHooks.marginLeft=N(at.reliableMarginLeft,function(t,e){return e?(parseFloat(D(t,"marginLeft"))||t.getBoundingClientRect().left-ee(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px":void 0}),lt.cssHooks.marginRight=N(at.reliableMarginRight,function(t,e){return e?ee(t,{display:"inline-block"},D,[t,"marginRight"]):void 0}),lt.each({margin:"",padding:"",border:"Width"},function(t,e){lt.cssHooks[t+e]={expand:function(i){for(var n=0,o={},r="string"==typeof i?i.split(" "):[i];4>n;n++)o[t+zt[n]+e]=r[n]||r[n-2]||r[0];return o}},Qt.test(t)||(lt.cssHooks[t+e].set=P)}),lt.fn.extend({css:function(t,e){return Ct(this,function(t,e,i){var n,o,r={},s=0;if(lt.isArray(e)){for(n=te(t),o=e.length;o>s;s++)r[e[s]]=lt.css(t,e[s],!1,n);return r}return void 0!==i?lt.style(t,e,i):lt.css(t,e)},t,e,arguments.length>1)},show:function(){return L(this,!0)},hide:function(){return L(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Lt(this)?lt(this).show():lt(this).hide()})}}),lt.Tween=V,V.prototype={constructor:V,init:function(t,e,i,n,o,r){this.elem=t,this.prop=i,this.easing=o||lt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(lt.cssNumber[i]?"":"px")},cur:function(){var t=V.propHooks[this.prop];return t&&t.get?t.get(this):V.propHooks._default.get(this)},run:function(t){var e,i=V.propHooks[this.prop];return this.options.duration?this.pos=e=lt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):V.propHooks._default.set(this),this}},V.prototype.init.prototype=V.prototype,V.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=lt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){lt.fx.step[t.prop]?lt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[lt.cssProps[t.prop]]&&!lt.cssHooks[t.prop]?t.elem[t.prop]=t.now:lt.style(t.elem,t.prop,t.now+t.unit)}}},V.propHooks.scrollTop=V.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},lt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},lt.fx=V.prototype.init,lt.fx.step={};var ue,le,ce=/^(?:toggle|show|hide)$/,he=/queueHooks$/;lt.Animation=lt.extend(U,{tweeners:{
"*":[function(t,e){var i=this.createTween(t,e);return p(i.elem,t,It.exec(e),i),i}]},tweener:function(t,e){lt.isFunction(t)?(e=t,t=["*"]):t=t.match(Mt);for(var i,n=0,o=t.length;o>n;n++)i=t[n],U.tweeners[i]=U.tweeners[i]||[],U.tweeners[i].unshift(e)},prefilters:[B],prefilter:function(t,e){e?U.prefilters.unshift(t):U.prefilters.push(t)}}),lt.speed=function(t,e,i){var n=t&&"object"==typeof t?lt.extend({},t):{complete:i||!i&&e||lt.isFunction(t)&&t,duration:t,easing:i&&e||e&&!lt.isFunction(e)&&e};return n.duration=lt.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in lt.fx.speeds?lt.fx.speeds[n.duration]:lt.fx.speeds._default,null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){lt.isFunction(n.old)&&n.old.call(this),n.queue&&lt.dequeue(this,n.queue)},n},lt.fn.extend({fadeTo:function(t,e,i,n){return this.filter(Lt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var o=lt.isEmptyObject(t),r=lt.speed(e,i,n),s=function(){var e=U(this,lt.extend({},t),r);(o||Rt.get(this,"finish"))&&e.stop(!0)};return s.finish=s,o||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",r=lt.timers,s=Rt.get(this);if(o)s[o]&&s[o].stop&&n(s[o]);else for(o in s)s[o]&&s[o].stop&&he.test(o)&&n(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(i),e=!1,r.splice(o,1));!e&&i||lt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=Rt.get(this),n=i[t+"queue"],o=i[t+"queueHooks"],r=lt.timers,s=n?n.length:0;for(i.finish=!0,lt.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;s>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),lt.each(["toggle","show","hide"],function(t,e){var i=lt.fn[e];lt.fn[e]=function(t,n,o){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(H(e,!0),t,n,o)}}),lt.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){lt.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),lt.timers=[],lt.fx.tick=function(){var t,e=0,i=lt.timers;for(ue=lt.now();e<i.length;e++)t=i[e],t()||i[e]!==t||i.splice(e--,1);i.length||lt.fx.stop(),ue=void 0},lt.fx.timer=function(t){lt.timers.push(t),t()?lt.fx.start():lt.timers.pop()},lt.fx.interval=13,lt.fx.start=function(){le||(le=i.setInterval(lt.fx.tick,lt.fx.interval))},lt.fx.stop=function(){i.clearInterval(le),le=null},lt.fx.speeds={slow:600,fast:200,_default:400},lt.fn.delay=function(t,e){return t=lt.fx?lt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var o=i.setTimeout(e,t);n.stop=function(){i.clearTimeout(o)}})},function(){var t=Z.createElement("input"),e=Z.createElement("select"),i=e.appendChild(Z.createElement("option"));t.type="checkbox",at.checkOn=""!==t.value,at.optSelected=i.selected,e.disabled=!0,at.optDisabled=!i.disabled,t=Z.createElement("input"),t.value="t",t.type="radio",at.radioValue="t"===t.value}();var de,pe=lt.expr.attrHandle;lt.fn.extend({attr:function(t,e){return Ct(this,lt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){lt.removeAttr(this,t)})}}),lt.extend({attr:function(t,e,i){var n,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof t.getAttribute?lt.prop(t,e,i):(1===r&&lt.isXMLDoc(t)||(e=e.toLowerCase(),o=lt.attrHooks[e]||(lt.expr.match.bool.test(e)?de:void 0)),void 0!==i?null===i?void lt.removeAttr(t,e):o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:(t.setAttribute(e,i+""),i):o&&"get"in o&&null!==(n=o.get(t,e))?n:(n=lt.find.attr(t,e),null==n?void 0:n))},attrHooks:{type:{set:function(t,e){if(!at.radioValue&&"radio"===e&&lt.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n,o=0,r=e&&e.match(Mt);if(r&&1===t.nodeType)for(;i=r[o++];)n=lt.propFix[i]||i,lt.expr.match.bool.test(i)&&(t[n]=!1),t.removeAttribute(i)}}),de={set:function(t,e,i){return e===!1?lt.removeAttr(t,i):t.setAttribute(i,i),i}},lt.each(lt.expr.match.bool.source.match(/\w+/g),function(t,e){var i=pe[e]||lt.find.attr;pe[e]=function(t,e,n){var o,r;return n||(r=pe[e],pe[e]=o,o=null!=i(t,e,n)?e.toLowerCase():null,pe[e]=r),o}});var fe=/^(?:input|select|textarea|button)$/i,ge=/^(?:a|area)$/i;lt.fn.extend({prop:function(t,e){return Ct(this,lt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[lt.propFix[t]||t]})}}),lt.extend({prop:function(t,e,i){var n,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&lt.isXMLDoc(t)||(e=lt.propFix[e]||e,o=lt.propHooks[e]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:t[e]=i:o&&"get"in o&&null!==(n=o.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=lt.find.attr(t,"tabindex");return e?parseInt(e,10):fe.test(t.nodeName)||ge.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),at.optSelected||(lt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),lt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){lt.propFix[this.toLowerCase()]=this});var ye=/[\t\r\n\f]/g;lt.fn.extend({addClass:function(t){var e,i,n,o,r,s,a,u=0;if(lt.isFunction(t))return this.each(function(e){lt(this).addClass(t.call(this,e,G(this)))});if("string"==typeof t&&t)for(e=t.match(Mt)||[];i=this[u++];)if(o=G(i),n=1===i.nodeType&&(" "+o+" ").replace(ye," ")){for(s=0;r=e[s++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");a=lt.trim(n),o!==a&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,o,r,s,a,u=0;if(lt.isFunction(t))return this.each(function(e){lt(this).removeClass(t.call(this,e,G(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Mt)||[];i=this[u++];)if(o=G(i),n=1===i.nodeType&&(" "+o+" ").replace(ye," ")){for(s=0;r=e[s++];)for(;n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");a=lt.trim(n),o!==a&&i.setAttribute("class",a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):lt.isFunction(t)?this.each(function(i){lt(this).toggleClass(t.call(this,i,G(this),e),e)}):this.each(function(){var e,n,o,r;if("string"===i)for(n=0,o=lt(this),r=t.match(Mt)||[];e=r[n++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==i||(e=G(this),e&&Rt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":Rt.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+G(i)+" ").replace(ye," ").indexOf(e)>-1)return!0;return!1}});var ve=/\r/g,me=/[\x20\t\r\n\f]+/g;lt.fn.extend({val:function(t){var e,i,n,o=this[0];{if(arguments.length)return n=lt.isFunction(t),this.each(function(i){var o;1===this.nodeType&&(o=n?t.call(this,i,lt(this).val()):t,null==o?o="":"number"==typeof o?o+="":lt.isArray(o)&&(o=lt.map(o,function(t){return null==t?"":t+""})),e=lt.valHooks[this.type]||lt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))});if(o)return e=lt.valHooks[o.type]||lt.valHooks[o.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(o,"value"))?i:(i=o.value,"string"==typeof i?i.replace(ve,""):null==i?"":i)}}}),lt.extend({valHooks:{option:{get:function(t){var e=lt.find.attr(t,"value");return null!=e?e:lt.trim(lt.text(t)).replace(me," ")}},select:{get:function(t){for(var e,i,n=t.options,o=t.selectedIndex,r="select-one"===t.type||0>o,s=r?null:[],a=r?o+1:n.length,u=0>o?a:r?o:0;a>u;u++)if(i=n[u],(i.selected||u===o)&&(at.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!lt.nodeName(i.parentNode,"optgroup"))){if(e=lt(i).val(),r)return e;s.push(e)}return s},set:function(t,e){for(var i,n,o=t.options,r=lt.makeArray(e),s=o.length;s--;)n=o[s],(n.selected=lt.inArray(lt.valHooks.option.get(n),r)>-1)&&(i=!0);return i||(t.selectedIndex=-1),r}}}}),lt.each(["radio","checkbox"],function(){lt.valHooks[this]={set:function(t,e){return lt.isArray(e)?t.checked=lt.inArray(lt(t).val(),e)>-1:void 0}},at.checkOn||(lt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Ae=/^(?:focusinfocus|focusoutblur)$/;lt.extend(lt.event,{trigger:function(t,e,n,o){var r,s,a,u,l,c,h,d=[n||Z],p=st.call(t,"type")?t.type:t,f=st.call(t,"namespace")?t.namespace.split("."):[];if(s=a=n=n||Z,3!==n.nodeType&&8!==n.nodeType&&!Ae.test(p+lt.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),l=p.indexOf(":")<0&&"on"+p,t=t[lt.expando]?t:new lt.Event(p,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:lt.makeArray(e,[t]),h=lt.event.special[p]||{},o||!h.trigger||h.trigger.apply(n,e)!==!1)){if(!o&&!h.noBubble&&!lt.isWindow(n)){for(u=h.delegateType||p,Ae.test(u+p)||(s=s.parentNode);s;s=s.parentNode)d.push(s),a=s;a===(n.ownerDocument||Z)&&d.push(a.defaultView||a.parentWindow||i)}for(r=0;(s=d[r++])&&!t.isPropagationStopped();)t.type=r>1?u:h.bindType||p,c=(Rt.get(s,"events")||{})[t.type]&&Rt.get(s,"handle"),c&&c.apply(s,e),c=l&&s[l],c&&c.apply&&St(s)&&(t.result=c.apply(s,e),t.result===!1&&t.preventDefault());return t.type=p,o||t.isDefaultPrevented()||h._default&&h._default.apply(d.pop(),e)!==!1||!St(n)||l&&lt.isFunction(n[p])&&!lt.isWindow(n)&&(a=n[l],a&&(n[l]=null),lt.event.triggered=p,n[p](),lt.event.triggered=void 0,a&&(n[l]=a)),t.result}},simulate:function(t,e,i){var n=lt.extend(new lt.Event,i,{type:t,isSimulated:!0});lt.event.trigger(n,null,e),n.isDefaultPrevented()&&i.preventDefault()}}),lt.fn.extend({trigger:function(t,e){return this.each(function(){lt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?lt.event.trigger(t,e,i,!0):void 0}}),lt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){lt.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),lt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),at.focusin="onfocusin"in i,at.focusin||lt.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){lt.event.simulate(e,t.target,lt.event.fix(t))};lt.event.special[e]={setup:function(){var n=this.ownerDocument||this,o=Rt.access(n,e);o||n.addEventListener(t,i,!0),Rt.access(n,e,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=Rt.access(n,e)-1;o?Rt.access(n,e,o):(n.removeEventListener(t,i,!0),Rt.remove(n,e))}}});var xe=i.location,be=lt.now(),Ee=/\?/;lt.parseJSON=function(t){return JSON.parse(t+"")},lt.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new i.DOMParser).parseFromString(t,"text/xml")}catch(n){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||lt.error("Invalid XML: "+t),e};var ke=/#.*$/,we=/([?&])_=[^&]*/,Me=/^(.*?):[ \t]*([^\r\n]*)$/gm,Te=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ce=/^(?:GET|HEAD)$/,Se=/^\/\//,Re={},De={},Ne="*/".concat("*"),_e=Z.createElement("a");_e.href=xe.href,lt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xe.href,type:"GET",isLocal:Te.test(xe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ne,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":lt.parseJSON,"text xml":lt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?K(K(t,lt.ajaxSettings),e):K(lt.ajaxSettings,t)},ajaxPrefilter:q(Re),ajaxTransport:q(De),ajax:function(t,e){function n(t,e,n,a){var l,h,m,A,b,k=e;2!==x&&(x=2,u&&i.clearTimeout(u),o=void 0,s=a||"",E.readyState=t>0?4:0,l=t>=200&&300>t||304===t,n&&(A=Y(d,E,n)),A=X(d,A,E,l),l?(d.ifModified&&(b=E.getResponseHeader("Last-Modified"),b&&(lt.lastModified[r]=b),b=E.getResponseHeader("etag"),b&&(lt.etag[r]=b)),204===t||"HEAD"===d.type?k="nocontent":304===t?k="notmodified":(k=A.state,h=A.data,m=A.error,l=!m)):(m=k,!t&&k||(k="error",0>t&&(t=0))),E.status=t,E.statusText=(e||k)+"",l?g.resolveWith(p,[h,k,E]):g.rejectWith(p,[E,k,m]),E.statusCode(v),v=void 0,c&&f.trigger(l?"ajaxSuccess":"ajaxError",[E,d,l?h:m]),y.fireWith(p,[E,k]),c&&(f.trigger("ajaxComplete",[E,d]),--lt.active||lt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var o,r,s,a,u,l,c,h,d=lt.ajaxSetup({},e),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?lt(p):lt.event,g=lt.Deferred(),y=lt.Callbacks("once memory"),v=d.statusCode||{},m={},A={},x=0,b="canceled",E={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!a)for(a={};e=Me.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?s:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return x||(t=A[i]=A[i]||t,m[t]=e),this},overrideMimeType:function(t){return x||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>x)for(e in t)v[e]=[v[e],t[e]];else E.always(t[E.status]);return this},abort:function(t){var e=t||b;return o&&o.abort(e),n(0,e),this}};if(g.promise(E).complete=y.add,E.success=E.done,E.error=E.fail,d.url=((t||d.url||xe.href)+"").replace(ke,"").replace(Se,xe.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=lt.trim(d.dataType||"*").toLowerCase().match(Mt)||[""],null==d.crossDomain){l=Z.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=_e.protocol+"//"+_e.host!=l.protocol+"//"+l.host}catch(k){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=lt.param(d.data,d.traditional)),W(Re,d,e,E),2===x)return E;c=lt.event&&d.global,c&&0===lt.active++&&lt.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ce.test(d.type),r=d.url,d.hasContent||(d.data&&(r=d.url+=(Ee.test(r)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=we.test(r)?r.replace(we,"$1_="+be++):r+(Ee.test(r)?"&":"?")+"_="+be++)),d.ifModified&&(lt.lastModified[r]&&E.setRequestHeader("If-Modified-Since",lt.lastModified[r]),lt.etag[r]&&E.setRequestHeader("If-None-Match",lt.etag[r])),(d.data&&d.hasContent&&d.contentType!==!1||e.contentType)&&E.setRequestHeader("Content-Type",d.contentType),E.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ne+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)E.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(d.beforeSend.call(p,E,d)===!1||2===x))return E.abort();b="abort";for(h in{success:1,error:1,complete:1})E[h](d[h]);if(o=W(De,d,e,E)){if(E.readyState=1,c&&f.trigger("ajaxSend",[E,d]),2===x)return E;d.async&&d.timeout>0&&(u=i.setTimeout(function(){E.abort("timeout")},d.timeout));try{x=1,o.send(m,n)}catch(k){if(!(2>x))throw k;n(-1,k)}}else n(-1,"No Transport");return E},getJSON:function(t,e,i){return lt.get(t,e,i,"json")},getScript:function(t,e){return lt.get(t,void 0,e,"script")}}),lt.each(["get","post"],function(t,e){lt[e]=function(t,i,n,o){return lt.isFunction(i)&&(o=o||n,n=i,i=void 0),lt.ajax(lt.extend({url:t,type:e,dataType:o,data:i,success:n},lt.isPlainObject(t)&&t))}}),lt._evalUrl=function(t){return lt.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},lt.fn.extend({wrapAll:function(t){var e;return lt.isFunction(t)?this.each(function(e){lt(this).wrapAll(t.call(this,e))}):(this[0]&&(e=lt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return lt.isFunction(t)?this.each(function(e){lt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=lt(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=lt.isFunction(t);return this.each(function(i){lt(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){lt.nodeName(this,"body")||lt(this).replaceWith(this.childNodes)}).end()}}),lt.expr.filters.hidden=function(t){return!lt.expr.filters.visible(t)},lt.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var Pe=/%20/g,Ie=/\[\]$/,ze=/\r?\n/g,Le=/^(?:submit|button|image|reset|file)$/i,Ve=/^(?:input|select|textarea|keygen)/i;lt.param=function(t,e){var i,n=[],o=function(t,e){e=lt.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=lt.ajaxSettings&&lt.ajaxSettings.traditional),lt.isArray(t)||t.jquery&&!lt.isPlainObject(t))lt.each(t,function(){o(this.name,this.value)});else for(i in t)$(i,t[i],e,o);return n.join("&").replace(Pe,"+")},lt.fn.extend({serialize:function(){return lt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=lt.prop(this,"elements");return t?lt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!lt(this).is(":disabled")&&Ve.test(this.nodeName)&&!Le.test(t)&&(this.checked||!Vt.test(t))}).map(function(t,e){var i=lt(this).val();return null==i?null:lt.isArray(i)?lt.map(i,function(t){return{name:e.name,value:t.replace(ze,"\r\n")}}):{name:e.name,value:i.replace(ze,"\r\n")}}).get()}}),lt.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(t){}};var Oe={0:200,1223:204},He=lt.ajaxSettings.xhr();at.cors=!!He&&"withCredentials"in He,at.ajax=He=!!He,lt.ajaxTransport(function(t){var e,n;return at.cors||He&&!t.crossDomain?{send:function(o,r){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(s in o)a.setRequestHeader(s,o[s]);e=function(t){return function(){e&&(e=n=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?r(0,"error"):r(a.status,a.statusText):r(Oe[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),n=a.onerror=e("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&i.setTimeout(function(){e&&n()})},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(u){if(e)throw u}},abort:function(){e&&e()}}:void 0}),lt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return lt.globalEval(t),t}}}),lt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),lt.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,o){e=lt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&o("error"===t.type?404:200,t.type)}),Z.head.appendChild(e[0])},abort:function(){i&&i()}}}});var Fe=[],Be=/(=)\?(?=&|$)|\?\?/;lt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Fe.pop()||lt.expando+"_"+be++;return this[t]=!0,t}}),lt.ajaxPrefilter("json jsonp",function(t,e,n){var o,r,s,a=t.jsonp!==!1&&(Be.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Be.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(o=t.jsonpCallback=lt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Be,"$1"+o):t.jsonp!==!1&&(t.url+=(Ee.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return s||lt.error(o+" was not called"),s[0]},t.dataTypes[0]="json",r=i[o],i[o]=function(){s=arguments},n.always(function(){void 0===r?lt(i).removeProp(o):i[o]=r,t[o]&&(t.jsonpCallback=e.jsonpCallback,Fe.push(o)),s&&lt.isFunction(r)&&r(s[0]),s=r=void 0}),"script"):void 0}),lt.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||Z;var n=mt.exec(t),o=!i&&[];return n?[e.createElement(n[1])]:(n=y([t],e,o),o&&o.length&&lt(o).remove(),lt.merge([],n.childNodes))};var je=lt.fn.load;lt.fn.load=function(t,e,i){if("string"!=typeof t&&je)return je.apply(this,arguments);var n,o,r,s=this,a=t.indexOf(" ");return a>-1&&(n=lt.trim(t.slice(a)),t=t.slice(0,a)),lt.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(o="POST"),s.length>0&&lt.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){r=arguments,s.html(n?lt("<div>").append(lt.parseHTML(t)).find(n):t)}).always(i&&function(t,e){s.each(function(){i.apply(this,r||[t.responseText,e,t])})}),this},lt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){lt.fn[e]=function(t){return this.on(e,t)}}),lt.expr.filters.animated=function(t){return lt.grep(lt.timers,function(e){return t===e.elem}).length},lt.offset={setOffset:function(t,e,i){var n,o,r,s,a,u,l,c=lt.css(t,"position"),h=lt(t),d={};"static"===c&&(t.style.position="relative"),a=h.offset(),r=lt.css(t,"top"),u=lt.css(t,"left"),l=("absolute"===c||"fixed"===c)&&(r+u).indexOf("auto")>-1,l?(n=h.position(),s=n.top,o=n.left):(s=parseFloat(r)||0,o=parseFloat(u)||0),lt.isFunction(e)&&(e=e.call(t,i,lt.extend({},a))),null!=e.top&&(d.top=e.top-a.top+s),null!=e.left&&(d.left=e.left-a.left+o),"using"in e?e.using.call(t,d):h.css(d)}},lt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){lt.offset.setOffset(this,t,e)});var e,i,n=this[0],o={top:0,left:0},r=n&&n.ownerDocument;if(r)return e=r.documentElement,lt.contains(e,n)?(o=n.getBoundingClientRect(),i=J(r),{top:o.top+i.pageYOffset-e.clientTop,left:o.left+i.pageXOffset-e.clientLeft}):o},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===lt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),lt.nodeName(t[0],"html")||(n=t.offset()),n.top+=lt.css(t[0],"borderTopWidth",!0),n.left+=lt.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-lt.css(i,"marginTop",!0),left:e.left-n.left-lt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===lt.css(t,"position");)t=t.offsetParent;return t||ie})}}),lt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;lt.fn[t]=function(n){return Ct(this,function(t,n,o){var r=J(t);return void 0===o?r?r[e]:t[n]:void(r?r.scrollTo(i?r.pageXOffset:o,i?o:r.pageYOffset):t[n]=o)},t,n,arguments.length)}}),lt.each(["top","left"],function(t,e){lt.cssHooks[e]=N(at.pixelPosition,function(t,i){return i?(i=D(t,e),Zt.test(i)?lt(t).position()[e]+"px":i):void 0})}),lt.each({Height:"height",Width:"width"},function(t,e){lt.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){lt.fn[n]=function(n,o){var r=arguments.length&&(i||"boolean"!=typeof n),s=i||(n===!0||o===!0?"margin":"border");return Ct(this,function(e,i,n){var o;return lt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===n?lt.css(e,i,s):lt.style(e,i,n,s)},e,r?n:void 0,r,null)}})}),lt.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},size:function(){return this.length}}),lt.fn.andSelf=lt.fn.addBack,n=[],o=function(){return lt}.apply(e,n),!(void 0!==o&&(t.exports=o));var Ue=i.jQuery,Ge=i.$;return lt.noConflict=function(t){return i.$===lt&&(i.$=Ge),t&&i.jQuery===lt&&(i.jQuery=Ue),lt},r||(i.jQuery=i.$=lt),lt})},2:function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var i=this[e];i[2]?t.push("@media "+i[2]+"{"+i[1]+"}"):t.push(i[1])}return t.join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(n[r]=!0)}for(o=0;o<e.length;o++){var s=e[o];"number"==typeof s[0]&&n[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),t.push(s))}},t}},3:function(t,e,i){function n(t,e){for(var i=0;i<t.length;i++){var n=t[i],o=p[n.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](n.parts[r]);for(;r<n.parts.length;r++)o.parts.push(l(n.parts[r],e))}else{for(var s=[],r=0;r<n.parts.length;r++)s.push(l(n.parts[r],e));p[n.id]={id:n.id,refs:1,parts:s}}}}function o(t){for(var e=[],i={},n=0;n<t.length;n++){var o=t[n],r=o[0],s=o[1],a=o[2],u=o[3],l={css:s,media:a,sourceMap:u};i[r]?i[r].parts.push(l):e.push(i[r]={id:r,parts:[l]})}return e}function r(t,e){var i=y(),n=A[A.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),A.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(e)}}function s(t){t.parentNode.removeChild(t);var e=A.indexOf(t);e>=0&&A.splice(e,1)}function a(t){var e=document.createElement("style");return e.type="text/css",r(t,e),e}function u(t){var e=document.createElement("link");return e.rel="stylesheet",r(t,e),e}function l(t,e){var i,n,o;if(e.singleton){var r=m++;i=v||(v=a(e)),n=c.bind(null,i,r,!1),o=c.bind(null,i,r,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=u(e),n=d.bind(null,i),o=function(){s(i),i.href&&URL.revokeObjectURL(i.href)}):(i=a(e),n=h.bind(null,i),o=function(){s(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}function c(t,e,i,n){var o=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=x(e,o);else{var r=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function h(t,e){var i=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function d(t,e){var i=e.css,n=e.sourceMap;n&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var o=new Blob([i],{type:"text/css"}),r=t.href;t.href=URL.createObjectURL(o),r&&URL.revokeObjectURL(r)}var p={},f=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},g=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),y=f(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,m=0,A=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=g()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var i=o(t);return n(i,e),function(t){for(var r=[],s=0;s<i.length;s++){var a=i[s],u=p[a.id];u.refs--,r.push(u)}if(t){var l=o(t);n(l,e)}for(var s=0;s<r.length;s++){var u=r[s];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete p[u.id]}}}};var x=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()},4:function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function t(){i(this,t),this._events={}}return n(t,[{key:"on",value:function(t,e){return this._events[t]=this._events[t]||[],this._events[t].push(e),this}},{key:"off",value:function(t,e){if(void 0==t)return void(this._events={});if(t in this._events!=!1)return e?this._events[t].splice(this._events[t].indexOf(e),1):this._events[t]=[],this}},{key:"emit",value:function(t){if(void 0!==this._events[t])for(var e=this._events[t].slice(),i=0;i<e.length;++i){var n=e[i].apply(this,Array.prototype.slice.call(arguments,1));if(void 0!==n)return n}}},{key:"guid",value:function e(){var t=arguments.length<=0||void 0===arguments[0]?"xxxxxxxxxxxx":arguments[0],i=(new Date).getTime(),e=t.replace(/[xy]/g,function(t){var e=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"==t?e:7&e|8).toString(16)});return e}}]),t}();e["default"]=o},5:function(t,e){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function n(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,i){function n(o,r){try{var s=e[o](r),a=s.value}catch(u){return void i(u)}return s.done?void t(a):Promise.resolve(a).then(function(t){return n("next",t)},function(t){return n("throw",t)})}return n("next")})}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(){function t(){o(this,t)}return s(t,null,[{key:"guid",value:function e(){var t=arguments.length<=0||void 0===arguments[0]?"xxxxxxxxxxxx":arguments[0],i=(new Date).getTime(),e=t.replace(/[xy]/g,function(t){var e=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"==t?e:7&e|8).toString(16)});return e}},{key:"createButton",value:function(t,e,i,n){var o=new Autodesk.Viewing.UI.Button(t);return o.icon.style.fontSize="24px",o.icon.className=e,o.setToolTip(i),o.onClick=n,o}},{key:"createControlGroup",value:function(t,e){var i=t.getToolbar(!0);if(i){var n=new Autodesk.Viewing.UI.ControlGroup(e);return i.addControl(n),n}}},{key:"nodeIdToFragIds",value:function(e,o){var r=this,s=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],a=arguments.length<=3||void 0===arguments[3]?null:arguments[3];return new Promise(function(){var u=n(regeneratorRuntime.mark(function l(n,u){var c,h,d,p,f;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,c=a||e.getData().instanceTree,h=c.dbIdToNode[o],void 0!=h){r.next=5;break}return r.abrupt("return",u("Invalid dbId: "+o));case 5:return d=[].concat(i(Array.isArray(h.fragIds)?h.fragIds:[h.fragIds])),h.children&&s&&(p=[],h.children.forEach(function(i){p.push(t.nodeIdToFragIds(e,i.dbId,s,c))}),f=Promise.all(p),f.forEach(function(t){d=[].concat(i(d),[t])})),r.abrupt("return",n(d));case 10:return r.prev=10,r.t0=r["catch"](0),r.abrupt("return",u(r.t0));case 13:case"end":return r.stop()}},l,r,[[0,10]])}));return function(t,e){return u.apply(this,arguments)}}())}},{key:"getLeafNodes",value:function(t,e){var i=this;return new Promise(function(){
var o=n(regeneratorRuntime.mark(function s(n,o){var a,u,l;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,l=function(){var i=function o(t){var e=0;u.enumNodeChildren(t,function(t){o(t),++e}),0==e&&a.push(t)};return a=[],u=t.getData().instanceTree,e=e||u.getRootId(),i(e),{v:n(a)}}(),"object"!==("undefined"==typeof l?"undefined":r(l))){i.next=4;break}return i.abrupt("return",l.v);case 4:i.next=9;break;case 6:return i.prev=6,i.t0=i["catch"](0),i.abrupt("return",o(i.t0));case 9:case"end":return i.stop()}},s,i,[[0,6]])}));return function(t,e){return o.apply(this,arguments)}}())}},{key:"getFragIds",value:function(e,i){var o=this;return new Promise(function(){var r=n(regeneratorRuntime.mark(function s(n,r){var a,u,l,c;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,a=e.getData().instanceTree,o.next=4,t.getLeafNodes(e,i);case 4:for(u=o.sent,l=[],c=0;c<u.length;++c)a.enumNodeFragments(u[c],function(t){l.push(t)});return o.abrupt("return",n(l));case 10:return o.prev=10,o.t0=o["catch"](0),o.abrupt("return",r(o.t0));case 13:case"end":return o.stop()}},s,o,[[0,10]])}));return function(t,e){return r.apply(this,arguments)}}())}},{key:"getWorldBoundingBox",value:function(e,i){var o=this;return new Promise(function(){var r=n(regeneratorRuntime.mark(function s(n,r){var a,u,l,c;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,t.getFragIds(e,i);case 3:if(a=o.sent,a.length){o.next=6;break}return o.abrupt("return",r("No geometry, invalid dbId?"));case 6:return u=e.getFragmentList(),l=new THREE.Box3,c=new THREE.Box3,a.forEach(function(t){u.getWorldBounds(t,l),c.union(l)}),o.abrupt("return",n(c));case 13:return o.prev=13,o.t0=o["catch"](0),o.abrupt("return",r(o.t0));case 16:case"end":return o.stop()}},s,o,[[0,13]])}));return function(t,e){return r.apply(this,arguments)}}())}},{key:"getProperties",value:function(t,e){var i=this;return new Promise(function(){var o=n(regeneratorRuntime.mark(function r(n,o){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:i.prev=0,t.getProperties(e,function(t){return t.properties?n(t.properties):o("No Properties")}),i.next=7;break;case 4:return i.prev=4,i.t0=i["catch"](0),i.abrupt("return",o(i.t0));case 7:case"end":return i.stop()}},r,i,[[0,4]])}));return function(t,e){return o.apply(this,arguments)}}())}},{key:"getProperty",value:function(t,e,i){var o=this;return new Promise(function(){var r=n(regeneratorRuntime.mark(function s(n,r){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:o.prev=0,t.getProperties(e,function(t){t.properties?(t.properties.forEach(function(t){return i==t.displayName?n(t):void 0}),r(new Error("Not Found"))):r(new Error("Error getting properties"))}),o.next=7;break;case 4:return o.prev=4,o.t0=o["catch"](0),o.abrupt("return",r(o.t0));case 7:case"end":return o.stop()}},s,o,[[0,4]])}));return function(t,e){return r.apply(this,arguments)}}())}},{key:"getPropertyList",value:function(e,i){var o=this;return new Promise(function(){var r=n(regeneratorRuntime.mark(function s(n,r){var a,u,l;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,a=i.map(function(i){return t.getProperties(e,i)}),o.next=4,Promise.all(a);case 4:return u=o.sent,l=[],u.forEach(function(t){t.forEach(function(t){l.indexOf(t.displayName)<0&&l.push(t.displayName)})}),o.abrupt("return",n(l.sort()));case 10:return o.prev=10,o.t0=o["catch"](0),o.abrupt("return",r(o.t0));case 13:case"end":return o.stop()}},s,o,[[0,10]])}));return function(t,e){return r.apply(this,arguments)}}())}},{key:"mapComponentsByProp",value:function(e,i,o){var r=this;return new Promise(function(){var s=n(regeneratorRuntime.mark(function a(s,u){var l,c,h;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,l=o.map(function(o){return new Promise(function(){var s=n(regeneratorRuntime.mark(function a(n,s){var u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.getProperty(e,o,i);case 3:return u=r.sent,u.dbId=o,r.abrupt("return",n(u));case 8:if(r.prev=8,r.t0=r["catch"](0),"Not Found"!=r.t0.message){r.next=14;break}return u={displayValue:"Not Available"},u.dbId=o,r.abrupt("return",n(u));case 14:return r.abrupt("return",s(r.t0));case 15:case"end":return r.stop()}},a,r,[[0,8]])}));return function(t,e){return s.apply(this,arguments)}}())}),a.next=4,Promise.all(l);case 4:return c=a.sent,h={},c.forEach(function(t){var e=t.displayValue;"string"==typeof e&&(e=e.split(":")[0]),h[e]||(h[e]=[]),h[e].push(t.dbId)}),a.abrupt("return",s(h));case 10:return a.prev=10,a.t0=a["catch"](0),a.abrupt("return",u(a.t0));case 13:case"end":return a.stop()}},a,r,[[0,10]])}));return function(t,e){return s.apply(this,arguments)}}())}},{key:"runTaskOnDataTree",value:function(t,e){var i=[],n=function o(t){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];t.children&&t.children.forEach(function(e){o(e,t)});var r=e(t,n);i.push(r)};return n(t),Promise.all(i)}},{key:"drawBox",value:function(t,e,i){function n(e,i){for(var n=[],o=0;o<e.length;o+=2){var r=e[o],s=e[o+1],a=new THREE.Geometry;a.vertices.push(new THREE.Vector3(r.x,r.y,r.z)),a.vertices.push(new THREE.Vector3(s.x,s.y,s.z)),a.computeLineDistances();var u=new THREE.Line(a,i);t.impl.scene.add(u),n.push(u)}return n}var o=arguments.length<=3||void 0===arguments[3]?null:arguments[3],r=o;r||(r=new THREE.LineBasicMaterial({color:16776960,linewidth:2}),t.impl.matman().addMaterial("ADN-Material-Line",r,!0));var s=n([{x:e.x,y:e.y,z:e.z},{x:i.x,y:e.y,z:e.z},{x:i.x,y:e.y,z:e.z},{x:i.x,y:e.y,z:i.z},{x:i.x,y:e.y,z:i.z},{x:e.x,y:e.y,z:i.z},{x:e.x,y:e.y,z:i.z},{x:e.x,y:e.y,z:e.z},{x:e.x,y:i.y,z:i.z},{x:i.x,y:i.y,z:i.z},{x:i.x,y:i.y,z:i.z},{x:i.x,y:i.y,z:e.z},{x:i.x,y:i.y,z:e.z},{x:e.x,y:i.y,z:e.z},{x:e.x,y:i.y,z:e.z},{x:e.x,y:i.y,z:i.z},{x:e.x,y:e.y,z:e.z},{x:e.x,y:i.y,z:e.z},{x:i.x,y:e.y,z:e.z},{x:i.x,y:i.y,z:e.z},{x:i.x,y:e.y,z:i.z},{x:i.x,y:i.y,z:i.z},{x:e.x,y:e.y,z:i.z},{x:e.x,y:i.y,z:i.z}],r);return t.impl.sceneUpdated(!0),s}},{key:"setMaterial",value:function(){function e(t,e,n){return i.apply(this,arguments)}var i=n(regeneratorRuntime.mark(function o(e,i,n){var r;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t.getFragIds(e,i);case 2:r=o.sent,r.forEach(function(t){e.getFragmentList().setMaterial(t,n)});case 4:case"end":return o.stop()}},o,this)}));return e}()},{key:"buildModelTree",value:function(t){function e(t){n.enumNodeChildren(t.dbId,function(o){var r=null;i?r=i(o):(t.children=t.children||[],r={dbId:o,name:n.getNodeName(o)},t.children.push(r)),e(r)})}var i=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=t.getData().instanceTree,o=n.getRootId(),r={dbId:o,name:n.getNodeName(o)};return e(r),r}},{key:"executeTaskOnModelTree",value:function(t,e){function i(r){o.enumNodeChildren(r,function(o){n.push(e(t,o)),i(o)})}var n=[],o=t.getData().instanceTree,r=o.getRootId();return i(r),n}},{key:"mobile",get:function(){return{getUserAgent:function(){return navigator.userAgent},isAndroid:function(){return this.getUserAgent().match(/Android/i)},isBlackBerry:function(){return this.getUserAgent().match(/BlackBerry/i)},isIOS:function(){return this.getUserAgent().match(/iPhone|iPad|iPod/i)},isOpera:function(){return this.getUserAgent().match(/Opera Mini/i)},isWindows:function(){return this.isWindowsDesktop()||this.isWindowsMobile()},isWindowsMobile:function(){return this.getUserAgent().match(/IEMobile/i)},isWindowsDesktop:function(){return this.getUserAgent().match(/WPDesktop/i)},isAny:function(){return this.isAndroid()||this.isBlackBerry()||this.isIOS()||this.isWindowsMobile()}}}}]),t}();e["default"]=a},6:function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();AutodeskNamespace("Viewing.Extension");var s=function(t){function e(t){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,e);var r=n(this,Object.getPrototypeOf(e).call(this,t,o));return r._viewer=t,r._options=o,r}return o(e,t),r(e,[{key:"load",value:function(){return!0}},{key:"unload",value:function(){return!0}}],[{key:"ExtensionId",get:function(){return"Viewing.Extension.Base"}}]),e}(Autodesk.Viewing.Extension);e["default"]=s},9:function(t,e,i){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(){var t=(new Date).getTime(),e="xxxx-xxxx-xxxx-xxxx".replace(/[xy]/g,function(e){var i=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?i:7&i|8).toString(16)});return e}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(4),c=n(l),h=function(e){function i(e){var n=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];o(this,i);var s=r(this,Object.getPrototypeOf(i).call(this)),u=s,l=a();s._inputId=a();var c='\n        <p class="onoffswitch">\n          <input id="'+s._inputId+'" type="checkbox" name="onoffswitch"\n            class="onoffswitch-checkbox" '+(n?"checked":"")+'>\n          <label id="'+l+'" class="onoffswitch-label">\n            <span class="onoffswitch-inner"></span>\n            <span class="onoffswitch-switch"></span>\n          </label>\n        </p>\n      ';return t(e).append(c),t("#"+l).click(function(e){var i=t("#"+s._inputId)[0];i.checked=!i.checked,u.emit("checked",i.checked)}),s}return s(i,e),u(i,[{key:"checked",value:function(){return t("#"+this._inputId)[0].checked}},{key:"setChecked",value:function(e){t("#"+this._inputId).prop("checked",e),this.emit("checked",e)}}]),i}(c["default"]);e["default"]=h;var d='\n\n  .onoffswitch {\n    position: relative; width: 50px;\n    -webkit-user-select:none; -moz-user-select:none; -ms-user-select: none;\n  }\n  .onoffswitch-checkbox {\n    display: none;\n  }\n  .onoffswitch-label {\n    display: block; overflow: hidden; cursor: pointer;\n    border: 2px solid #999999; border-radius: 8px;\n  }\n  .onoffswitch-inner {\n    display: block; width: 200%; margin-left: -100%;\n    transition: margin 0.3s ease-in 0s;\n  }\n  .onoffswitch-inner:before, .onoffswitch-inner:after {\n    display: block; float: left; width: 50%; height: 15px; padding: 0; line-height: 15px;\n    font-size: 10px; color: white; font-family: Trebuchet, Arial, sans-serif; font-weight: bold;\n    box-sizing: border-box;\n  }\n  .onoffswitch-inner:before {\n    content: "ON";\n    padding-left: 10px;\n    background-color: #0E8200; color: #FFFFFF;\n  }\n  .onoffswitch-inner:after {\n    content: "OFF";\n    padding-right: 10px;\n    background-color: #E82525; color: #FFFFFF;\n    text-align: right;\n  }\n  .onoffswitch-switch {\n    display: block; width: 11px; margin: 2px;\n    background: #FFFFFF;\n    position: absolute; top: 0; bottom: 0;\n    right: 31px;\n    border: 2px solid #999999; border-radius: 8px;\n    transition: all 0.3s ease-in 0s;\n  }\n  .onoffswitch-checkbox:checked + .onoffswitch-label .onoffswitch-inner {\n    margin-left: 0;\n  }\n  .onoffswitch-checkbox:checked + .onoffswitch-label .onoffswitch-switch {\n    right: 0px;\n  }\n';t('<style type="text/css">'+d+"</style>").appendTo("head")}).call(e,i(1))},27:function(t,e){"use strict";!function(){var t=AutodeskNamespace("Autodesk.Viewing.Extensions.Markups.Core.Utils");t.getTypeString=function(t){var e=Autodesk.Viewing.Extensions.Markups.Core;switch(t){case e.MARKUP_TYPE_TEXT:return e.MARKUP_EXPORT_TYPE_LABEL;case e.MARKUP_TYPE_ARROW:return e.MARKUP_EXPORT_TYPE_ARROW;case e.MARKUP_TYPE_RECTANGLE:return e.MARKUP_EXPORT_TYPE_RECTANGLE;case e.MARKUP_TYPE_CIRCLE:return e.MARKUP_EXPORT_TYPE_CIRCLE;case e.MARKUP_TYPE_CLOUD:return e.MARKUP_EXPORT_TYPE_CLOUD;case e.MARKUP_TYPE_FREEHAND:return e.MARKUP_EXPORT_TYPE_FREEHAND}return"Unknown("+id+")"},t.isTouchDevice=function(){return"function"==typeof isTouchDevice&&"function"==typeof Hammer?isTouchDevice():!1},t.createSvgElement=function(t){var e="http://www.w3.org/2000/svg",i=document.createElementNS(e,t);return i.setAttribute("pointer-events","inherit"),i},t.setSvgParentAttributes=function(t){return t.setAttribute("version","1.1"),t.setAttribute("baseProfile","full"),t},t.addSvgMetadata=function(t,e){var i=document.createElementNS("http://www.w3.org/2000/svg","metadata"),n=document.createElement("markup_document");return i.appendChild(n),n.setAttribute("data-model-version",e["data-model-version"]),t.insertBefore(i,t.firstChild),i},t.addMarkupMetadata=function(t,e){var i=document.createElementNS("http://www.w3.org/2000/svg","metadata"),n=document.createElement("markup_element");i.appendChild(n);for(var o in e)e.hasOwnProperty(o)&&n.setAttribute(o,e[o]);return t.insertBefore(i,t.firstChild),i},t.removeAllMetadata=function(t){for(var e=t.getElementsByTagName("metadata"),i=0;i<e.length;++i){var n=e[i];n.parentNode&&n.parentNode.removeChild(n)}var o=t.children||t.childNodes;for(i=0;i<o.length;++i)this.removeAllMetadata(o[i])},t.transferChildNodes=function(t,e){for(var i=t.children||t.childNodes,n=[],o=0;o<i.length;++o)n.push(i[o]);n.forEach(function(t){e.appendChild(t)})},t.svgNodeToString=function(t){var e;try{var i=new XMLSerializer;e=i.serializeToString(t)}catch(n){e="",console.warn("svgNodeToString failed to generate string representation of domNode.")}return e},t.stringToSvgNode=function(t){var e=null;try{var i=new DOMParser,n=i.parseFromString(t,"text/xml");e=n.firstChild}catch(o){e=null,console.warn("stringToSvgNode failed to generate an HTMLElement from its string representation.")}return e},t.addTraitEventDispatcher=function(t){t.listeners={},t.addEventListener=function(t,e){"undefined"==typeof this.listeners[t]&&(this.listeners[t]=[]),this.listeners[t].push(e)},t.hasEventListener=function(t,e){if(void 0===this.listeners)return!1;var i=this.listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)},t.removeEventListener=function(t,e){if(this.listeners[t]instanceof Array)for(var i=this.listeners[t],n=0,o=i.length;o>n;n++)if(i[n]===e){i.splice(n,1);break}},t.fireEvent=function(t){if("string"==typeof t&&(t={type:t}),t.target||(t.target=this),!t.type)throw new Error("event type unknown.");if(this.listeners[t.type]instanceof Array)for(var e=this.listeners[t.type].slice(),i=0;i<e.length;i++)e[i].call(this,t)}},t.removeTraitEventDispatcher=function(t){try{delete t.listeners,delete t.addEventListener,delete t.hasEventListener,delete t.removeEventListener,delete t.fireEvent}catch(e){}},t.worldToClient=function(e,i,n){var o=t.worldToViewport(e,i),r=i.impl.viewportToClient(o.x,o.y);return r.z=0,n&&(r.x=Math.floor(r.x)+.5,r.y=Math.floor(r.y)+.5),r},t.clientToWorld=function(t,e,i,n){var o=n.impl.clientToViewport(t,e);return o.z=i,o.unproject(n.impl.camera),o},t.worldToViewport=function(t,e){var i=new THREE.Vector3;return i.x=t.x,i.y=t.y,i.z=t.z,i.project(e.impl.camera),i},t.metersToModel=function(t,e){var i=e.model.getUnitScale(),n=1/i;return n*t},t.radiansToDegrees=function(t){return t*(180/Math.PI)},t.degreesToRadians=function(t){return t*(Math.PI/180)},t.sign=function(t){return t>=0?1:-1},t.forceOrthographicCamera=function(t){if(t&&t.navigation&&!t.model.is2d()){var e=t.navigation,i=e.getCamera();i.isPerspective&&e.toOrthographic()}},t.hideLmvUi=function(e){e.setActiveNavigationTool(),t.dismissLmvHudMessage(),t.hideLmvPanels(!0,e),t.hideLmvToolsAndPanels(e)},t.restoreLmvUi=function(e){t.dismissLmvHudMessage(),t.hideLmvPanels(!1,e),t.showLmvToolsAndPanels(e)},t.hideLmvPanels=function(t,e){var i=e.dockingPanels;if(i)for(var n=0;n<i.length;++n){var o=i[n],r=o.container;r.classList.contains("dockingPanelVisible")&&(r.style.display=t?"none":"block",o.visibilityChanged())}},t.showLmvToolsAndPanels=function(t){t.model.is2d()||t.displayViewCube(!0,!1);var e=document.getElementsByClassName("homeViewWrapper"),i=document.getElementsByClassName("infoButton"),n=document.getElementsByClassName("toolbar-animationSubtoolbar");if(e.length>0&&(e[0].style.display=""),i.length>0&&(i[0].style.display=""),n.length>0&&(n[0].style.display=""),t.toolbar)for(var o=t.toolbar.container,r=o.children.length,s=0;r>s;++s)o.children[s].style.display=""},t.hideLmvToolsAndPanels=function(t){t&&t.model&&!t.model.is2d()&&t.displayViewCube(!1,!1);var e=document.getElementsByClassName("homeViewWrapper"),i=document.getElementsByClassName("infoButton"),n=document.getElementsByClassName("toolbar-animationSubtoolbar");if(e.length>0&&(e[0].style.display="none"),i.length>0&&(i[0].style.display="none"),n.length>0){n[0].style.display="none";var o=t.impl.keyFrameAnimator;if(o&&!o.isPaused){o.pauseCameraAnimations(),o.pause();var r=t.modelTools.getControl("toolbar-animationPlay");r&&(r.setIcon("toolbar-animationPauseIcon"),r.setToolTip("Pause"))}}if(t.toolbar)for(var s=t.toolbar.container,a=s.children.length,u=0;a>u;++u)s.children[u].style.display="none"},t.dismissLmvHudMessage=function(){try{for(var t=!0;t;)t=Autodesk.Viewing.Private.HudMessage.dismiss()}catch(e){console.warn("[CO2]Failed to dismiss LMV HudMessage")}},t.createStyle=function(e,i){for(var n={},o=0;o<e.length;++o)n[e[o]]=null;for(var r=t.getStyleDefaultValues(n,i),o=0;o<e.length;++o){var s=e[o];n[s]=r[s].values[r[s]["default"]].value}return n},t.copyStyle=function(t,e){for(var i in e)t.hasOwnProperty(i)&&(e[i]=t[i])},t.cloneStyle=function(t){var e={};for(var i in t)e[i]=t[i];return e},t.getStyleDefaultValues=function(e,i){function n(e){var i=0,n=e.model.getData();if(n.is2d)i=2*t.metersToModel(.0254,e);else{var o=e.impl.viewportToClient(0,0),r=e.impl.viewportToClient(.01,.01);o=t.clientToWorld(o.x,o.y,0,e),r=t.clientToWorld(r.x,r.y,0,e),i=Math.abs(r.y-o.y)}return i}function o(t){return{values:[{name:"Thin",value:t},{name:"Normal",value:3*t},{name:"Thick",value:9*t}],"default":1}}function r(t){return{values:[{name:"Thin",value:5*t},{name:"Normal",value:10*t},{name:"Thick",value:20*t}],"default":1}}function s(){return{values:[{name:"red",value:"#ff0000"},{name:"green",value:"#00ff00"},{name:"blue",value:"#0000ff"},{name:"white",value:"#ffffff"},{name:"black",value:"#000000"}],"default":0}}function a(t){return{values:[{name:"100%",value:1},{name:"75%",value:.75},{name:"50%",value:.5},{name:"25%",value:.25},{name:"0%",value:0}],"default":t?4:0}}function u(){return{values:[{name:"Arial",value:"Arial"},{name:"Arial Black",value:"Arial Black"},{name:"Arial Narrow",value:"Arial Narrow"},{name:"Century Gothic",value:"Century Gothic"},{name:"Courier New",value:"Courier New"},{name:"Georgia",value:"Georgia"},{name:"Impact",value:"Impact"},{name:"Lucida Console",value:"Lucida Console"},{name:"Tahoma",value:"Tahoma"},{name:"Verdana",value:"Verdana"}],"default":0}}function l(){return{values:[{name:"Normal",value:!1},{name:"Italic",value:!0}],"default":0}}function c(){return{values:[{name:"Normal",value:!1},{name:"Bold",value:!0}],"default":0}}var h=t.cloneStyle(e),d=n(i);for(var p in h)switch(p){case"stroke-width":h[p]=o(d);break;case"font-size":h[p]=r(d);break;case"font-family":h[p]=u();break;case"font-style":h[p]=l();break;case"font-weight":h[p]=c();break;case"stroke-color":case"fill-color":h[p]=s();break;case"stroke-opacity":var f=!1;h[p]=a(f);break;case"fill-opacity":var f=!0;h[p]=a(f)}return h},t.composeRGBAString=function(t,e){if(0>=e)return"none";var i=["rgba("+parseInt("0x"+t.substr(1,2)),",",parseInt("0x"+t.substr(3,2)),",",parseInt("0x"+t.substr(5,2)),",",e,")"].join("");return i}}(),function(){function t(t,e,i){this.type=e,this.editor=t,this.targetId=i,this.addToHistory=!0,this.selectOnExecution=!0}AutodeskNamespace("Autodesk.Viewing.Extensions.Markups.Core"),Autodesk.Viewing.Extensions.Markups.Core.EditAction=t,Autodesk.Viewing.Extensions.Markups.Core.EditAction.prototype.execute=function(){this.editor.actionManager.execute(this)},Autodesk.Viewing.Extensions.Markups.Core.EditAction.prototype.redo=function(){},Autodesk.Viewing.Extensions.Markups.Core.EditAction.prototype.undo=function(){},Autodesk.Viewing.Extensions.Markups.Core.EditAction.prototype.merge=function(t){return!1},Autodesk.Viewing.Extensions.Markups.Core.EditAction.prototype.isIdentity=function(){return!1}}(),function(){function t(t){this.historySize=t,this.undoStack=new Array(t),this.redoStack=new Array(t),i.addTraitEventDispatcher(this)}var e=Autodesk.Viewing.Extensions.Markups.Core,i=Autodesk.Viewing.Extensions.Markups.Core.Utils;e.EVENT_HISTORY_CHANGED="EVENT_HISTORY_CHANGED";var n=t.prototype;n.execute=function(t){var i=this.redoStack,n=this.undoStack;i.splice(0,i.length),t.redo();var o=this.getEditActionGroup();o.isOpen()?o.addAction(t):(o.open(),o.addAction(t),o.close()),n.length>this.historySize&&n.splice(0,1);var r=t.selectOnExecution?t.targetId:-1;this.fireEvent({type:e.EVENT_HISTORY_CHANGED,data:{action:"execute",targetId:r}})},n.beginActionGroup=function(){var t=this.undoStack,e=t.length,i=null;0===e||t[e-1].isClosed()?(i=this.getEditActionGroup(),i.open()):console.warn("Markups - Undo/Redo - Action edit group already open.")},n.closeActionGroup=function(){var t=this.undoStack,e=t.length;if(0===e)return void console.warn("Markups - Undo/Redo - There is no action edit group to close.");var i=t[e-1];i.close()||console.warn("Markups - Undo/Redo - Action edit group already closed."),i.isEmpty()&&t.pop()},n.cancelActionGroup=function(){var t=this.undoStack,i=t.length;if(0===i)return void console.warn("Markups - Undo/Redo - There is no action edit group to close.");var n=t[i-1];return n.close()?(n.undo(),t.pop(),void this.fireEvent({type:e.EVENT_HISTORY_CHANGED,data:{action:"cancel",targetId:-1}})):void console.warn("Markups - Undo/Redo - Action edit group already closed.")},n.undo=function(){var t=this.undoStack,i=this.redoStack;if(0!==t.length){var n=t.pop(),o=n.undo();i.push(n),this.fireEvent({type:e.EVENT_HISTORY_CHANGED,data:{action:"undo",targetId:o}})}},n.redo=function(){var t=this.undoStack,i=this.redoStack;if(0!==i.length){var n=i.pop(),o=n.redo();t.push(n),this.fireEvent({type:e.EVENT_HISTORY_CHANGED,data:{action:"redo",targetId:o}})}},n.clear=function(){this.undoStack.splice(0,this.undoStack.length),this.redoStack.splice(0,this.redoStack.length),this.fireEvent({type:e.EVENT_HISTORY_CHANGED,data:{action:"clear",targetId:-1}})},n.isUndoStackEmpty=function(){return 0===this.undoStack.length},n.isRedoStackEmpty=function(){return 0===this.redoStack.length},n.getEditActionGroup=function(){var t=this.undoStack,i=this.undoStack.length,n=null;return 0===i||t[i-1].isClosed()?(n=new e.EditActionGroup,t.push(n)):n=t[i-1],n},e.EditActionManager=t}(),function(){function t(){this.reset()}function e(t){var e=[];for(var i in t){var n=t[i];e.push(i),e.push(":"),e.push(n),e.push("; ")}return e.join("")}var i=Autodesk.Viewing.Extensions.Markups.Core.Utils,n=["-ms-","-webkit-","-moz-","-o-"],o=t.prototype;o.reset=function(){return this.attributes={},this.dirty=!1,this.styleString="",this},o.setAttribute=function(t,e,i){if(this.attributes[t]=e,i&&i.allBrowsers){var o=this;n.forEach(function(i){o.attributes[i+t]=e})}return this.dirty=!0,this},o.removeAttribute=function(t){Array.isArray(t)||(t=[t]);var e=this;return t.forEach(function(t){t in e.attributes&&(delete e.attributes[t],e.dirty=!0)}),this},o.getStyleString=function(){return this.dirty&&(this.styleString=e(this.attributes),this.dirty=!1),this.styleString},o.clone=function(){var t=new i.DomElementStyle,e=this.attributes;for(var n in e)t.setAttribute(n,e[n]);return t},i.DomElementStyle=t}(),function(){function t(t,e){this.containingDiv=t,this.editor=e,this.selectionLayer=i(),this.selection={x:0,y:0,width:0,height:0,rotation:0,element:null,active:!1,dragging:!1,resizing:!1,handle:{}},l.bind(this)(),E.isTouchDevice()&&(this.onHammerDragBinded=this.onHammerDrag.bind(this),this.hammer=new Hammer.Manager(this.selectionLayer,{recognizers:[[Hammer.Pan,{event:"drag",pointers:1}]],inputClass:Hammer.TouchInput})),f.bind(this)(),g.bind(this)(),v.bind(this)(),y.bind(this)(),this.containingDiv.appendChild(this.selectionLayer),E.addTraitEventDispatcher(this)}function e(t){t.pageX=t.pointers[0].clientX,t.pageY=t.pointers[0].clientY}function i(){var t=document.createElement("div");return t.style.position="absolute",t.style.top=0,t.style.bottom=0,t.style.left=0,t.style.right=0,t.style.overflow="hidden",t.style.visibility="hidden",m(t,!1),t}function n(t,e){var i=2,n=document.createElement("div");n.style.position="absolute",n.style.backgroundColor="rgba(151, 151, 151, 1)",n.style.border=i+"px solid rgb(95, 98, 100)",n.style.height=t+"px",n.style.width=t+"px",n.style.borderRadius=t/2+i+"px",n.style.boxSizing="border-box",r(n,e),n.className="selector-drag-point sdp-handle-"+e,n.setAttribute("data-sdp-handle",e);var o=-1*((t+i)/2);switch(e){case"n":var s=document.createElement("div");s.style.position="absolute",s.style.width="100%",s.style.height=t+"px",s.style.top=o+"px",n.style.margin="0 auto",n.style.position="",s.appendChild(n),n=s;break;case"s":var s=document.createElement("div");s.style.position="absolute",s.style.width="100%",s.style.height=t+"px",s.style.bottom=o+"px",n.style.margin="0 auto",n.style.position="",s.appendChild(n),n=s;break;case"w":n.style.left=o+"px",n.style.top="50%",n.style.transform="translate3d(0, -50%, 0)";break;case"e":n.style.right=o+"px",n.style.top="50%",n.style.transform="translate3d(0, -50%, 0)";break;case"nw":n.style.top=o+"px",n.style.left=o+"px";break;case"ne":n.style.top=o+"px",n.style.right=o+"px";break;case"sw":n.style.bottom=o+"px",n.style.left=o+"px";break;case"se":n.style.bottom=o+"px",n.style.right=o+"px"}return n}function o(t){var e=2,i=document.createElement("div");return i.style.position="absolute",i.style.backgroundColor="aqua",i.style.border=e+"px solid rgb(95, 98, 100)",i.style.height=t+"px",i.style.width=t+"px",i.style.borderRadius=t/2+e+"px",i.style.boxSizing="border-box",i.classList.add("selector-rotate-point"),i.style.left="50%",i.style.transform="translate3d(-50%, 0px, 0px)",i.style.top="-25px",i}function r(t,e){var i;switch(e){case"n":case"s":i="ns-resize";break;case"w":case"e":i="ew-resize";break;case"ne":case"sw":i="nesw-resize";break;case"nw":case"se":i="nwse-resize"}t.style.cursor=i}function s(t){var e=12;["n","s","w","e","nw","ne","sw","se"].forEach(function(i){this.selection.handle[i]=n(e,i),t.appendChild(this.selection.handle[i])}.bind(this))}function a(t){return x(t,".selector-drag-point")}function u(t){return x(t,".selector-rotate-point")}function l(){var t=1,e="rgb(0, 0, 255)",i=document.createElement("div");return i.style.position="absolute",i.style.border=t+"px solid "+e,i.style.zIndex=1,i.style.cursor="move",i.style.boxSizing="border-box",m(i,!0),i.classList.add("selector-box"),s.bind(this)(i),this.selection.rotationHandle=o(12),i.appendChild(this.selection.rotationHandle),this.selection.element=i,this.selectionLayer.appendChild(this.selection.element),h.bind(this)(!1),i}function c(t,e){return"translate3d("+t+"px,"+e+"px,0)"}function h(t){this.selection.active=t,this.selection.element.style.display=t?"block":"none"}function d(t,e,i){this.selection.x=t,this.selection.y=e,this.selection.rotation=i;var n=this.markup.getClientSize();this.selection.element.style.msTransform=c(t,e)+" rotate("+i+"rad)",this.selection.element.style.msTransformOrigin=n.x/2+"px "+n.y/2+"px",this.selection.element.style.webkitTransform=c(t,e)+" rotate("+i+"rad)",this.selection.element.style.webkitTransformOrigin=n.x/2+"px "+n.y/2+"px",this.selection.element.style.transform=c(t,e)+" rotate("+i+"rad)",this.selection.element.style.transformOrigin=n.x/2+"px "+n.y/2+"px"}function p(t,e){this.selection.width=t,this.selection.height=e,this.selection.element.style.width=t+"px",this.selection.element.style.height=e+"px"}function f(){this.selection.element.addEventListener("mousedown",this._onRepositionMouseDown.bind(this))}function g(){this.selectionLayer.addEventListener("mousedown",this._onResizeMouseDown.bind(this))}function y(){this.selection.element.addEventListener("mousedown",this._onRotationMouseDown.bind(this))}function v(){var t=function(t){this.selection.dragging=!1;var e=this.editor.editMode;e&&e.onDoubleClick(this.markup)}.bind(this),e=this.selectionLayer;e.addEventListener("dblclick",t)}function m(t,e){t.style.pointerEvents=e?"auto":"none"}function A(t,e){return Math.atan2(e.y-t.y,e.x-t.x)}function x(t,e){return t.matches?t.matches(e):t.msMatchesSelector?t.msMatchesSelector(e):t.mozMatchesSelector?t.mozMatchesSelector(e):t.webkitMatchesSelector?t.webkitMatchesSelector(e):!1}var b=Autodesk.Viewing.Extensions.Markups.Core,E=Autodesk.Viewing.Extensions.Markups.Core.Utils;b.EVENT_EDITFRAME_EDITION_START="EVENT_EDITFRAME_EDITION_START",b.EVENT_EDITFRAME_EDITION_END="EVENT_EDITFRAME_EDITION_END";var k=t.prototype;k.setSelection=function(t,e,i,n,o){p.bind(this)(i,n),d.bind(this)(t,e,o),h.bind(this)(!0),this.selectionLayer.style.visibility="visible"},k.setMarkup=function(t){if(!t)return void(this.markup&&(this.markup=null,this.hammer&&this.hammer.off("dragstart dragmove dragend",this.onHammerDragBinded),h.bind(this)(!1)));!this.markup&&this.hammer&&this.hammer.on("dragstart dragmove dragend",this.onHammerDragBinded);var e=t.getClientSize(),i=t.getClientPosition(),n=e.x,o=e.y,r=t.getRotation();this.markup=t,this.setSelection(i.x-n/2,i.y-o/2,n,o,r),this.enableResizeHandles(),this.enableRotationHandle()},k.startDrag=function(){this._onRepositionMouseDown(null,this.editor.getMousePosition())},k.isActive=function(){return this.isDragging()||this.isResizing()||this.isRotating()},k.isDragging=function(){return this.selection.dragging},k.isResizing=function(){return this.selection.resizing},k.isRotating=function(){return this.selection.rotating},k.onMouseMove=function(t){},k.onMouseUp=function(t){},k.onHammerDrag=function(t){function i(t,e,i){var n=e.getBoundingClientRect();t.mousePosition.x=i.pageX-n.left,t.mousePosition.y=i.pageY-n.top}switch(e(t),t.type){case"dragstart":i(this.editor.input,this.editor.svg,t),u(t.target)?this._onRotationMouseDown(t):a(t.target)?this._onResizeMouseDown(t):this.startDrag(),t.preventDefault();break;case"dragmove":i(this.editor.input,this.editor.svg,t),this.onMouseMove(t),t.preventDefault();break;case"dragend":i(this.editor.input,this.editor.svg,t),this.onMouseUp(t),t.preventDefault()}},k.enableResizeHandles=function(){var t,e=this.markup;if(e.isHeightConstrained()||e.isWidthConstrained()){for(var i in this.selection.handle)t=this.selection.handle[i],t&&(t.style.display="none");e.isHeightConstrained()&&(this.selection.handle.w.style.display="block",this.selection.handle.e.style.display="block"),
e.isWidthConstrained()&&(this.selection.handle.n.style.display="block",this.selection.handle.s.style.display="block")}else for(var i in this.selection.handle)t=this.selection.handle[i],t&&(t.style.display="block")},k.enableRotationHandle=function(){var t=this.markup,e=this.selection.rotationHandle,i=t.isRotationConstrained()?"none":"block";e.style.display=i},k._onRepositionMouseDown=function(t,e){var i=!(t instanceof MouseEvent);if(i||!a(t.target)&&!u(t.target)){if(this.editor.beginActionGroup(),this.selection.dragging=!0,e=i?e:this.editor.getMousePosition(),this.initialCursor=e,this.initialPosition=this.markup.getClientPosition(),this.areAxisConstrained=!1,this.axisConstrains=new THREE.Vector2(1,1),this.onMouseMove=this._onRepositionMouseMove.bind(this),this.onMouseUp=this._onRepositionMouseUp.bind(this),t&&t.altKey){var n=this.editor,o=new b.CloneMarkup(n,n.getId(),this.markup,this.markup.position);o.execute()}this.fireEvent({type:b.EVENT_EDITFRAME_EDITION_START})}},k._onRepositionMouseMove=function(t){if(this.selection.dragging){var e=this.editor.getMousePosition(),i=this.editor.input.constrainAxis;this.areAxisConstrained!==i&&(this.areAxisConstrained=i,this.axisConstrains=i?new THREE.Vector2(0,0):new THREE.Vector2(1,1),this.initialPosition.x+=e.x-this.initialCursor.x,this.initialPosition.y+=e.y-this.initialCursor.y,this.initialCursor.x=e.x,this.initialCursor.y=e.y);var n={x:e.x-this.initialCursor.x,y:e.y-this.initialCursor.y},o=15;0===this.axisConstrains.x&&0===this.axisConstrains.y&&(Math.abs(n.x)>o?(this.axisConstrains.x=1,n.x+=n.x<0?o:-o):Math.abs(n.y)>o&&(this.axisConstrains.y=1,n.y+=n.y<0?o:-o));var r=this.initialPosition.x+n.x*this.axisConstrains.x,s=this.initialPosition.y+n.y*this.axisConstrains.y;d.bind(this)(r,s,this.selection.rotation);var a=this.editor.positionFromClientToMarkups(r,s),u=new b.SetPosition(this.editor,this.markup,a);u.execute()}},k._onRepositionMouseUp=function(){this.last=null,this.onMouseMove=function(){},this.onMouseUp=function(){},this.selection.dragging&&(this.editor.closeActionGroup(),this.selection.dragging=!1,this.fireEvent({type:b.EVENT_EDITFRAME_EDITION_END}))},k._onResizeMouseDown=function(t){var e=t.target;if(a(e)){this.selection.resizing=!0,this.selection.handle.resizing=e;var i=this.selection.handle.resizing.getAttribute("data-sdp-handle");this.containingDiv.style.cursor=i+"-resize";var n=this.editor.getMousePosition(),o=this.markup.getClientPosition(),r=this.markup.getClientSize();this.initial={x:o.x,y:o.y,width:r.x,height:r.y,mouseX:n.x,mouseY:n.y},this.onMouseMove=this._onResizeMouseMove.bind(this),this.onMouseUp=this._onResizeMouseUp.bind(this),this.editor.beginActionGroup(),this.fireEvent({type:b.EVENT_EDITFRAME_EDITION_START})}},k._onResizeMouseMove=function(t){if(this.selection.resizing){var e=this.editor.getMousePosition(),i=this.initial,n={x:e.x-i.mouseX,y:e.y-i.mouseY},o=new THREE.Vector3(n.x,n.y,0),r=(new THREE.Matrix4).makeRotationZ(-this.selection.rotation);n=o.applyMatrix4(r);var s=i.x,a=i.y,u=i.width,l=i.height,c=new THREE.Vector3,h=this.selection.handle.resizing.getAttribute("data-sdp-handle");if(this.editor.input.keepAspectRatio&&-1!==["nw","ne","sw","se"].indexOf(h)){var d=new THREE.Vector3(n.x,n.y,0);switch(h){case"nw":n.set(-i.width,-i.height,0);break;case"ne":n.set(i.width,-i.height,0);break;case"sw":n.set(i.width,-i.height,0);break;case"se":n.set(i.width,i.height,0)}n.normalize(),n=d.projectOnVector(n)}var p={n:function(){l-=n.y,c.y=n.y},s:function(){l+=n.y,c.y=n.y},w:function(){u-=n.x,c.x=n.x},e:function(){u+=n.x,c.x=n.x},nw:function(){this.n(),this.w()},ne:function(){this.n(),this.e()},sw:function(){this.s(),this.w()},se:function(){this.s(),this.e()}};p[h]();var f=(new THREE.Matrix4).makeRotationZ(this.selection.rotation),g=c.applyMatrix4(f),y=this.editor.positionFromClientToMarkups(s+.5*g.x,a+.5*g.y),v=this.editor.sizeFromClientToMarkups(u,l),m=new b.SetSize(this.editor,this.markup,y,v.x,v.y);m.execute()}},k._onResizeMouseUp=function(t){this.selection.resizing=!1,this.selection.handle.resizing=null,this.containingDiv.style.cursor="",this.editor.closeActionGroup(),this.fireEvent({type:b.EVENT_EDITFRAME_EDITION_END}),this.onMouseMove=function(){},this.onMouseUp=function(){}};var w,M;k._onRotationMouseDown=function(t){u(t.target)&&(this.editor.beginActionGroup(),this.selection.rotating=!0,M=this.editor.getMousePosition(),w=this.selection.rotation||0,this.onMouseMove=this._onRotationMouseMove.bind(this),this.onMouseUp=this._onRotationMouseUp.bind(this),this.fireEvent({type:b.EVENT_EDITFRAME_EDITION_START}))},k._onRotationMouseMove=function(t){if(this.selection.rotating){var e=this.editor.getMousePosition(),i=this.markup.getClientPosition(),n=A(i,e),o=A(i,M),r=n-o+w;if(this.editor.input.snapRotations){var s=E.degreesToRadians(22.5);r=Math.ceil(r/s)*s}d.bind(this)(this.selection.x,this.selection.y,r);var a=new b.SetRotation(this.editor,this.markup,r);a.execute()}},k._onRotationMouseUp=function(t){this.selection.rotating=!1,w=null,M=null,this.editor.closeActionGroup(),this.fireEvent({type:b.EVENT_EDITFRAME_EDITION_END})},b.EditFrame=t}(),Autodesk.Viewing.Extensions.Markups.Core.Utils.Localization={MARKUP_TEXT_DEFAULT_TEXT:"Write something..."},function(){function t(t,e,n){this.id=t,this.type=0,this.editor=e,this.viewer=e.viewer,this.position={x:0,y:0},this.size={x:0,y:0},this.rotation=0,this.style=i.createStyle(n,this.viewer),this.highlightColor="#FAFF3C",this.constraintWidth=!1,this.constraintHeight=!1,this.constraintRotation=!1,this.highlighted=!1,this.selected=!1,i.addTraitEventDispatcher(this)}var e=Autodesk.Viewing.Extensions.Markups.Core,i=Autodesk.Viewing.Extensions.Markups.Core.Utils;e.MARKUP_TYPE_ARROW=1,e.MARKUP_TYPE_TEXT=2,e.MARKUP_TYPE_RECTANGLE=3,e.MARKUP_TYPE_CIRCLE=4,e.MARKUP_TYPE_CLOUD=5,e.MARKUP_TYPE_FREEHAND=6,e.MARKUP_EXPORT_TYPE_LABEL="Label",e.MARKUP_EXPORT_TYPE_ARROW="Arrow",e.MARKUP_EXPORT_TYPE_RECTANGLE="Rectangle",e.MARKUP_EXPORT_TYPE_CIRCLE="Circle",e.MARKUP_EXPORT_TYPE_CLOUD="Cloud",e.MARKUP_EXPORT_TYPE_FREEHAND="Freehand",e.EVENT_EDITMODE_CHANGED="EVENT_EDITMODE_CHANGED",e.EVENT_MARKUP_SELECTED="EVENT_MARKUP_SELECTED",e.EVENT_MARKUP_DRAGGING="EVENT_MARKUP_DRAGGING",e.EVENT_MARKUP_ENTER_EDITION="EVENT_MARKUP_ENTER_EDITION",e.EVENT_MARKUP_CANCEL_EDITION="EVENT_MARKUP_CANCEL_EDITION",e.EVENT_MARKUP_DELETE_EDITION="EVENT_MARKUP_DELETE_EDITION";var n=t.prototype;e.Markup=t,n.destroy=function(){},Autodesk.Viewing.Extensions.Markups.Core.Markup.prototype.clone=function(){var t=Object.create(this.__proto__),e=this.getCloneOverrides();for(var i in this)if(this.hasOwnProperty(i)){var n=this[i];e.hasOwnProperty(i)?t[i]=e[i]:n.clone instanceof Function?t[i]=n.clone():n instanceof Function?t[i]=n.bind(t):n.nodeType?t[i]=n.cloneNode(!0):n instanceof Object?t[i]=JSON.parse(JSON.stringify(n)):t[i]=n}return t.bindDomEvents(),t},Autodesk.Viewing.Extensions.Markups.Core.Markup.prototype.getCloneOverrides=function(){return{viewer:this.viewer,editor:this.editor,hammer:null,listeners:{}}},Autodesk.Viewing.Extensions.Markups.Core.Markup.prototype.select=function(){this.selected||(this.selected=!0,this.highlighted=!1,this.updateStyle(),this.fireEvent({type:e.EVENT_MARKUP_SELECTED,markup:this}))},Autodesk.Viewing.Extensions.Markups.Core.Markup.prototype.unselect=function(){this.selected=!1},n.highlight=function(t){this.interactionsDisabled||(this.highlighted=t,this.updateStyle())},Autodesk.Viewing.Extensions.Markups.Core.Markup.prototype.getStyle=function(){return i.cloneStyle(this.style)},Autodesk.Viewing.Extensions.Markups.Core.Markup.prototype.setStyle=function(t){i.copyStyle(t,this.style),this.updateStyle()},Autodesk.Viewing.Extensions.Markups.Core.Markup.prototype.updateStyle=function(){},Autodesk.Viewing.Extensions.Markups.Core.Markup.prototype.finishDragging=function(){this.fireEvent({type:e.EVENT_MARKUP_DRAGGING,markup:this,dragging:!1})},Autodesk.Viewing.Extensions.Markups.Core.Markup.prototype.edit=function(){this.fireEvent({type:e.EVENT_MARKUP_ENTER_EDITION,markup:this})},Autodesk.Viewing.Extensions.Markups.Core.Markup.prototype.cancel=function(){this.fireEvent({type:e.EVENT_MARKUP_CANCEL_EDITION,markup:this})},Autodesk.Viewing.Extensions.Markups.Core.Markup.prototype.deleteMarkup=function(){this.fireEvent({type:e.EVENT_MARKUP_DELETE_EDITION,markup:this})},n.setParent=function(t){},n.setPosition=function(t,e){},Autodesk.Viewing.Extensions.Markups.Core.Markup.prototype.getEditMode=function(){return console.warn("EditMode of markup type"+i.getTypeString(this.type)+" not defined."),null},Autodesk.Viewing.Extensions.Markups.Core.Markup.prototype.getClientPosition=function(){var t=this.position;return this.editor.positionFromMarkupsToClient(t.x,t.y)},Autodesk.Viewing.Extensions.Markups.Core.Markup.prototype.getClientSize=function(){var t=this.size;return this.editor.sizeFromMarkupsToClient(t.x,t.y)},n.setRotation=function(t){},n.getRotation=function(){return this.rotation},n.setSize=function(t,e){},n.isWidthConstrained=function(){return this.constraintWidth},n.isHeightConstrained=function(){return this.constraintHeight},n.isRotationConstrained=function(){return this.constraintRotation},n.disableInteractions=function(t){this.interactionsDisabled=t},n.setStrokeWidth=function(t){},n.constrainsToBounds=function(t){},n.onMouseDown=function(t){this.select(),this.editor.editFrame.startDrag()},n.setMetadata=function(){return null},n.bindTouchEvents=function(t){this.hammer=new Hammer.Manager(t,{recognizers:[[Hammer.Tap,{event:"singletap",pointers:1,threshold:2}]],inputClass:Hammer.TouchInput}),this.onSingleTapBinded=function(t){this.onMouseDown(t)}.bind(this),this.hammer.on("singletap",this.onSingleTapBinded)}}(),function(){function t(t,i){var n=["stroke-width","stroke-color","stroke-opacity"];e.Markup.call(this,t,i,n),this.type=e.MARKUP_TYPE_ARROW,this.constraintHeight=!0,this.head=new THREE.Vector3,this.tail=new THREE.Vector3,this.size.y=2*this.style["stroke-width"],this.createSVG(),this.bindDomEvents()}var e=Autodesk.Viewing.Extensions.Markups.Core,i=Autodesk.Viewing.Extensions.Markups.Core.Utils;t.prototype=Object.create(e.Markup.prototype),t.prototype.constructor=t;var n=t.prototype;n.getEditMode=function(){return new e.EditModeArrow(this.editor)},n.createSVG=function(){this.shape=i.createSvgElement("polygon")},n.bindDomEvents=function(){i.isTouchDevice()&&this.bindTouchEvents(this.shape),this.shape.addEventListener("mousedown",this.onMouseDown.bind(this),!0),this.shape.addEventListener("mouseout",function(){this.highlight(!1)}.bind(this)),this.shape.addEventListener("mouseover",function(){this.highlight(!0)}.bind(this))},n.set=function(t,e,i,n){var o=new THREE.Vector2(t,e),r=new THREE.Vector2(i,n),s=r.clone().sub(o).normalize();this.size.x=o.distanceTo(r),this.rotation=Math.acos(s.dot(new THREE.Vector2(1,0))),this.rotation=n>e?2*Math.PI-this.rotation:this.rotation,this.head.set(t,e,0),this.tail.set(i,n,0),this.updateTransformMatrix(),this.updateStyle()},n.setRotation=function(t){this.rotation=t,this.updateTransformMatrix(),this.updateStyle()},n.setSize=function(t,e,i){var n=Math.cos(this.rotation),o=Math.sin(this.rotation),r=new THREE.Vector2(n,o);r.multiplyScalar(.5*e);var s=new THREE.Vector2(t.x,t.y),a=s.clone().add(r),u=s.clone().sub(r);this.head.set(u.x,u.y,0),this.tail.set(a.x,a.y,0),this.position.x=t.x,this.position.y=t.y,this.size.x=e,this.updateTransformMatrix(),this.updateStyle()},n.updateTransformMatrix=function(){var t=this.head,e=this.tail,n=.5*this.size.x,o=this.style["stroke-width"],r=.5*(t.x+e.x),s=.5*(t.y+e.y);this.transformSvg=["translate(",r,",",s,") ","rotate(",i.radiansToDegrees(-this.rotation),") ","translate(",-n,",",-o,") "].join(""),this.position.x=e.x+.5*(t.x-e.x),this.position.y=e.y+.5*(t.y-e.y)},n.updateStyle=function(){this.size.y=2*this.style["stroke-width"],this.updateTransformMatrix();var t=this.highlighted?this.highlightColor:this.style["stroke-color"],e=this.getPolygonPoints(),i=e.map(function(t){return t[0]+","+t[1]}),n=i.join(" ");this.shape.setAttribute("points",n),this.shape.setAttribute("transform",this.transformSvg),this.shape.setAttribute("fill",t),this.shape.setAttribute("opacity",this.style["stroke-opacity"])},n.getPolygonPoints=function(){var t=this.style["stroke-width"],e=.5*this.size.x,i=t,n=.5*t,o=e-1.2*i,r=[-e,-n],s=[-e,n],a=[e,0],u=[o,-i],l=[o,-n],c=[o,n],h=[o,i],d=[r,l,u,a,h,c,s];return d.forEach(function(t){t[0]+=e,t[1]+=i}),d},n.setParent=function(t){var e=this.shape;e.parentNode&&e.parentNode.removeChild(e),t&&t.appendChild(e)},n.setPosition=function(t,e){var i=this.head,n=this.tail,o=i.x-n.x,r=i.y-n.y,s=t-.5*o,a=e-.5*r;i.x=s,i.y=a,n.x=s+o,n.y=a+r,this.updateTransformMatrix(),this.updateStyle()},n.created=function(){},n.destroy=function(){this.unselect(),this.setParent(null)},n.constrainsToBounds=function(t){},n.setMetadata=function(){var t=i.cloneStyle(this.style);return t.type="arrow",t.head=[this.head.x,this.head.y].join(" "),t.tail=[this.tail.x,this.tail.y].join(" "),t.rotation=String(this.rotation),i.addMarkupMetadata(this.shape,t)},n.renderToCanvas=function(t){var e=this.style["stroke-width"],n=this.style["stroke-color"],o=this.style["stroke-opacity"],r=this.head,s=this.tail,a=.5*this.size.x,u=e,l=.5*(r.x+s.x),c=.5*(r.y+s.y),h=this.editor.positionFromMarkupsToClient(a,u),d=this.editor.positionFromMarkupsToClient(l,c),p=(new THREE.Matrix4).makeTranslation(-h.x,-h.y,0),f=(new THREE.Matrix4).makeRotationZ(this.rotation),g=(new THREE.Matrix4).makeTranslation(d.x,d.y,0),y=g.multiply(f).multiply(p),v=this.getPolygonPoints();t.fillStyle=i.composeRGBAString(n,o),t.beginPath();var m=this;v.forEach(function(e){var i=e[0],n=e[1],o=m.editor.positionFromMarkupsToClient(i,n);o=o.applyMatrix4(y),t.lineTo(o.x,o.y)}),t.fill()},e.MarkupArrow=t}(),function(){function t(t,i){var n=["stroke-width","stroke-color","stroke-opacity","fill-color","fill-opacity"];e.Markup.call(this,t,i,n),this.type=e.MARKUP_TYPE_CIRCLE,this.createSVG(),this.bindDomEvents()}var e=Autodesk.Viewing.Extensions.Markups.Core,i=Autodesk.Viewing.Extensions.Markups.Core.Utils;t.prototype=Object.create(e.Markup.prototype),t.prototype.constructor=t;var n=t.prototype;n.getEditMode=function(){return new e.EditModeCircle(this.editor)},n.createSVG=function(){this.shape=i.createSvgElement("ellipse")},n.bindDomEvents=function(){i.isTouchDevice()&&this.bindTouchEvents(this.shape),this.shape.addEventListener("mousedown",this.onMouseDown.bind(this),!0),this.shape.addEventListener("mouseout",function(){this.highlight(!1)}.bind(this)),this.shape.addEventListener("mouseover",function(){this.highlight(!0)}.bind(this))},n.set=function(t,e){this.rotation=0,this.position.x=t.x,this.position.y=t.y,this.size.x=e.x,this.size.y=e.y,this.updateTransformMatrix(),this.updateStyle()},n.updateTransformMatrix=function(){var t=this.style["stroke-width"],e=.5*Math.max(this.size.x-t,0),n=.5*Math.max(this.size.y-t,0);this.transformSvg=["translate(",this.position.x,",",this.position.y,") ","rotate(",i.radiansToDegrees(-this.rotation),") ","translate(",-e,",",-n,") "].join("")},n.updateStyle=function(){this.updateTransformMatrix();var t=this.style["stroke-width"],e=this.highlighted?this.highlightColor:this.style["stroke-color"],n=this.style["stroke-opacity"],o=this.style["fill-color"],r=this.style["fill-opacity"],s=.5*Math.max(this.size.x-t,0),a=.5*Math.max(this.size.y-t,0);this.shape.setAttribute("transform",this.transformSvg),this.shape.setAttribute("stroke-width",t),this.shape.setAttribute("stroke",i.composeRGBAString(e,n)),this.shape.setAttribute("fill",i.composeRGBAString(o,r)),this.shape.setAttribute("cx",s),this.shape.setAttribute("cy",a),this.shape.setAttribute("rx",s),this.shape.setAttribute("ry",a)},n.setParent=function(t){var e=this.shape;e.parentNode&&e.parentNode.removeChild(e),t&&t.appendChild(e)},n.setRotation=function(t){this.rotation=t,this.updateTransformMatrix(),this.updateStyle()},n.setSize=function(t,e,i){this.position.x=t.x,this.position.y=t.y,this.size.x=e,this.size.y=i,this.updateTransformMatrix(),this.updateStyle()},n.setPosition=function(t,e){this.position.x=t,this.position.y=e,this.updateTransformMatrix(),this.updateStyle()},n.created=function(){},n.destroy=function(){this.unselect(),this.setParent(null)},n.setMetadata=function(){var t=i.cloneStyle(this.style);return t.type="ellipse",t.position=[this.position.x,this.position.y].join(" "),t.size=[this.size.x,this.size.y].join(" "),t.rotation=String(this.rotation),i.addMarkupMetadata(this.shape,t)},n.renderToCanvas=function(t){function e(t,e,i,n,o){t.beginPath();var r=e-n/2,s=e+n/2,a=i-o/2,u=i+o/2,l=.551784,c=l*n/2,h=l*o/2;t.moveTo(e,a),t.bezierCurveTo(e+c,a,s,i-h,s,i),t.bezierCurveTo(s,i+h,e+c,u,e,u),t.bezierCurveTo(e-c,u,r,i+h,r,i),t.bezierCurveTo(r,i-h,e-c,a,e,a),t.stroke()}var n=this.style["stroke-width"],o=this.style["stroke-color"],r=this.style["stroke-opacity"],s=this.style["fill-color"],a=this.style["fill-opacity"],u=this.size.x-n,l=this.size.y-n,c=this.editor.sizeFromMarkupsToClient(u,l),h=this.editor.positionFromMarkupsToClient(this.position.x,this.position.y);t.strokeStyle=i.composeRGBAString(o,r),t.fillStyle=i.composeRGBAString(s,a),t.lineWidth=this.editor.sizeFromMarkupsToClient(n,0).x,t.translate(h.x,h.y),t.rotate(this.rotation),t.beginPath(),e(t,0,0,c.x,c.y),0!==a&&t.fill(),t.stroke()},e.MarkupCircle=t}(),function(){function t(t,e){var n=["stroke-width","stroke-color","stroke-opacity","fill-color","fill-opacity"];i.Markup.call(this,t,e,n),this.type=i.MARKUP_TYPE_CLOUD,this.lineJoint="round",this.createSVG(),this.bindDomEvents()}function e(t){return"top"===t||"bottom"===t}var i=Autodesk.Viewing.Extensions.Markups.Core,n=Autodesk.Viewing.Extensions.Markups.Core.Utils;t.prototype=Object.create(i.Markup.prototype),t.prototype.constructor=t;var o=t.prototype;o.getEditMode=function(){return new i.EditModeCloud(this.editor)},o.createSVG=function(){this.shape=n.createSvgElement("path")},o.bindDomEvents=function(){n.isTouchDevice()&&this.bindTouchEvents(this.shape),this.shape.addEventListener("mousedown",this.onMouseDown.bind(this),!0),this.shape.addEventListener("mouseout",function(){this.highlight(!1)}.bind(this)),this.shape.addEventListener("mouseover",function(){this.highlight(!0)}.bind(this))},o.set=function(t,e){this.rotation=0,this.position.x=t.x,this.position.y=t.y,this.size.x=e.x,this.size.y=e.y,this.updateTransformMatrix(),this.updateStyle()},o.updateTransformMatrix=function(){var t=.5*this.size.x,e=.5*this.size.y;this.transformSvg=["translate(",this.position.x,",",this.position.y,") ","rotate(",n.radiansToDegrees(-this.rotation),") ","translate(",-t,",",-e,") "].join("")},o.updateStyle=function(){this.updateTransformMatrix();var t=this.style["stroke-width"],e=this.highlighted?this.highlightColor:this.style["stroke-color"],i=this.style["stroke-opacity"],o=this.style["fill-color"],r=this.style["fill-opacity"];this.shape.setAttribute("transform",this.transformSvg),this.shape.setAttribute("stroke-width",t),this.shape.setAttribute("stroke",n.composeRGBAString(e,i)),this.shape.setAttribute("fill",n.composeRGBAString(o,r)),this.shape.setAttribute("stroke-linejoin",this.lineJoint);var s=this.getPathMovements(),a=s.map(function(t,e){if(0===e)return["M"].concat(t.join(",")).join(" ");var i=t.map(function(t){return t.join(",")});return["C"].concat(i).join(" ")});a.push("Z"),this.shape.setAttribute("d",a.join(" "))},o.getPathMovements=function(){function t(t,e,i){var n=.25*t,o=.75*t;switch(i){case"top":return[[f+n,g-e],[f+o,g-e],[f+=t,g]];case"right":return[[f+e,g+n],[f+e,g+o],[f,g+=t]];case"bottom":return[[f-n,g+e],[f-o,g+e],[f-=t,g]];case"left":return[[f-e,g-n],[f-e,g-o],[f,g-=t]]}}var i=this.style["stroke-width"],n=0===this.size.x?1:this.size.x,o=0===this.size.y?1:this.size.y,r=4*i,s=3*i,a=s+i/2,u=n-2*a,l=o-2*a,c=u/r,h=l/r,d=c%1,p=h%1;c=parseInt(c,10),h=parseInt(h,10);var f=a,g=a,y=[[f,g]];return["top","right","bottom","left"].forEach(function(i){for(var n=e(i),o=n?c:h,a=n?d:p,u=0;o>u;u++)y.push(t(r,s,i));0!==a&&y.push(t(a*r,s,i))}),y},o.setParent=function(t){var e=this.shape;e.parentNode&&e.parentNode.removeChild(e),t&&t.appendChild(e)},o.setRotation=function(t){this.rotation=t,this.updateTransformMatrix(),this.updateStyle()},o.setSize=function(t,e,i){this.position.x=t.x,this.position.y=t.y,this.size.x=e,this.size.y=i,this.updateTransformMatrix(),this.updateStyle()},o.setPosition=function(t,e){this.position.x=t,this.position.y=e,this.updateTransformMatrix(),this.updateStyle()},o.created=function(){},o.destroy=function(){this.unselect(),this.setParent(null)},o.constrainsToBounds=function(t){},o.setMetadata=function(){var t=n.cloneStyle(this.style);return t.type="cloud",t.position=[this.position.x,this.position.y].join(" "),t.size=[this.size.x,this.size.y].join(" "),t.rotation=String(this.rotation),n.addMarkupMetadata(this.shape,t)},o.renderToCanvas=function(t){var e=(new THREE.Matrix4).makeTranslation(.5*-this.size.x,.5*-this.size.y,0),i=(new THREE.Matrix4).makeRotationZ(-this.rotation),o=(new THREE.Matrix4).makeTranslation(this.position.x,this.position.y,0),r=o.multiply(i).multiply(e),s=this.highlighted?this.highlightColor:this.style["stroke-color"],a=this.style["stroke-opacity"],u=this.style["fill-color"],l=this.style["fill-opacity"];t.strokeStyle=n.composeRGBAString(s,a),t.fillStyle=n.composeRGBAString(u,l),t.lineJoin=this.lineJoint,t.lineWidth=this.editor.sizeFromMarkupsToClient(this.style["stroke-width"],0).x,t.beginPath();var c=new THREE.Vector3,h=this.editor.positionFromMarkupsToClient.bind(this.editor),d=this.getPathMovements();d.forEach(function(e,i){if(0===i){c.x=e[0],c.y=e[1],c.z=0,c=c.applyMatrix4(r);var n=h(c.x,c.y);t.moveTo(n.x,n.y)}else{c.x=e[0][0],c.y=e[0][1],c.z=0,c=c.applyMatrix4(r);var o=h(c.x,c.y);c.x=e[1][0],c.y=e[1][1],c.z=0,c=c.applyMatrix4(r);var s=h(c.x,c.y);c.x=e[2][0],c.y=e[2][1],c.z=0,c=c.applyMatrix4(r);var a=h(c.x,c.y);t.bezierCurveTo(o.x,o.y,s.x,s.y,a.x,a.y)}}),t.closePath(),0!==l&&t.fill(),t.stroke()},i.MarkupCloud=t}(),function(){function t(t,i){var n=["stroke-width","stroke-color","stroke-opacity"];e.Markup.call(this,t,i,n),this.type=e.MARKUP_TYPE_FREEHAND,this.iniSize={x:1,y:1},this.createSVG(),this.bindDomEvents()}var e=Autodesk.Viewing.Extensions.Markups.Core,i=Autodesk.Viewing.Extensions.Markups.Core.Utils;t.prototype=Object.create(e.Markup.prototype),t.prototype.constructor=t;var n=t.prototype;n.getEditMode=function(){return new e.EditModeFreehand(this.editor)},n.createSVG=function(){this.shape=i.createSvgElement("path")},n.bindDomEvents=function(){i.isTouchDevice()&&this.bindTouchEvents(this.shape),this.shape.addEventListener("mousedown",this.onMouseDown.bind(this),!0),this.shape.addEventListener("mouseout",function(){this.highlight(!1)}.bind(this)),this.shape.addEventListener("mouseover",function(){this.highlight(!0)}.bind(this))},n.set=function(t,e,i){this.rotation=0,this.position.x=t.x,this.position.y=t.y,this.size.x=e.x,this.size.y=e.y,this.locations=i.concat(),this.iniSize.x=0===e.x?1:e.x,this.iniSize.y=0===e.y?1:e.y,this.updateTransformMatrix(),this.updateStyle()},n.updateTransformMatrix=function(){var t=this.size.x/this.iniSize.x,e=this.size.y/this.iniSize.y;this.transformSvg=["translate(",this.position.x,",",this.position.y,") ","rotate(",i.radiansToDegrees(-this.rotation),") ","scale(",t,",",e,") "].join("")},n.updateStyle=function(){this.updateTransformMatrix();var t=this.style["stroke-width"],e=this.highlighted?this.highlightColor:this.style["stroke-color"],n=this.style["stroke-opacity"];this.shape.setAttribute("transform",this.transformSvg),this.shape.setAttribute("stroke-width",t),this.shape.setAttribute("stroke",i.composeRGBAString(e,n)),this.shape.setAttribute("fill","none"),this.shape.setAttribute("opacity",i.composeRGBAString(e,n));var o=this.locations.map(function(t,e){return 0===e?["M"].concat([t.x,t.y]).join(" "):["L"].concat([t.x,t.y]).join(" ")}).join(" ");this.shape.setAttribute("d",o)},n.setParent=function(t){var e=this.shape;e.parentNode&&e.parentNode.removeChild(e),t&&t.appendChild(e)},n.setRotation=function(t){this.rotation=t,this.updateTransformMatrix(),this.updateStyle()},n.setSize=function(t,e,i){this.position.x=t.x,this.position.y=t.y,this.size.x=e,this.size.y=i,this.updateTransformMatrix(),this.updateStyle()},n.setPosition=function(t,e){this.position.x=t,this.position.y=e,this.updateTransformMatrix(),this.updateStyle()},n.created=function(){},n.destroy=function(){this.unselect(),this.setParent(null)},n.constrainsToBounds=function(t){},n.setMetadata=function(){var t=i.cloneStyle(this.style);return t.type="freehand",t.position=[this.position.x,this.position.y].join(" "),t.size=[this.size.x,this.size.y].join(" "),t.rotation=String(this.rotation),t.locations=this.locations.map(function(t){return[t.x,t.y].join(" ")}).join(" "),i.addMarkupMetadata(this.shape,t)},n.renderToCanvas=function(t){var e=this.style["stroke-width"],n=this.style["stroke-color"],o=this.style["stroke-opacity"],r=this.size.x/this.iniSize.x,s=this.size.y/this.iniSize.y,a=(new THREE.Matrix4).makeScale(r,s,1),u=(new THREE.Matrix4).makeRotationZ(-this.rotation),l=(new THREE.Matrix4).makeTranslation(this.position.x,this.position.y,0),c=l.multiply(u).multiply(a);t.strokeStyle=i.composeRGBAString(n,o),t.lineWidth=this.editor.sizeFromMarkupsToClient(e,0).x,t.beginPath();var h=this,d=new THREE.Vector3;this.locations.forEach(function(e,i){d.x=e.x,d.y=e.y,d.z=0,d=d.applyMatrix4(c),e=h.editor.positionFromMarkupsToClient(d.x,d.y),0===i?t.moveTo(e.x,e.y):t.lineTo(e.x,e.y)}),t.stroke()},e.MarkupFreehand=t}(),function(){function t(t,i){var n=["stroke-width","stroke-color","stroke-opacity","fill-color","fill-opacity"];e.Markup.call(this,t,i,n),this.type=e.MARKUP_TYPE_RECTANGLE,this.createSVG(),this.bindDomEvents()}var e=Autodesk.Viewing.Extensions.Markups.Core,i=Autodesk.Viewing.Extensions.Markups.Core.Utils;t.prototype=Object.create(e.Markup.prototype),t.prototype.constructor=t;var n=t.prototype;n.getEditMode=function(){return new e.EditModeRectangle(this.editor)},n.createSVG=function(){this.shape=i.createSvgElement("rect")},n.bindDomEvents=function(){i.isTouchDevice()&&this.bindTouchEvents(this.shape),this.shape.addEventListener("mousedown",this.onMouseDown.bind(this),!0),this.shape.addEventListener("mouseout",function(){this.highlight(!1)}.bind(this)),this.shape.addEventListener("mouseover",function(){this.highlight(!0)}.bind(this))},n.set=function(t,e){this.rotation=0,this.position.x=t.x,this.position.y=t.y,this.size.x=e.x,this.size.y=e.y,this.updateTransformMatrix(),this.updateStyle()},n.updateTransformMatrix=function(){var t=this.style["stroke-width"],e=.5*Math.max(this.size.x-t,0),n=.5*Math.max(this.size.y-t,0);this.transformSvg=["translate(",this.position.x,",",this.position.y,") ","rotate(",i.radiansToDegrees(-this.rotation),") ","translate(",-e,",",-n,") "].join("")},n.updateStyle=function(){this.updateTransformMatrix();var t=this.style["stroke-width"],e=this.highlighted?this.highlightColor:this.style["stroke-color"],n=this.style["stroke-opacity"],o=this.style["fill-color"],r=this.style["fill-opacity"];this.shape.setAttribute("transform",this.transformSvg),this.shape.setAttribute("stroke-width",t),this.shape.setAttribute("stroke",i.composeRGBAString(e,n)),this.shape.setAttribute("fill",i.composeRGBAString(o,r)),this.shape.setAttribute("width",Math.max(this.size.x-t,0)),this.shape.setAttribute("height",Math.max(this.size.y-t,0))},n.setParent=function(t){var e=this.shape;e.parentNode&&e.parentNode.removeChild(e),t&&t.appendChild(e)},n.setRotation=function(t){this.rotation=t,this.updateTransformMatrix(),this.updateStyle()},n.setSize=function(t,e,i){this.position.x=t.x,this.position.y=t.y,this.size.x=e,this.size.y=i,this.updateTransformMatrix(),this.updateStyle()},n.setPosition=function(t,e){this.position.x=t,this.position.y=e,this.updateTransformMatrix(),this.updateStyle()},n.created=function(){},n.destroy=function(){this.unselect(),this.setParent(null)},n.constrainsToBounds=function(t){},n.setMetadata=function(){var t=i.cloneStyle(this.style);return t.type="rectangle",t.position=[this.position.x,this.position.y].join(" "),t.size=[this.size.x,this.size.y].join(" "),t.rotation=String(this.rotation),i.addMarkupMetadata(this.shape,t)},n.renderToCanvas=function(t){var e=this.style["stroke-width"],n=this.highlighted?this.highlightColor:this.style["stroke-color"],o=this.style["stroke-opacity"],r=this.style["fill-color"],s=this.style["fill-opacity"],a=this.size.x-e,u=this.size.y-e,l=this.editor.sizeFromMarkupsToClient(a,u),c=l.x,h=l.y,d=this.editor.positionFromMarkupsToClient(this.position.x,this.position.y);t.strokeStyle=i.composeRGBAString(n,o),t.fillStyle=i.composeRGBAString(r,s),t.lineWidth=this.editor.sizeFromMarkupsToClient(e,0).x,t.translate(d.x,d.y),t.rotate(this.getRotation()),0!==s&&t.fillRect(c/-2,h/-2,c,h),t.strokeRect(c/-2,h/-2,c,h)},e.MarkupRectangle=t}(),function(){function t(t,e,n){var o=["font-size","stroke-color","stroke-opacity","fill-color","fill-opacity","font-family","font-style","font-weight"];i.Markup.call(this,t,e,o),this.constraintRotation=!0,this.type=i.MARKUP_TYPE_TEXT,this.size.x=n.x,this.size.y=n.y,this.currentText="",this.currentTextLines=[""],this.textDirty=!0,this.lineHeight=130,this.createSvg(),this.bindDomEvents()}function e(t,e,i,n){var o=0;e.forEach(function(e){o+i>n||(t.fillText(e,0,o),o+=i)})}var i=Autodesk.Viewing.Extensions.Markups.Core,n=Autodesk.Viewing.Extensions.Markups.Core.Utils;t.prototype=Object.create(i.Markup.prototype),t.prototype.constructor=t;var o=t.prototype;o.getEditMode=function(){return new i.EditModeText(this.editor)},o.createSvg=function(){this.clipPath=n.createSvgElement("clipPath"),this.clipPathId="CO2_Markup_clip_"+this.id,this.clipPath.setAttribute("id",this.clipPathId),this.clipPath.removeAttribute("pointer-events"),this.clipRect=n.createSvgElement("rect"),this.clipRect.removeAttribute("pointer-events"),this.clipPath.appendChild(this.clipRect),this.shape=n.createSvgElement("text"),this.shapeBg=n.createSvgElement("rect")},o.bindDomEvents=function(){n.isTouchDevice()&&this.bindTouchEvents(this.shape),this.shape.addEventListener("mousedown",this.onMouseDown.bind(this),!0),this.shape.addEventListener("mouseout",function(){this.highlight(!1)}.bind(this)),this.shape.addEventListener("mouseover",function(){this.highlight(!0)}.bind(this))},o.set=function(t,e,i,n){this.position.x=t.x,this.position.y=t.y,this.size.x=e.x,this.size.y=e.y,this.updateTransformMatrix(),this.updateStyle(),this.setText(i,n)},o.updateTransformMatrix=function(){var t=.5*this.size.x,e=.5*this.size.y,i=this.position.x-t,n=this.position.y-e;this.transformSvg=["translate(",i,",",n,") ","scale(",1,",",-1,") "].join("")},o.setPosition=function(t,e){this.position.x=t,this.position.y=e,this.updateTransformMatrix(),this.updateStyle()},o.setSize=function(t,e,i){var n=this.size.x!==e;if(this.position.x=t.x,this.position.y=t.y,this.size.x=e,this.size.y=i,n){var o=this.calcTextLines();this.linesAreEqual(o)||(this.currentTextLines=o,this.textDirty=!0,this.forceRedraw())}this.updateTransformMatrix(),this.updateStyle()},o.calcTextLines=function(){return this.editor.editMode.textInputHelper.getTextValuesForMarkup(this).lines},o.setStyle=function(t){n.copyStyle(t,this.style),this.updateStyle(!0)},o.linesAreEqual=function(t){var e=this.currentTextLines;if(t.length!==e.length)return!1;for(var i=e.length,n=0;i>n;++n)if(t[n]!==e[n])return!1;return!0},o.setParent=function(t){var e=this.clipPath.parentNode;e&&e.removeChild(this.clipPath),t&&t.appendChild(this.clipPath),e=this.shapeBg.parentNode,e&&e.removeChild(this.shapeBg),t&&t.appendChild(this.shapeBg),e=this.shape.parentNode,e&&e.removeChild(this.shape),t&&t.appendChild(this.shape)},o.setText=function(t){this.currentText=t,this.currentTextLines=this.calcTextLines(),this.textDirty=!0,this.updateStyle()},o.getText=function(){return this.currentText},o.getTextLines=function(){return this.currentTextLines.concat()},o.updateStyle=function(t){this.updateTransformMatrix();var e=this.style["font-size"],i=this.highlighted?this.highlightColor:this.style["stroke-color"],o=this.style["stroke-opacity"];
this.shape.setAttribute("font-family",this.style["font-family"]),this.shape.setAttribute("font-size",e),this.shape.setAttribute("font-weight",this.style["font-weight"]?"bold":""),this.shape.setAttribute("font-style",this.style["font-style"]?"italic":""),this.shape.setAttribute("fill",n.composeRGBAString(i,o));var r=this.shape.getBBox(),s=["translate(0, ",-this.size.y+e,")"].join("");this.shape.setAttribute("transform",this.transformSvg+s),this.shape.setAttribute("clip-path","url(#"+this.clipPathId+")"),(this.textDirty||t)&&(t&&(this.currentTextLines=this.calcTextLines()),this.rebuildTextSvg(),this.textDirty=!1),this.clipRect.setAttribute("x","0"),this.clipRect.setAttribute("y",r.y),this.clipRect.setAttribute("width",this.size.x),this.clipRect.setAttribute("height",this.size.y);var a=this.style["fill-color"],u=this.style["fill-opacity"];s=["translate(0, ",-this.size.y,")"].join(""),this.shapeBg.setAttribute("transform",this.transformSvg+s),this.shapeBg.setAttribute("width",this.size.x),this.shapeBg.setAttribute("height",this.size.y),this.shapeBg.setAttribute("stroke-width","0"),this.shapeBg.setAttribute("fill",n.composeRGBAString(a,u))},o.rebuildTextSvg=function(){for(;this.shape.childNodes.length>0;)this.shape.removeChild(this.shape.childNodes[0]);var t=0,e=0,i=this.getLineHeight();this.currentTextLines.forEach(function(o){var r=n.createSvgElement("tspan");r.setAttribute("x",t),r.setAttribute("y",e),r.textContent=o,this.shape.appendChild(r),e+=i}.bind(this))},o.setMetadata=function(){var t=n.cloneStyle(this.style);return t.type="label",t.position=[this.position.x,this.position.y].join(" "),t.size=[this.size.x,this.size.y].join(" "),t.text=String(this.currentText),n.addMarkupMetadata(this.shape,t)},o.getClientFontSize=function(){return this.editor.sizeFromMarkupsToClient(0,this.style["font-size"]).y},o.getLineHeight=function(){return this.style["font-size"]*(.01*this.lineHeight)},o.forceRedraw=function(){window.requestAnimationFrame(function(){this.highlighted=!this.highlighted,this.updateStyle(),this.highlighted=!this.highlighted,this.updateStyle()}.bind(this))},o.renderToCanvas=function(t){var i=this.style["font-family"],o=this.style["font-style"]?"italic":"",r=this.style["font-weight"]?"bold":"",s=this.style["stroke-color"],a=this.style["stroke-opacity"],u=this.getClientFontSize(),l=u*(.01*this.lineHeight),c=this.editor.positionFromMarkupsToClient(this.position.x,this.position.y),h=this.editor.sizeFromMarkupsToClient(this.size.x,this.size.y);t.save();var d=this.style["fill-color"],p=this.style["fill-opacity"];t.fillStyle=n.composeRGBAString(d,p),t.translate(c.x,c.y),0!==p&&t.fillRect(h.x*-.5,h.y*-.5,h.x,h.y),t.restore(),t.fillStyle=s,t.strokeStyle=s,t.textBaseline="top",t.translate(c.x-.5*h.x,c.y-.5*h.y),t.font=o+" "+r+" "+u+"px "+i,t.globalAlpha=a,e(t,this.currentTextLines,l,h.y)},i.MarkupText=t}(),function(){function t(){Autodesk.Viewing.ToolInterface.call(this),this.names=["markups.core"],this.panTool=null,this.allowNav=!1,this.coreExt=null,this.hotkeysEnabled=!0;var t=!1,e=!1;this.allowNavigation=function(t){this.allowNav=t},this.setCoreExtension=function(t){this.coreExt=t},this.setHotkeysEnabled=function(t){this.hotkeysEnabled=t},this.activate=function(t,e){this.panTool=e.toolController.getTool("pan"),this.panTool&&this.panTool.activate("pan")},this.deactivate=function(t){this.panTool&&this.panTool.deactivate("pan"),this.panTool=null},this.handleKeyDown=function(i,n){if(!this.hotkeysEnabled)return!0;switch(n){case Autodesk.Viewing.KeyCode.CONTROL:t=!0;break;case Autodesk.Viewing.KeyCode.SHIFT:e=!0;break;case Autodesk.Viewing.KeyCode.x:t&&!this.allowNav&&this.coreExt.cut();break;case Autodesk.Viewing.KeyCode.c:t&&!this.allowNav&&this.coreExt.copy();break;case Autodesk.Viewing.KeyCode.v:t&&!this.allowNav&&this.coreExt.paste();break;case Autodesk.Viewing.KeyCode.d:t&&!this.allowNav&&(this.coreExt.copy(),this.coreExt.paste());break;case Autodesk.Viewing.KeyCode.z:!t||e||this.allowNav?t&&e&&!this.allowNav&&this.coreExt.redo():this.coreExt.undo();break;case Autodesk.Viewing.KeyCode.y:t&&!this.allowNav&&this.coreExt.redo();break;case Autodesk.Viewing.KeyCode.ESCAPE:this.coreExt.selectMarkup(null)}return!0},this.handleKeyUp=function(i,n){if(!this.hotkeysEnabled)return!0;switch(n){case Autodesk.Viewing.KeyCode.CONTROL:t=!1;break;case Autodesk.Viewing.KeyCode.SHIFT:e=!1}return!0},this.update=function(){return this.allowNav&&this.panTool&&this.panTool.update?this.panTool.update():!1},this.handleSingleClick=function(t,e){return this.allowNav&&this.panTool&&this.panTool.handleSingleClick?this.panTool.handleSingleClick(t,e):!0},this.handleDoubleClick=function(t,e){return this.allowNav&&this.panTool&&this.panTool.handleDoubleClick?this.panTool.handleDoubleClick(t,e):!0},this.handleSingleTap=function(t){return this.allowNav&&this.panTool&&this.panTool.handleSingleTap?this.panTool.handleSingleTap(t):!0},this.handleDoubleTap=function(t){return this.allowNav&&this.panTool&&this.panTool.handleDoubleTap?this.panTool.handleDoubleTap(t):!0},this.handleWheelInput=function(t){return this.allowNav&&this.panTool&&this.panTool.handleWheelInput?this.panTool.handleWheelInput(t):!0},this.handleButtonDown=function(t,e){return this.allowNav&&this.panTool&&this.panTool.handleButtonDown?this.panTool.handleButtonDown(t,e):!0},this.handleButtonUp=function(t,e){return this.allowNav&&this.panTool&&this.panTool.handleButtonUp?this.panTool.handleButtonUp(t,e):!0},this.handleMouseMove=function(t){return this.allowNav&&this.panTool&&this.panTool.handleMouseMove?this.panTool.handleMouseMove(t):!0},this.handleGesture=function(t){return this.allowNav&&this.panTool&&this.panTool.handleGesture?this.panTool.handleGesture(t):!0},this.handleBlur=function(t){return this.allowNav&&this.panTool&&this.panTool.handleBlur?this.panTool.handleBlur(t):!0}}var e=Autodesk.Viewing.Extensions.Markups.Core;e.MarkupTool=t}(),function(){function t(t,n){Autodesk.Viewing.Extension.call(this,t,n),this.options=this.options||{},this.markups=[],this.styles={},this.duringViewMode=!1,this.duringEditMode=!1,this.actionManager=new e.EditActionManager(50),this.actionManager.addEventListener(e.EVENT_HISTORY_CHANGED,this.onEditActionHistoryChanged.bind(this)),this.nextId=0,this.clipboard=new e.Clipboard(this),this.input=new e.InputHandler,i.addTraitEventDispatcher(this),this.onCameraChangeBinded=this.onCameraChange.bind(this),this.onViewerResizeBinded=function(t){var e=this;e.onViewerResize(t),requestAnimationFrame(function(){e.duringViewMode&&e.onViewerResize(t)})}.bind(this),this.onMarkupDraggingBinded=this.onMarkupDragging.bind(this),this.onMarkupSelectedBinded=this.onMarkupSelected.bind(this),this.onMarkupEnterEditionBinded=this.onMarkupEnterEdition.bind(this),this.onMarkupCancelEditionBinded=this.onMarkupCancelEdition.bind(this),this.onMarkupDeleteEditionBinded=this.onMarkupDeleteEdition.bind(this)}var e=AutodeskNamespace("Autodesk.Viewing.Extensions.Markups.Core"),i=AutodeskNamespace("Autodesk.Viewing.Extensions.Markups.Core.Utils");t.prototype=Object.create(Autodesk.Viewing.Extension.prototype),t.prototype.constructor=t,e.MarkupsCore=t,e.EVENT_ENTER_EDIT_MODE="EVENT_MARKUP_CORE_ENTER_EDIT_MODE",e.EVENT_LEAVE_EDIT_MODE="EVENT_MARKUP_CORE_LEAVE_EDIT_MODE",e.EVENT_SELECTION_CHANGED="EVENT_MARKUP_SELECTION_CHANGED";var n=t.prototype;n.load=function(){var t=this.svg=i.createSvgElement("svg");i.setSvgParentAttributes(t);var n=new i.DomElementStyle;n.setAttribute("position","absolute"),n.setAttribute("left","0"),n.setAttribute("top","0"),n.setAttribute("transform","scale(1,-1)",{allBrowsers:!0}),n.setAttribute("transformOrigin","0, 0",{allBrowsers:!0}),n.setAttribute("cursor","default"),t.setAttribute("style",n.getStyleString()),this.bounds={x:0,y:0,width:0,height:0},this.input.attachTo(this),this.editFrame=new e.EditFrame(this.viewer.container,this),this.editFrame.addEventListener(e.EVENT_EDITFRAME_EDITION_START,function(){this.disableMarkupInteractions(!0)}.bind(this)),this.editFrame.addEventListener(e.EVENT_EDITFRAME_EDITION_END,function(){this.disableMarkupInteractions(!1)}.bind(this));var o=this.options.markupToolClass||e.MarkupTool;return this.markupTool=new o,this.markupTool.setCoreExtension(this),this.markupTool.setHotkeysEnabled(!this.options.markupDisableHotkeys),this.viewer.toolController.registerTool(this.markupTool),!0},n.unload=function(){this.hide(),this.input.detachFrom(this),this.markupTool&&(this.viewer.toolController.deregisterTool(this.markupTool),this.markupTool=null);var t=this.svg;return t&&this.onMouseDownBinded&&(t.removeEventListener("mousedown",this.onMouseDownBinded),this.onMouseDownBinded=null),t.parentNode&&t.parentNode.removeChild(t),this.editModeSvgLayerNode=null,this.svg=null,!0},Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore.prototype.toggleEditMode=function(){this.duringEditMode?this.leaveEditMode():this.enterEditMode()},Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore.prototype.enterEditMode=function(){return this.duringEditMode?!0:this.duringViewMode||this.show()?(this.editModeSvgLayerNode||(this.editModeSvgLayerNode=i.createSvgElement("g")),this.svg.insertBefore(this.editModeSvgLayerNode,this.svg.firstChild),this.input.enterEditMode(),this.viewer.setActiveNavigationTool(this.markupTool.getName()),this.allowNavigation(!1),this.changeEditMode(new e.EditModeArrow(this)),this.actionManager.clear(),this.styles={},this.duringEditMode=!0,!0):!1},Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore.prototype.leaveEditMode=function(){var t=!0,e=!1;if(!this.duringEditMode||!this.duringViewMode)return t;var i=this.viewer;return i?(this.svg.removeChild(this.editModeSvgLayerNode),this.input.leaveEditMode(),this.editFrame.setMarkup(null),i.setActiveNavigationTool(this.markupTool.getName()),this.allowNavigation(!0),this.editMode.destroy(),this.editMode=null,this.duringEditMode=!1,t):e},Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore.prototype.toggle=function(){this.duringViewMode?this.hide():this.show()},Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore.prototype.show=function(){var t=this.viewer;if(!t||!t.model)return!1;if(this.duringViewMode||this.duringEditMode)return!0;t.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT,this.onCameraChangeBinded),t.addEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT,this.onViewerResizeBinded),t.container.appendChild(this.svg),this.input.enterViewMode(),i.hideLmvUi(t),this.onViewerRolloverObject=t.impl.rolloverObject,t.impl.rolloverObject=function(){},this.options.markupBypassOrthoCam||i.forceOrthographicCamera(t),this.cachedNavigationTool=this.viewer.getActiveNavigationTool(),t.setActiveNavigationTool(this.markupTool.getName()),this.allowNavigation(!0);var e=t.impl.camera;return this.onViewerResize({width:e.clientWidth,height:e.clientHeight}),this.clear(),this.svgLayersMap={},this.duringViewMode=!0,!0},Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore.prototype.hide=function(){var t=!0,e=!1,n=this.viewer;if(!n||!this.duringViewMode)return t;if(this.duringEditMode&&!this.leaveEditMode())return e;n.removeEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT,this.onCameraChangeBinded),n.removeEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT,this.onViewerResizeBinded);var o=this.svg;return o.parentNode&&o.parentNode.removeChild(o),this.unloadMarkupsAllLayers(),i.removeAllMetadata(o),this.input.leaveViewMode(),i.restoreLmvUi(n),this.viewer.impl.rolloverObject=this.onViewerRolloverObject,this.viewer.setActiveNavigationTool(this.cachedNavigationTool),this.cachedNavigationTool=null,this.duringViewMode=!1,t},Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore.prototype.clear=function(){for(var t=this.markups;t.length>0;){var e=t[0];this.removeMarkup(e),e.destroy()}var i=this.editModeSvgLayerNode;if(i&&i.childNodes.length>0)for(;i.childNodes.length;)i.removeChild(i.childNodes[0])},Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore.prototype.generateData=function(){i.removeAllMetadata(this.svg);var t=i.createSvgElement("svg");i.transferChildNodes(this.svg,t),i.transferChildNodes(this.editModeSvgLayerNode,this.svg);var e={"data-model-version":"1"},n=i.addSvgMetadata(this.svg,e),o=[n];this.markups.forEach(function(t){var e=t.setMetadata();e&&o.push(e)});var r=i.svgNodeToString(this.svg);return o.forEach(function(t){t.parentNode.removeChild(t)}),i.transferChildNodes(this.svg,this.editModeSvgLayerNode),i.transferChildNodes(t,this.svg),t=null,r},Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore.prototype.renderToCanvas=function(t){this.markups.forEach(function(e){t.save(),e.renderToCanvas(t),t.restore()})},Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore.prototype.changeEditMode=function(t){var n=this.editMode;n&&n.destroy(),t.addEventListener(e.EVENT_EDITMODE_CREATION_BEGIN,function(){this.disableMarkupInteractions(!0)}.bind(this)),t.addEventListener(e.EVENT_EDITMODE_CREATION_END,function(){this.disableMarkupInteractions(!1)}.bind(this)),t.addEventListener(e.EVENT_MARKUP_DESELECT,function(t){this.fireEvent(t)}.bind(this)),this.editMode=t,this.styles[t.type]=i.cloneStyle(t.getStyle()),this.fireEvent({type:e.EVENT_EDITMODE_CHANGED,target:t})},Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore.prototype.allowNavigation=function(t){var e=this.editMode;this.navigating=t,t?(this.svg.setAttribute("pointer-events","none"),e&&this.selectMarkup(null)):this.svg.setAttribute("pointer-events","painted"),this.markupTool.allowNavigation(t),e&&e.notifyAllowNavigation(t)},Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore.prototype.disableMarkupInteractions=function(t){this.markups.forEach(function(e){e.disableInteractions(t)})},n.changeInputHandler=function(t){this.input.detachFrom(this),t.attachTo(this),this.input=t,this.duringEditMode&&t.enterEditMode(),this.duringViewMode&&t.enterViewMode()},Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore.prototype.copy=function(){this.clipboard.copy()},Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore.prototype.cut=function(){this.clipboard.cut()},Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore.prototype.paste=function(){this.clipboard.paste()},Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore.prototype.undo=function(){this.actionManager.undo()},Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore.prototype.redo=function(){this.actionManager.redo()},Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore.prototype.isUndoStackEmpty=function(){return this.actionManager.isUndoStackEmpty()},Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore.prototype.isRedoStackEmpty=function(){return this.actionManager.isRedoStackEmpty()},n.beginActionGroup=function(){this.actionManager.beginActionGroup()},n.closeActionGroup=function(){this.actionManager.closeActionGroup()},n.cancelActionGroup=function(){this.actionManager.cancelActionGroup()},Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore.prototype.getId=function(){return++this.nextId},n.onEditActionHistoryChanged=function(t){var e=t.data,i=this.editMode,n=i&&i.selectedMarkup&&i.selectedMarkup.id===e.targetId;if("undo"!==e.action&&-1!==e.targetId||"undo"===e.action&&n){var o=this.getMarkup(e.targetId);this.selectMarkup(o)}this.fireEvent(t)},Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore.prototype.getMarkup=function(t){for(var e=this.markups,i=e.length,n=0;i>n;++n)if(e[n].id==t)return e[n];return null},n.selectMarkup=function(t){if(t)if(this.editMode.type===t.type)this.editMode.setSelection(t);else{var e=t.getEditMode();e.setSelection(null),this.changeEditMode(e),this.setStyle(t.getStyle()),this.editMode.setSelection(t)}else this.editMode.setSelection(null)},Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore.prototype.getSelection=function(){return this.editMode.getSelection()},Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore.prototype.deleteMarkup=function(t,e){var i=t.getEditMode();i.deleteMarkup(t,e)},n.addMarkup=function(t){t.setParent(this.editModeSvgLayerNode),t.addEventListener(e.EVENT_MARKUP_SELECTED,this.onMarkupSelectedBinded),t.addEventListener(e.EVENT_MARKUP_DRAGGING,this.onMarkupDraggingBinded),t.addEventListener(e.EVENT_MARKUP_ENTER_EDITION,this.onMarkupEnterEditionBinded),t.addEventListener(e.EVENT_MARKUP_CANCEL_EDITION,this.onMarkupCancelEditionBinded),t.addEventListener(e.EVENT_MARKUP_DELETE_EDITION,this.onMarkupDeleteEditionBinded),this.markups.push(t)},n.removeMarkup=function(t){t.setParent(null),t.removeEventListener(e.EVENT_MARKUP_SELECTED,this.onMarkupSelectedBinded),t.removeEventListener(e.EVENT_MARKUP_DRAGGING,this.onMarkupDraggingBinded),t.removeEventListener(e.EVENT_MARKUP_ENTER_EDITION,this.onMarkupEnterEditionBinded),t.removeEventListener(e.EVENT_MARKUP_CANCEL_EDITION,this.onMarkupCancelEditionBinded),t.removeEventListener(e.EVENT_MARKUP_DELETE_EDITION,this.onMarkupDeleteEditionBinded);var i=this.markups,n=i.indexOf(t);-1!==n&&i.splice(n,1);var o=this.editMode;if(o){var r=o.getSelection();r===t&&this.selectMarkup(null)}},n.setStyle=function(t){var e=this.styles,n=this.editMode;i.copyStyle(t,e[n.type]),n.setStyle(e[n.type])},n.getStyle=function(){return i.cloneStyle(this.styles[this.editMode.type])},n.bringToFront=function(t){this.sendMarkupTo(t,this.markups.length-1)},n.sendToBack=function(t){this.sendMarkupTo(t,0)},n.bringForward=function(t){var e=this.markups.indexOf(t);this.sendMarkupTo(t,e+1)},n.bringBackward=function(t){var e=this.markups.indexOf(t);this.sendMarkupTo(t,e-1)},n.sendMarkupTo=function(t,e){var i=this.markups,n=i.indexOf(t);-1!==n||0>e||e>=i.length||(i.splice(n,1),e=n>e?e-1:e,i.splice(e,0,t),t.setParent(null),t.setParent(this.editModeSvgLayerNode))},Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore.prototype.loadMarkups=function(t,e){if(!this.duringViewMode)return!1;if(!e)return console.warn("loadMarkups failed; missing 2nd argument 'layerId'"),!1;var n=i.stringToSvgNode(t);if(!n)return!1;i.removeAllMetadata(n);var o=this.svgLayersMap[e];o||(o=i.createSvgElement("g"),this.svg.appendChild(o),this.svgLayersMap[e]=o);for(var r=n.childNodes;r.length;)o.appendChild(r[0]);return!0},Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore.prototype.unloadMarkups=function(t){if(!t)return console.warn("unloadMarkups failed; No layerId provided."),!1;var e=this.svgLayersMap[t];return e?(this.svg.removeChild(e),delete this.svgLayersMap[t],!0):!1},Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore.prototype.unloadMarkupsAllLayers=function(){for(var t in this.svgLayersMap)this.svgLayersMap.hasOwnProperty(t)&&this.svg.removeChild(this.svgLayersMap[t]);this.svgLayersMap={}},Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore.prototype.hideMarkups=function(t){if(!t)return console.warn("hideMarkups failed; No layerId provided."),!1;var e=this.svgLayersMap[t];return e?void e.setAttribute("visibility","hidden"):!1},Autodesk.Viewing.Extensions.Markups.Core.MarkupsCore.prototype.showMarkups=function(t){if(!t)return console.warn("showMarkups failed; No layerId provided."),!1;var e=this.svgLayersMap[t];return e?void e.setAttribute("visibility","visible"):!1},n.positionFromClientToMarkups=function(t,e){return this.clientToMarkups(t,e)},n.positionFromMarkupsToClient=function(t,e){return this.markupsToClient(t,e)},n.sizeFromClientToMarkups=function(t,e){var i=this.clientToMarkups(0,0),n=this.clientToMarkups(t,e);return{x:Math.abs(n.x-i.x),y:Math.abs(n.y-i.y)}},n.sizeFromMarkupsToClient=function(t,e){var i=this.markupsToClient(0,0),n=this.markupsToClient(t,e);return{x:Math.abs(n.x-i.x),y:Math.abs(n.y-i.y)}},n.markupsToClient=function(t,e){var n=new THREE.Vector3(t,e,0),o=this.viewer.impl.camera;return n.applyMatrix4(o.matrixWorld),n.sub(o.position),n=i.worldToClient(n,this.viewer,!1)},n.clientToMarkups=function(t,e){var n=i.clientToWorld(t,e,0,this.viewer),o=this.viewer.impl.camera;return n.add(o.position).applyMatrix4(o.matrixWorldInverse),n.z=0,n},n.getSvgViewBox=function(t,e){var i=this.clientToMarkups(0,0),n=this.clientToMarkups(t,e),o=Math.min(i.x,n.x),r=Math.min(i.y,n.y),s=Math.max(i.x,n.x),a=Math.max(i.y,n.y);return[o,r,s-o,a-r].join(" ")},n.getBounds=function(){return this.bounds},n.getMousePosition=function(){return this.input.getMousePosition()},n.onCameraChange=function(t){var e=this.getSvgViewBox(this.bounds.width,this.bounds.height);if("NaN NaN NaN NaN"!==e){this.svg.setAttribute("viewBox",e);var i=this.editMode;if(i){var n=i.getSelection();this.editFrame.setMarkup(n)}}},n.onViewerResize=function(t){this.bounds.x=0,this.bounds.y=0,this.bounds.width=t.width,this.bounds.height=t.height,this.svg.setAttribute("width",this.bounds.width),this.svg.setAttribute("height",this.bounds.height),this.onCameraChange()},n.onMouseMove=function(){return this.navigating?void 0:this.editFrame.isActive()?void this.editFrame.onMouseMove():void(this.editMode&&this.editMode.onMouseMove())},n.onMouseDown=function(t){if(!this.navigating){i.dismissLmvHudMessage();var e=this.getBounds(),n=this.getMousePosition();n.x>=e.x&&n.x<=e.x+e.width&&n.y>=e.y&&n.y<=e.y+e.height&&this.editMode.onMouseDown(),this.editMode.creating||t.target!==this.svg||this.selectMarkup(null),this.ignoreNextMouseUp=!1}},n.onMouseUp=function(){return this.navigating?void 0:this.editFrame.isActive()?void this.editFrame.onMouseUp():void(this.ignoreNextMouseUp||this.editMode.onMouseUp())},n.onMarkupSelected=function(t){this.selectMarkup(t.markup),this.fireEvent(t)},n.onMarkupDragging=function(t){t.dragging?this.editMode.startDragging():this.editMode.finishDragging()},n.onMarkupEnterEdition=function(t){},n.onMarkupCancelEdition=function(t){this.editMode.unselect()},n.onMarkupDeleteEdition=function(t){this.removeMarkup(t.markup),this.editMode.deleteMarkup()},Autodesk.Viewing.theExtensionManager.registerExtension("Autodesk.Viewing.MarkupsCore",t)}(),function(){function t(t,i,n,o){e.EditAction.call(this,t,"CLONE-MARKUP",i),this.clone=n.clone(),this.clone.id=i,this.position={x:o.x,y:o.y}}var e=Autodesk.Viewing.Extensions.Markups.Core;t.prototype=Object.create(e.EditAction.prototype),t.prototype.constructor=t;var i=t.prototype;i.redo=function(){var t=this.editor,e=this.clone,i=this.position;if(!t.getMarkup(this.targetId)){var n=e.clone();n.setPosition(i.x,i.y),t.addMarkup(n)}},i.undo=function(){var t=this.editor.getMarkup(this.targetId);t&&this.editor.removeMarkup(t)},e.CloneMarkup=t}(),function(){function t(t,n,o,r,s){e.EditAction.call(this,t,"CREATE-ARROW",n),this.selectOnExecution=!1,this.tail=r,this.head=o,this.style=i.cloneStyle(s)}var e=Autodesk.Viewing.Extensions.Markups.Core,i=Autodesk.Viewing.Extensions.Markups.Core.Utils;t.prototype=Object.create(e.EditAction.prototype),t.prototype.constructor=t;var n=t.prototype;n.redo=function(){var t=this.editor,i=new e.MarkupArrow(this.targetId,t);t.addMarkup(i),i.set(this.head.x,this.head.y,this.tail.x,this.tail.y),i.setStyle(this.style),i.created()},n.undo=function(){var t=this.editor.getMarkup(this.targetId);t&&this.editor.removeMarkup(t)},e.CreateArrow=t}(),function(){function t(t,n,o,r,s,a){e.EditAction.call(this,t,"CREATE-CIRCLE",n),this.selectOnExecution=!1,this.position={x:o.x,y:o.y},this.size={x:r.x,y:r.y},this.rotation=s,this.style=i.cloneStyle(a)}var e=Autodesk.Viewing.Extensions.Markups.Core,i=Autodesk.Viewing.Extensions.Markups.Core.Utils;t.prototype=Object.create(e.EditAction.prototype),t.prototype.constructor=t;var n=t.prototype;n.redo=function(){var t=this.editor,i=new e.MarkupCircle(this.targetId,t);t.addMarkup(i),i.set(this.position,this.size),i.setRotation(this.rotation),i.setStyle(this.style),i.created()},n.undo=function(){var t=this.editor.getMarkup(this.targetId);t&&this.editor.removeMarkup(t)},e.CreateCircle=t}(),function(){function t(t,n,o,r,s,a){e.EditAction.call(this,t,"CREATE-CLOUD",n),this.selectOnExecution=!1,this.position={x:o.x,y:o.y},this.size={x:r.x,y:r.y},this.rotation=s,this.style=i.cloneStyle(a)}var e=Autodesk.Viewing.Extensions.Markups.Core,i=Autodesk.Viewing.Extensions.Markups.Core.Utils;t.prototype=Object.create(e.EditAction.prototype),t.prototype.constructor=t;var n=t.prototype;n.redo=function(){var t=this.editor,i=new e.MarkupCloud(this.targetId,t);t.addMarkup(i),i.set(this.position,this.size),i.setRotation(this.rotation),i.setStyle(this.style),i.created()},n.undo=function(){var t=this.editor.getMarkup(this.targetId);t&&this.editor.removeMarkup(t)},e.CreateCloud=t}(),function(){function t(t,n,o,r,s,a,u){e.EditAction.call(this,t,"CREATE-FREEHAND",n),this.selectOnExecution=!1,this.position=o,this.size=r,this.rotation=s,this.movements=a.concat(),this.style=i.cloneStyle(u)}var e=Autodesk.Viewing.Extensions.Markups.Core,i=Autodesk.Viewing.Extensions.Markups.Core.Utils;t.prototype=Object.create(e.EditAction.prototype),t.prototype.constructor=t;var n=t.prototype;n.redo=function(){var t=this.editor,i=new e.MarkupFreehand(this.targetId,t);t.addMarkup(i),i.set(this.position,this.size,this.movements),i.setRotation(this.rotation),i.setStyle(this.style),i.created()},n.undo=function(){var t=this.editor.getMarkup(this.targetId);t&&this.editor.removeMarkup(t)},e.CreateFreehand=t}(),function(){function t(t,n,o,r,s,a){e.EditAction.call(this,t,"CREATE-RECTANGLE",n),this.selectOnExecution=!1,this.position={x:o.x,y:o.y},this.size={x:r.x,y:r.y},this.rotation=s,this.style=i.cloneStyle(a)}var e=Autodesk.Viewing.Extensions.Markups.Core,i=Autodesk.Viewing.Extensions.Markups.Core.Utils;t.prototype=Object.create(e.EditAction.prototype),t.prototype.constructor=t;var n=t.prototype;n.redo=function(){var t=this.editor,i=new e.MarkupRectangle(this.targetId,t);t.addMarkup(i),i.set(this.position,this.size),i.setRotation(this.rotation),i.setStyle(this.style),i.created()},n.undo=function(){var t=this.editor.getMarkup(this.targetId);t&&this.editor.removeMarkup(t)},e.CreateRectangle=t}(),function(){function t(t,n,o,r,s,a){e.EditAction.call(this,t,"CREATE-TEXT",n),this.text=s,this.position={x:o.x,y:o.y},this.size={x:r.x,y:r.y},this.style=i.cloneStyle(a)}var e=Autodesk.Viewing.Extensions.Markups.Core,i=Autodesk.Viewing.Extensions.Markups.Core.Utils;t.prototype=Object.create(e.EditAction.prototype),t.prototype.constructor=t;var n=t.prototype;n.redo=function(){var t=this.editor,i=this.position,n=this.size,o=new e.MarkupText(this.targetId,t,n);t.addMarkup(o),o.setSize(i,n.x,n.y),o.setText(this.text),o.setStyle(this.style),o.forceRedraw()},n.undo=function(){var t=this.editor.getMarkup(this.targetId);t&&(this.editor.removeMarkup(t),t.destroy())},e.CreateText=t}(),function(){function t(t,i){e.EditAction.call(this,t,"DELETE-ARROW",i.id),this.createArrow=new e.CreateArrow(t,i.id,i.head,i.tail,i.getStyle())}var e=Autodesk.Viewing.Extensions.Markups.Core;t.prototype=Object.create(e.EditAction.prototype),t.prototype.constructor=t;var i=t.prototype;i.redo=function(){this.createArrow.undo()},i.undo=function(){this.createArrow.redo()},e.DeleteArrow=t}(),function(){function t(t,i){e.EditAction.call(this,t,"DELETE-CIRCLE",i.id),this.createCircle=new e.CreateCircle(t,i.id,i.position,i.size,i.rotation,i.getStyle())}var e=Autodesk.Viewing.Extensions.Markups.Core;t.prototype=Object.create(e.EditAction.prototype),t.prototype.constructor=t;var i=t.prototype;i.redo=function(){this.createCircle.undo()},i.undo=function(){this.createCircle.redo()},e.DeleteCircle=t}(),function(){function t(t,i){e.EditAction.call(this,t,"DELETE-CLOUD",i.id),this.createCloud=new e.CreateCloud(t,i.id,i.position,i.size,i.rotation,i.getStyle())}var e=Autodesk.Viewing.Extensions.Markups.Core;t.prototype=Object.create(e.EditAction.prototype),t.prototype.constructor=t;var i=t.prototype;i.redo=function(){this.createCloud.undo()},i.undo=function(){this.createCloud.redo()},e.DeleteCloud=t}(),function(){function t(t,i){e.EditAction.call(this,t,"DELETE-FREEHAND",i.id),this.createFreehand=new e.CreateFreehand(t,i.id,i.position,i.size,i.rotation,i.locations,i.getStyle())}var e=Autodesk.Viewing.Extensions.Markups.Core;t.prototype=Object.create(e.EditAction.prototype),t.prototype.constructor=t;var i=t.prototype;i.redo=function(){this.createFreehand.undo()},i.undo=function(){this.createFreehand.redo()},e.DeleteFreehand=t}(),function(){var t=Autodesk.Viewing.Extensions.Markups.Core,e=function(e,i){t.EditAction.call(this,e,"DELETE-RECTANGLE",i.id),this.createRectangle=new t.CreateRectangle(e,i.id,i.position,i.size,i.rotation,i.getStyle())};e.prototype=Object.create(t.EditAction.prototype),e.prototype.constructor=e;var i=e.prototype;i.redo=function(){this.createRectangle.undo()},i.undo=function(){this.createRectangle.redo()},t.DeleteRectangle=e}(),function(){function t(t,i){e.EditAction.call(this,t,"DELETE-TEXT",i.id);var n={x:i.position.x,y:i.position.y},o={x:i.size.x,y:i.size.y};this.createText=new e.CreateText(t,i.id,n,o,i.getText(),i.getStyle())}var e=Autodesk.Viewing.Extensions.Markups.Core;t.prototype=Object.create(e.EditAction.prototype),t.prototype.constructor=t;var i=t.prototype;i.redo=function(){this.createText.undo()},i.undo=function(){this.createText.redo()},e.DeleteText=t}(),function(){function t(){this.actions=[],this.closed=!0}var e=Autodesk.Viewing.Extensions.Markups.Core,i=t.prototype;i.open=function(){return this.closed?(this.closed=!1,!0):!1},i.close=function(){return this.closed?!1:(this.closed=!0,!0)},i.undo=function(){for(var t=this.actions,e=t.length-1,i=-1,n=e;n>=0;--n){var o=t[n];o.undo(),-1!==o.targetId&&(i=o.targetId)}return i},i.redo=function(){for(var t=this.actions,e=t.length,i=-1,n=0;e>n;++n){var o=t[n];o.redo(),-1!==o.targetId&&(i=o.targetId)}return i},i.isOpen=function(){return!this.closed},i.isClosed=function(){return this.closed},i.isEmpty=function(){return 0===this.actions.length},i.addAction=function(t){return this.closed?!1:(this.actions.push(t),this.compact(),!0)},i.compact=function(){for(var t=this.actions,e=t.length,i=0;e>i;++i){var n=t[i];if(n.isIdentity())t.splice(i,1),--e,--i;else for(var o=i+1;e>o;++o){var r=t[o];if(n.type===r.type&&n.merge(r)){t.splice(o,1),--e,--i;break}}}},e.EditActionGroup=t}(),function(){function t(t,i,n,o){e.EditAction.call(this,t,"SET-ARROW",i.id),this.newHead={x:n.x,y:n.y},this.newTail={x:o.x,y:o.y},this.oldHead={x:i.head.x,y:i.head.y},this.oldTail={x:i.tail.x,y:i.tail.y}}var e=Autodesk.Viewing.Extensions.Markups.Core;t.prototype=Object.create(e.EditAction.prototype),t.prototype.constructor=t;var i=t.prototype;i.redo=function(){this.applyState(this.targetId,this.newHead,this.newTail)},i.undo=function(){this.applyState(this.targetId,this.oldHead,this.oldTail)},i.merge=function(t){return this.targetId===t.targetId&&this.type===t.type?(this.newHead=t.newHead,this.newTail=t.newTail,!0):!1},i.applyState=function(t,e,i){var n=this.editor.getMarkup(t);if(n){var o=1e-4;(Math.abs(n.head.x-e.x)>=o||Math.abs(n.head.y-e.y)>=o||Math.abs(n.tail.x-i.x)>=o||Math.abs(n.tail.y-i.y)>=o)&&n.set(e.x,e.y,i.x,i.y)}},i.isIdentity=function(){return this.newHead.x===this.oldHead.x&&this.newHead.y===this.oldHead.y&&this.newTail.x===this.oldTail.x&&this.newTail.y===this.oldTail.y},e.SetArrow=t}(),function(){function t(t,i,n,o){e.EditAction.call(this,t,"SET-CIRCLE",i.id),this.newPosition={x:n.x,y:n.y},this.newSize={x:o.x,y:o.y},this.oldPosition={x:i.position.x,y:i.position.y},this.oldSize={x:i.size.x,y:i.size.y}}var e=Autodesk.Viewing.Extensions.Markups.Core;t.prototype=Object.create(e.EditAction.prototype),t.prototype.constructor=t;var i=t.prototype;i.redo=function(){this.applyState(this.targetId,this.newPosition,this.newSize)},i.undo=function(){this.applyState(this.targetId,this.oldPosition,this.oldSize)},i.merge=function(t){return this.targetId===t.targetId&&this.type===t.type?(this.newPosition=t.newPosition,this.newSize=t.newSize,!0):!1},i.applyState=function(t,e,i){var n=this.editor.getMarkup(t);if(n){var o=1e-4;(Math.abs(n.position.x-e.x)>o||Math.abs(n.size.y-i.y)>o||Math.abs(n.position.y-e.y)>o||Math.abs(n.size.y-i.y)>o)&&n.set(e,i)}},i.isIdentity=function(){return this.newPosition.x===this.oldPosition.x&&this.newPosition.y===this.oldPosition.y&&this.newSize.x===this.oldSize.x&&this.newSize.y===this.oldSize.y},e.SetCircle=t}(),function(){function t(t,i,n,o){e.EditAction.call(this,t,"SET-CLOUD",i.id),this.newPosition={x:n.x,y:n.y},this.newSize={x:o.x,y:o.y},this.oldPosition={x:i.position.x,
y:i.position.y},this.oldSize={x:i.size.x,y:i.size.y}}var e=Autodesk.Viewing.Extensions.Markups.Core;t.prototype=Object.create(e.EditAction.prototype),t.prototype.constructor=t;var i=t.prototype;i.redo=function(){this.applyState(this.targetId,this.newPosition,this.newSize,this.newStrokeWidth,this.newColor)},i.undo=function(){this.applyState(this.targetId,this.oldPosition,this.oldSize,this.oldStrokeWidth,this.oldColor)},i.merge=function(t){return this.targetId===t.targetId&&this.type===t.type?(this.newPosition=t.newPosition,this.newSize=t.newSize,!0):!1},i.applyState=function(t,e,i){var n=this.editor.getMarkup(t);if(n){var o=1e-4;(Math.abs(n.position.x-e.x)>o||Math.abs(n.size.y-i.y)>o||Math.abs(n.position.y-e.y)>o||Math.abs(n.size.y-i.y)>o)&&n.set(e,i)}},i.isIdentity=function(){return this.newPosition.x===this.oldPosition.x&&this.newPosition.y===this.oldPosition.y&&this.newSize.x===this.oldSize.x&&this.newSize.y===this.oldSize.y},e.SetCloud=t}(),function(){function t(t,i,n,o,r){e.EditAction.call(this,t,"SET-FREEHAND",i.id),this.position=n,this.size=o,this.locations=r.concat()}var e=Autodesk.Viewing.Extensions.Markups.Core;t.prototype=Object.create(e.EditAction.prototype),t.prototype.constructor=t;var i=t.prototype;i.redo=function(){var t=this.editor.getMarkup(this.targetId);t&&t.set(this.position,this.size,this.locations)},i.undo=function(){},i.merge=function(t){return this.targetId===t.targetId&&this.type===t.type?(this.locations=t.locations.concat(),this.position=t.position,this.size=t.size,!0):!1},i.isIdentity=function(){return!1},e.SetFreehand=t}(),function(){function t(t,i,n){e.EditAction.call(this,t,"SET-POSITION",i.id),this.newPosition={x:n.x,y:n.y},this.oldPosition={x:i.position.x,y:i.position.y}}var e=Autodesk.Viewing.Extensions.Markups.Core;t.prototype=Object.create(e.EditAction.prototype),t.prototype.constructor=t;var i=t.prototype;i.redo=function(){var t=this.editor.getMarkup(this.targetId);t&&t.setPosition(this.newPosition.x,this.newPosition.y)},i.undo=function(){var t=this.editor.getMarkup(this.targetId);t&&t.setPosition(this.oldPosition.x,this.oldPosition.y)},i.merge=function(t){return this.targetId===t.targetId&&this.type===t.type?(this.newPosition=t.newPosition,!0):!1},i.isIdentity=function(){var t=this.newPosition,e=this.oldPosition;return t.x===e.x&&t.y===e.y},e.SetPosition=t}(),function(){function t(t,i,n,o){e.EditAction.call(this,t,"SET-RECTANGLE",i.id),this.newPosition={x:n.x,y:n.y},this.newSize={x:o.x,y:o.y},this.oldPosition={x:i.position.x,y:i.position.y},this.oldSize={x:i.size.x,y:i.size.y}}var e=Autodesk.Viewing.Extensions.Markups.Core;t.prototype=Object.create(e.EditAction.prototype),t.prototype.constructor=t;var i=t.prototype;i.redo=function(){this.applyState(this.targetId,this.newPosition,this.newSize)},i.undo=function(){this.applyState(this.targetId,this.oldPosition,this.oldSize)},i.merge=function(t){return this.targetId===t.targetId&&this.type===t.type?(this.newPosition=t.newPosition,this.newSize=t.newSize,!0):!1},i.applyState=function(t,e,i){var n=this.editor.getMarkup(t);if(n){var o=1e-4;(Math.abs(n.position.x-e.x)>o||Math.abs(n.size.y-i.y)>o||Math.abs(n.position.y-e.y)>o||Math.abs(n.size.y-i.y)>o)&&n.set(e,i)}},i.isIdentity=function(){return this.newPosition.x===this.oldPosition.x&&this.newPosition.y===this.oldPosition.y&&this.newSize.x===this.oldSize.x&&this.newSize.y===this.oldSize.y},e.SetRectangle=t}(),function(){function t(t,i,n){e.EditAction.call(this,t,"SET-ROTATION",i.id);var o=i.getRotation();this.newRotation={angle:n},this.oldRotation={angle:o}}var e=Autodesk.Viewing.Extensions.Markups.Core;t.prototype=Object.create(e.EditAction.prototype),t.prototype.constructor=t;var i=t.prototype;i.redo=function(){var t=this.editor.getMarkup(this.targetId);t&&t.setRotation(this.newRotation.angle)},i.undo=function(){var t=this.editor.getMarkup(this.targetId);t&&t.setRotation(this.oldRotation.angle)},i.merge=function(t){return this.targetId===t.targetId&&this.type===t.type?(this.newRotation=t.newRotation,!0):!1},i.isIdentity=function(){return this.newRotation.angle===this.oldRotation.angle},e.SetRotation=t}(),function(){function t(t,i,n,o,r){e.EditAction.call(this,t,"SET-SIZE",i.id),this.newPosition={x:n.x,y:n.y},this.oldPosition={x:i.position.x,y:i.position.y},this.newWidth=o,this.oldWidth=i.size.x,this.newHeight=r,this.oldHeight=i.size.y}var e=Autodesk.Viewing.Extensions.Markups.Core;t.prototype=Object.create(e.EditAction.prototype),t.prototype.constructor=t;var i=t.prototype;i.redo=function(){var t=this.editor.getMarkup(this.targetId);t&&t.setSize(this.newPosition,this.newWidth,this.newHeight)},i.undo=function(){var t=this.editor.getMarkup(this.targetId);t&&t.setSize(this.oldPosition,this.oldWidth,this.oldHeight)},i.merge=function(t){return this.targetId===t.targetId&&this.type===t.type?(this.newPosition=t.newPosition,this.newWidth=t.newWidth,this.newHeight=t.newHeight,!0):!1},i.isIdentity=function(){var t=this.newPosition.x===this.oldPosition.x&&this.newPosition.y===this.oldPosition.y&&this.newWidth===this.oldWidth&&this.newHeight===this.oldHeight;return t},e.SetSize=t}(),function(){function t(t,n,o){e.EditAction.call(this,t,"SET-STYLE",n.id),this.newStyle=i.cloneStyle(o),this.oldStyle=n.getStyle()}var e=Autodesk.Viewing.Extensions.Markups.Core,i=Autodesk.Viewing.Extensions.Markups.Core.Utils;t.prototype=Object.create(e.EditAction.prototype),t.prototype.constructor=t;var n=t.prototype;n.redo=function(){var t=this.editor.getMarkup(this.targetId);t&&t.setStyle(this.newStyle)},n.undo=function(){var t=this.editor.getMarkup(this.targetId);t&&t.setStyle(this.oldStyle)},e.SetStyle=t}(),function(){function t(t,i,n,o,r){e.EditAction.call(this,t,"SET-TEXT",i.id),this.newPosition={x:n.x,y:n.y},this.oldPosition={x:i.position.x,y:i.position.y},this.newSize={x:o.x,y:o.y},this.oldSize={x:i.size.x,y:i.size.y},this.newText=r,this.oldText=i.getText()}var e=Autodesk.Viewing.Extensions.Markups.Core;t.prototype=Object.create(e.EditAction.prototype),t.prototype.constructor=t;var i=t.prototype;i.redo=function(){var t=this.editor.getMarkup(this.targetId);t&&t.set(this.newPosition,this.newSize,this.newText)},i.undo=function(){var t=this.editor.getMarkup(this.targetId);t&&t.set(this.oldPosition,this.oldSize,this.oldText)},e.SetText=t}(),function(){function t(t){this.editor=t,this.content=null,this.pastePosition={x:0,y:0},i.addTraitEventDispatcher(this)}var e=Autodesk.Viewing.Extensions.Markups.Core,i=Autodesk.Viewing.Extensions.Markups.Core.Utils,n=t.prototype;n.copy=function(){var t=this.editor.getSelection();t&&(this.content=t.clone(),this.pastePosition.x=t.position.x,this.pastePosition.y=t.position.y)},n.cut=function(){var t=this.editor.getSelection();t&&(this.copy(),this.editor.deleteMarkup(t))},n.paste=function(){var t=this.content;if(t){var i=this.editor,n=this.pastePosition,o=i.sizeFromClientToMarkups(20,20);n.x+=o.x,n.y-=o.y;var r=new e.CloneMarkup(i,i.getId(),t,n);r.execute()}},e.Clipboard=t}(),function(){function t(){this.editor=null,this.mousePosition={x:0,y:0},this.makeSameXY=!1,this.snapRotations=!1,this.keepAspectRatio=!1,this.constrainAxis=!1,this.onHammerDragBinded=this.onHammerDrag.bind(this),this.onSingleTapBinded=this.onSingleTap.bind(this),this.onMouseMoveBinded=this.onMouseMove.bind(this),this.onMouseUpBinded=this.onMouseUp.bind(this),this.onMouseDownBinded=this.onMouseDown.bind(this)}function e(t,e){var i=t.editor.svg.getBoundingClientRect();t.makeSameXY=e.shiftKey,t.snapRotations=e.shiftKey,t.keepAspectRatio=e.shiftKey,t.constrainAxis=e.shiftKey,t.mousePosition.x=e.clientX-i.left,t.mousePosition.y=e.clientY-i.top}function i(t){t.shiftKey=!1,t.clientX=t.pointers[0].clientX,t.clientY=t.pointers[0].clientY}var n=Autodesk.Viewing.Extensions.Markups.Core,o=Autodesk.Viewing.Extensions.Markups.Core.Utils,r=t.prototype;r.attachTo=function(t){this.editor&&this.detachFrom(this.editor),this.editor=t,o.isTouchDevice()&&(this.hammer=new Hammer.Manager(t.svg,{recognizers:[[Hammer.Pan,{event:"drag",pointers:1}],[Hammer.Tap,{event:"singletap",pointers:1,threshold:2}]],inputClass:Hammer.TouchInput}))},r.detachFrom=function(t){this.hammer&&this.hammer.destroy(),document.removeEventListener("mousemove",this.onMouseMoveBinded,!0),document.removeEventListener("mouseup",this.onMouseUpBinded,!0),this.editor&&this.editor.svg.removeEventListener("mousedown",this.onMouseDownBinded),this.editor=t},r.enterEditMode=function(){this.hammer&&(this.hammer.on("dragstart dragmove dragend",this.onHammerDragBinded),this.hammer.on("singletap",this.onSingleTapBinded)),document.addEventListener("mousemove",this.onMouseMoveBinded,!0),document.addEventListener("mouseup",this.onMouseUpBinded,!0),this.editor.svg.addEventListener("mousedown",this.onMouseDownBinded)},r.leaveEditMode=function(){this.hammer&&(this.hammer.off("dragstart dragmove dragend",this.onHammerDragBinded),this.hammer.off("singletap",this.onSingleTapBinded)),document.removeEventListener("mousemove",this.onMouseMoveBinded,!0),document.removeEventListener("mouseup",this.onMouseUpBinded,!0),this.editor.svg.removeEventListener("mousedown",this.onMouseDownBinded)},r.enterViewMode=function(){},r.leaveViewMode=function(){},r.getMousePosition=function(){return{x:this.mousePosition.x,y:this.mousePosition.y}},r.onMouseMove=function(t){e(this,t),this.editor.onMouseMove(),t.preventDefault()},r.onMouseDown=function(t){e(this,t),this.editor.onMouseDown(t),t.preventDefault()},r.onMouseUp=function(t){e(this,t),this.editor.onMouseUp(),t.preventDefault()},r.onHammerDrag=function(t){switch(i(t),t.type){case"dragstart":this.onMouseDown(t);break;case"dragmove":this.onMouseMove(t);break;case"dragend":this.onMouseUp(t)}},r.onSingleTap=function(t){i(t),this.onMouseDown(t),this.onMouseUp(t)},n.InputHandler=t}(),function(){function t(t,e,n){this.editor=t,this.viewer=t.viewer,this.type=e,this.selectedMarkup=null,this.dragging=!1,this.draggingAnnotationIniPosition=null,this.draggingMouseIniPosition=new THREE.Vector2,this.initialX=0,this.initialY=0,this.minSize=9,this.creating=!1,this.size={x:0,y:0},this.style=i.createStyle(n,this.viewer),i.addTraitEventDispatcher(this)}var e=Autodesk.Viewing.Extensions.Markups.Core,i=Autodesk.Viewing.Extensions.Markups.Core.Utils;e.EVENT_EDITMODE_CREATION_BEGIN="EVENT_EDITMODE_CREATION_BEGIN",e.EVENT_EDITMODE_CREATION_END="EVENT_EDITMODE_CREATION_END",e.EVENT_MARKUP_DESELECT="EVENT_MARKUP_DESELECT";var n=t.prototype;n.destroy=function(){this.unselect(),i.removeTraitEventDispatcher(this)},n.unselect=function(){var t=!1,i=this.selectedMarkup;i&&(i.unselect(),this.selectedMarkup=null,t=!0),this.editor.editFrame.setMarkup(null),t&&this.fireEvent({type:e.EVENT_MARKUP_DESELECT})},n.createBegin=function(){this.creating||(this.creating=!0,this.fireEvent({type:e.EVENT_EDITMODE_CREATION_BEGIN}))},n.createEnd=function(){this.creating&&(this.creating=!1,this.fireEvent({type:e.EVENT_EDITMODE_CREATION_END}))},n.setStyle=function(t){this.style=t;var i=this.selectedMarkup;if(i){var n=new e.SetStyle(this.editor,i,t);n.execute()}},n.getStyle=function(){return this.style},n.setSelection=function(t){this.selectedMarkup!==t&&(this.unselect(),t&&t.select()),this.selectedMarkup=t;var e=this.editor;t&&e.bringToFront(t),this.creating||e.editFrame.setMarkup(t)},n.getSelection=function(){return this.selectedMarkup},n.deleteMarkup=function(t,e){return!1},n.isMinSizeValid=function(){if(0===this.minSize)return!0;var t=this.editor.sizeFromMarkupsToClient(this.size.x,this.size.y);return t.x*t.x+t.y*t.y>=this.minSize*this.minSize},n.startDragging=function(){var t=this.selectedMarkup,e=this.editor.getMousePosition();t&&(this.dragging=!0,this.draggingAnnotationIniPosition=t.getClientPosition(),this.draggingMouseIniPosition.set(e.x,e.y))},n.finishDragging=function(){var t=this.dragging,e=this.selectedMarkup;this.dragging=!1,e&&t&&e.finishDragging()},n.getFinalMouseDraggingPosition=function(){var t=this.editor,e=t.getBounds(),n=t.getMousePosition(),o=this.initialX,r=this.initialY,s=Math.min(Math.max(e.x,n.x),e.x+e.width),a=Math.min(Math.max(e.y,n.y),e.y+e.height);if(s==o&&a==r&&(s++,a++),t.input.makeSameXY){var u=Math.abs(s-o),l=Math.abs(a-r),c=Math.max(u,l);s=o+c*i.sign(s-o),a=r+c*i.sign(a-r)}return{x:s,y:a}},n.notifyAllowNavigation=function(t){},n.onMouseDown=function(){},n.onMouseUp=function(t){if(this.selectedMarkup&&this.creating&&!this.isMinSizeValid())return this.createEnd(),this.editor.cancelActionGroup(),void(this.selectedMarkup=null);this.finishDragging();var e=this.selectedMarkup;e&&this.creating&&(e.created(),this.createEnd(),this.editor.closeActionGroup(),this.unselect())},n.onMouseMove=function(t){},n.onDoubleClick=function(t){},n.cancelMarkupCreation=function(){this.createEnd(),this.editor.cancelActionGroup(),this.selectedMarkup=null},n.getDraggingPosition=function(){var t=this.editor.getMousePosition(),e=t.x-this.draggingMouseIniPosition.x,i=t.y-this.draggingMouseIniPosition.y;return{x:this.draggingAnnotationIniPosition.x+e,y:this.draggingAnnotationIniPosition.y+i}},n.isInsideBounds=function(t,e,i){return t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height},e.EditMode=t}(),function(){function t(t){var i=["stroke-width","stroke-color","stroke-opacity"];e.EditMode.call(this,t,e.MARKUP_TYPE_ARROW,i)}var e=Autodesk.Viewing.Extensions.Markups.Core;t.prototype=Object.create(e.EditMode.prototype),t.prototype.constructor=t;var i=t.prototype;i.deleteMarkup=function(t,i){if(t=t||this.selectedMarkup,t&&t.type==this.type){var n=new e.DeleteArrow(this.editor,t);return n.addToHistory=!i,n.execute(),!0}return!1},i.onMouseDown=function(){if(e.EditMode.prototype.onMouseDown.call(this),!this.selectedMarkup){var t=this.editor.getMousePosition();this.initialX=t.x,this.initialY=t.y;var i=1,n={x:this.initialX,y:this.initialY},o={x:Math.round(n.x+Math.cos(.25*Math.PI)*i),y:Math.round(n.y+Math.sin(.25*-Math.PI)*i)},r=function(t,e,i,n){this.isInsideBounds(e.x,e.y,n)||(e.y=Math.round(t.y+Math.sin(.25*Math.PI)*i),this.isInsideBounds(e.x,e.y,n)||(e.x=Math.round(t.y+Math.cos(.25*-Math.PI)*i),this.isInsideBounds(e.x,e.y,n)||(e.y=Math.round(t.y+Math.sin(.25*-Math.PI)*i))))}.bind(this),s=this.editor;r(n,o,i,s.getBounds()),s.beginActionGroup(),n=s.positionFromClientToMarkups(n.x,n.y),o=s.positionFromClientToMarkups(o.x,o.y),this.size={x:o.x-n.x,y:o.y-n.y};var a=s.getId(),u=new e.CreateArrow(s,a,n,o,this.style);u.execute(),this.selectedMarkup=s.getMarkup(a),this.createBegin()}},i.onMouseMove=function(t){e.EditMode.prototype.onMouseMove.call(this,t);var i=this.selectedMarkup;if(i&&this.creating){var n=this.editor,o=this.getFinalMouseDraggingPosition(),r=n.positionFromClientToMarkups(this.initialX,this.initialY),s=n.positionFromClientToMarkups(o.x,o.y);this.size={x:s.x-r.x,y:s.y-r.y};var a=new e.SetArrow(n,i,r,s);a.execute()}},e.EditModeArrow=t}(),function(){function t(t){var i=["stroke-width","stroke-color","stroke-opacity","fill-color","fill-opacity"];e.EditMode.call(this,t,e.MARKUP_TYPE_CIRCLE,i)}var e=Autodesk.Viewing.Extensions.Markups.Core;t.prototype=Object.create(e.EditMode.prototype),t.prototype.constructor=t;var i=t.prototype;i.deleteMarkup=function(t,i){if(t=t||this.selectedMarkup,t&&t.type==this.type){var n=new e.DeleteCircle(this.editor,t);return n.addToHistory=!i,n.execute(),!0}return!1},i.onMouseMove=function(t){e.EditMode.prototype.onMouseMove.call(this,t);var i=this.selectedMarkup;if(i&&this.creating){var n=this.editor,o=this.initialX,r=this.initialY,s=this.getFinalMouseDraggingPosition(),a=n.clientToMarkups((o+s.x)/2,(r+s.y)/2),u=this.size=n.sizeFromClientToMarkups(s.x-o,s.y-r),l=new e.SetCircle(n,i,a,u);l.execute()}},i.onMouseDown=function(){if(e.EditMode.prototype.onMouseDown.call(this),!this.selectedMarkup){var t=this.editor,i=t.getMousePosition();this.initialX=i.x,this.initialY=i.y;var n=t.clientToMarkups(this.initialX,this.initialY),o=this.size=t.sizeFromClientToMarkups(1,1);t.beginActionGroup();var r=t.getId(),s=new e.CreateCircle(t,r,n,o,0,this.style);s.execute(),this.selectedMarkup=t.getMarkup(r),this.createBegin()}},e.EditModeCircle=t}(),function(){function t(t){var i=["stroke-width","stroke-color","stroke-opacity","fill-color","fill-opacity"];e.EditMode.call(this,t,e.MARKUP_TYPE_CLOUD,i)}var e=Autodesk.Viewing.Extensions.Markups.Core;t.prototype=Object.create(e.EditMode.prototype),t.prototype.constructor=t;var i=t.prototype;i.deleteMarkup=function(t,i){if(t=t||this.selectedMarkup,t&&t.type==this.type){var n=new e.DeleteCloud(this.editor,t);return n.addToHistory=!i,n.execute(),!0}return!1},i.onMouseMove=function(t){e.EditMode.prototype.onMouseMove.call(this,t);var i=this.selectedMarkup;if(i&&this.creating){var n=this.editor,o=this.initialX,r=this.initialY,s=this.getFinalMouseDraggingPosition(),a=n.clientToMarkups((o+s.x)/2,(r+s.y)/2),u=this.size=n.sizeFromClientToMarkups(s.x-o,s.y-r),l=new e.SetCloud(n,i,a,u);l.execute()}},i.onMouseDown=function(){if(e.EditMode.prototype.onMouseDown.call(this),!this.selectedMarkup){var t=this.editor,i=t.getMousePosition();this.initialX=i.x,this.initialY=i.y;var n=t.clientToMarkups(this.initialX,this.initialY),o=this.size=t.sizeFromClientToMarkups(1,1);t.beginActionGroup();var r=t.getId(),s=new e.CreateCloud(t,r,n,o,0,this.style);s.execute(),this.selectedMarkup=t.getMarkup(r),this.createBegin()}},e.EditModeCloud=t}(),function(){function t(t){var i=["stroke-width","stroke-color","stroke-opacity"];e.EditMode.call(this,t,e.MARKUP_TYPE_FREEHAND,i),this.style["stroke-opacity"]=.75}var e=Autodesk.Viewing.Extensions.Markups.Core;t.prototype=Object.create(e.EditMode.prototype),t.prototype.constructor=t;var i=t.prototype;i.deleteMarkup=function(t,i){if(t=t||this.selectedMarkup,t&&t.type==this.type){var n=new e.DeleteFreehand(this.editor,t);return n.addToHistory=!i,n.execute(),!0}return!1},i.onMouseMove=function(t){e.EditMode.prototype.onMouseMove.call(this,t);var i=this.selectedMarkup;if(i&&this.creating){var n=this.editor,o=n.getMousePosition(),r=this.movements,s=n.clientToMarkups(o.x,o.y);r.push(s);var a=function(t,e){var i=t.map(function(t){return t[e]});return Math.min.apply(null,i)},u=function(t,e){var i=t.map(function(t){return t[e]});return Math.max.apply(null,i)},l=a(r,"x"),c=a(r,"y"),h=u(r,"x"),d=u(r,"y"),p=h-l,f=d-c,g={x:l+.5*p,y:c+.5*f},y=this.size={x:p,y:f},v=r.map(function(t){return{x:t.x-g.x,y:t.y-g.y}}),m=new e.SetFreehand(n,i,g,y,v);m.execute()}},i.onMouseDown=function(){if(e.EditMode.prototype.onMouseDown.call(this),!this.selectedMarkup){var t=this.editor,i=t.getMousePosition();this.initialX=i.x,this.initialY=i.y;var n=t.clientToMarkups(this.initialX,this.initialY);this.movements=[n];var o=this.size=t.sizeFromClientToMarkups(1,1);t.beginActionGroup();var r=t.getId(),s=new e.CreateFreehand(t,r,n,o,0,[{x:0,y:0}],this.style);s.execute(),this.selectedMarkup=t.getMarkup(r),this.createBegin()}},e.EditModeFreehand=t}(),function(){function t(t){var i=["stroke-width","stroke-color","stroke-opacity","fill-color","fill-opacity"];e.EditMode.call(this,t,e.MARKUP_TYPE_RECTANGLE,i)}var e=Autodesk.Viewing.Extensions.Markups.Core;t.prototype=Object.create(e.EditMode.prototype),t.prototype.constructor=t;var i=t.prototype;i.deleteMarkup=function(t,i){if(t=t||this.selectedMarkup,t&&t.type==this.type){var n=new e.DeleteRectangle(this.editor,t);return n.addToHistory=!i,n.execute(),!0}return!1},i.setStyle=function(t){e.EditMode.prototype.setStyle.call(this,t);var i=this.selectedMarkup;if(i){var n=new e.SetRectangle(this.editor,i,i.position,i.size);n.execute()}},i.onMouseMove=function(t){e.EditMode.prototype.onMouseMove.call(this,t);var i=this.selectedMarkup;if(i&&this.creating){var n=this.editor,o=this.initialX,r=this.initialY,s=this.getFinalMouseDraggingPosition(),a=n.clientToMarkups((o+s.x)/2,(r+s.y)/2),u=this.size=n.sizeFromClientToMarkups(s.x-o,s.y-r),l=new e.SetRectangle(n,i,a,u);l.execute()}},i.onMouseDown=function(){if(e.EditMode.prototype.onMouseDown.call(this),!this.selectedMarkup){var t=this.editor,i=t.getMousePosition();this.initialX=i.x,this.initialY=i.y;var n=t.clientToMarkups(this.initialX,this.initialY),o=this.size=t.sizeFromClientToMarkups(1,1);t.beginActionGroup();var r=t.getId(),s=new e.CreateRectangle(t,r,n,o,0,this.style);s.execute(),this.selectedMarkup=t.getMarkup(r),this.createBegin()}},e.EditModeRectangle=t}(),function(){function t(t){var i=["font-size","stroke-color","stroke-opacity","fill-color","fill-opacity","font-family","font-style","font-weight"];e.EditMode.call(this,t,e.MARKUP_TYPE_TEXT,i),this.style["fill-color"]="#ffffff";var n=new e.EditorTextInput(this.viewer.container,this.editor);n.addEventListener(n.EVENT_TEXT_CHANGE,this.onHelperTextChange.bind(this),!1),this.textInputHelper=n,this.onHistoryChangeBinded=this.onHistoryChange.bind(this),this.minSize=0}var e=Autodesk.Viewing.Extensions.Markups.Core;t.prototype=Object.create(e.EditMode.prototype),t.prototype.constructor=t;var i=t.prototype;i.deleteMarkup=function(t,i){if(t=t||this.selectedMarkup,t&&t.type==this.type){var n=new e.DeleteText(this.editor,t);return n.addToHistory=!i,n.execute(),!0}return!1},i.onMouseDown=function(){if(this.textInputHelper.isActive())return void this.textInputHelper.acceptAndExit();if(!this.selectedMarkup){var t=this.editor,i=t.getMousePosition(),n=t.sizeFromMarkupsToClient(0,this.style["font-size"]).y,o=15*n,r=3*n,s=this.size=t.sizeFromClientToMarkups(o,r),a=t.positionFromClientToMarkups(i.x+.5*o,i.y+.5*r);t.beginActionGroup();var u=new e.CreateText(t,t.getId(),a,s,"",this.style);u.execute(),this.createBegin(),this.createEnd(),this.selectedMarkup=t.getMarkup(u.targetId),this.textInputHelper.setActive(this.selectedMarkup,!0),this.editor.actionManager.addEventListener(e.EVENT_HISTORY_CHANGED,this.onHistoryChangeBinded)}},i.onDoubleClick=function(t){t===this.selectedMarkup&&(this.editor.selectMarkup(null),this.textInputHelper.setActive(t,!1))},i.onHelperTextChange=function(t){var i=t.data,n=i.markup,o=i.style;if(this.editor.actionManager.removeEventListener(e.EVENT_HISTORY_CHANGED,this.onHistoryChangeBinded),""===i.newText){if(i.firstEdit)return this.editor.cancelActionGroup(),void this.editor.selectMarkup(null);var r=new e.DeleteText(this.editor,n);return r.execute(),void this.editor.selectMarkup(null)}i.firstEdit||this.editor.beginActionGroup();var s=this.editor.positionFromClientToMarkups(i.newPos.x,i.newPos.y),a=this.editor.sizeFromClientToMarkups(i.width,i.height),u=new e.SetSize(this.editor,n,s,a.x,a.y);u.execute();var l=new e.SetText(this.editor,n,n.position,n.size,i.newText);l.execute();var c=new e.SetStyle(this.editor,n,o);c.execute(),this.editor.closeActionGroup(),this.editor.selectMarkup(null),n.forceRedraw()},i.setStyle=function(t){if(this.textInputHelper.isActive())this.textInputHelper.setStyle(t);else{e.EditMode.prototype.setStyle.call(this,t);var i=this.selectedMarkup;i&&i.forceRedraw()}},i.onHistoryChange=function(t){this.textInputHelper.isActive()&&(this.editor.actionManager.removeEventListener(e.EVENT_HISTORY_CHANGED,this.onHistoryChangeBinded),this.textInputHelper.setInactive())},i.notifyAllowNavigation=function(t){t&&this.textInputHelper.isActive()&&this.textInputHelper.acceptAndExit()},i.destroy=function(){this.textInputHelper&&(this.textInputHelper.isActive()&&this.textInputHelper.acceptAndExit(),this.textInputHelper.destroy(),this.textInputHelper=null),e.EditMode.prototype.destroy.call(this)},e.EditModeText=t}(),function(){function t(t,e){this.parentDiv=t,this.editor=e,this.EVENT_TEXT_CHANGE="EVENT_CO2_TEXT_CHANGE",this.textArea=document.createElement("textarea"),this.textArea.setAttribute("maxlength","260"),this.textArea.setAttribute("placeholder",o.Localization.MARKUP_TEXT_DEFAULT_TEXT),this.onKeyHandlerBinded=this.onKeyHandler.bind(this),this.textArea.addEventListener("keydown",this.onKeyHandlerBinded),this.styleTextArea=new o.DomElementStyle,this.styleTextArea.setAttribute("position","absolute").setAttribute("overflow-y","hidden"),this.measureDiv=document.createElement("div"),o.addTraitEventDispatcher(this),this.onResizeBinded=this.onWindowResize.bind(this)}function e(t){if(0===t.length)return"";for(var e=t.length-1,i=e;i>=0;--i)if(" "!==t.charAt(i)){e=i;break}return t.substr(0,e+1)}function i(t){if(0===t.length)return"";for(var e=0,i=0;i<t.length;++i)if(" "!==t.charAt(i)){e=i;break}return t.substr(e)}var n=Autodesk.Viewing.Extensions.Markups.Core,o=Autodesk.Viewing.Extensions.Markups.Core.Utils,r=t.prototype;r.destroy=function(){this.textArea.removeEventListener("keydown",this.onKeyHandlerBinded),this.setInactive()},r.setActive=function(t,e){if(this.textMarkup!==t){this.setInactive(),this.parentDiv.appendChild(this.textArea),this.textMarkup=t,this.firstEdit=e||!1,this.initFromMarkup(),window.addEventListener("resize",this.onResizeBinded);var i=this.textArea;window.requestAnimationFrame(function(){i.focus()})}},r.setInactive=function(){window.removeEventListener("resize",this.onResizeBinded),this.textMarkup&&(this.textMarkup=null,this.parentDiv.removeChild(this.textArea)),this.style=null},r.isActive=function(){return!!this.textMarkup},r.initFromMarkup=function(){var t=this.textMarkup,e=t.getClientPosition(),i=t.getClientSize(),n=e.x-.5*i.x,o=e.y-.5*i.y,r=t.lineHeight+"%";this.styleTextArea.setAttribute("line-height",r),this.setPosAndSize(n,o,i.x,i.y),this.setStyle(t.getStyle()),this.textArea.value=t.getText()},r.setPosAndSize=function(t,e,i,n){t+i>=this.editor.viewer.container.clientWidth&&(t=this.editor.viewer.container.clientWidth-(i+10)),e+n>=this.editor.viewer.container.clientHeight&&(e=this.editor.viewer.container.clientHeight-(n+10)),this.styleTextArea.setAttribute("left",t+"px").setAttribute("top",e+"px").setAttribute("width",i+"px").setAttribute("height",n+"px")},r.setStyle=function(t){if(this.style){var e={};this.injectSizeValues(e),this.setPosAndSize(e.newPos.x-.5*e.width,e.newPos.y-.5*e.height,e.width,e.height)}var i=this.editor.sizeFromMarkupsToClient(0,t["font-size"]).y,n=this.styleTextArea.setAttribute("color",t["stroke-color"]).setAttribute("font-family",t["font-family"]).setAttribute("font-size",i+"px").setAttribute("font-weight",t["font-weight"]?"bold":"").setAttribute("font-style",t["font-style"]?"italic":"").getStyleString();this.textArea.setAttribute("style",n),this.style=o.cloneStyle(t)},r.getTextValuesForMarkup=function(t){this.setActive(t,!1);var e=this.getTextValues();return this.setInactive(),e},r.getTextValues=function(){var t=this.textArea.value;return t===o.Localization.MARKUP_TEXT_DEFAULT_TEXT&&(t=""),{text:t,lines:this.generateLines()}},r.acceptAndExit=function(){var t=this.getTextValues(),e={markup:this.textMarkup,style:this.style,firstEdit:this.firstEdit,newText:t.text,newLines:t.lines};this.injectSizeValues(e),this.fireEvent({type:this.EVENT_TEXT_CHANGE,data:e}),this.setInactive()},r.injectSizeValues=function(t){var e=parseFloat(this.textArea.style.width),i=parseFloat(this.textArea.style.height),n=parseFloat(this.textArea.style.left),o=parseFloat(this.textArea.style.top);t.width=e,t.height=i,t.newPos={x:n+.5*e,y:o+.5*i}},r.onWindowResize=function(t){window.requestAnimationFrame(function(){var t=this.textArea.value;this.style=null,this.initFromMarkup(),this.textArea.value=t}.bind(this))},r.onKeyHandler=function(t){var e=t.keyCode,i=t.shiftKey;i||13!==e||(t.preventDefault(),this.acceptAndExit())},r.generateLines=function(){var t=this.textArea.value,i=t.split(/\r*\n/),n=this.styleTextArea.clone().removeAttribute(["top","left","width","height","overflow-y"]).setAttribute("position","absolute").setAttribute("white-space","nowrap").setAttribute("float","left").setAttribute("visibility","hidden").getStyleString();this.measureDiv.setAttribute("style",n),this.parentDiv.appendChild(this.measureDiv);for(var o=parseFloat(this.textArea.style.width),r=[],s=0,a=i.length;a>s;++s){var u=e(i[s]);this.splitLine(u,o,r)}return this.parentDiv.removeChild(this.measureDiv),r},r.splitLine=function(t,e,n){if(""!==t)for(var o="",r=!1;!r;){this.measureDiv.innerHTML=t;var s=this.measureDiv.clientWidth;if(e>=s)n.push(t),this.splitLine(i(o),e,n),r=!0;else{var a=this.getShorterLine(t);1===a.length?(this.splitWord(t,o,e,n),r=!0):(t=a[0],o=a[1]+o)}}},r.getShorterLine=function(t){var e=t.lastIndexOf(" ");if(-1===e)return[t];for(;" "===t.charAt(e-1);)e--;var i=t.substr(e),n=t.substr(0,e);return[n,i]},r.splitWord=function(t,e,i,n){for(var o=1,r=!0;r;){var s=t.substr(0,o);this.measureDiv.innerHTML=s;var a=this.measureDiv.clientWidth;if(a>i){if(1===o)return n.push(s),void this.splitWord(t.substr(1),e,i,n);var u=t.substr(0,o-1);n.push(u);var l=t.substr(o-1);return void this.splitLine(l+e,i,n)}if(o++,o>t.length)return void n.push(t)}},n.EditorTextInput=t}()},28:function(t,e,i){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(e,i,n){function o(t){var e='\n\n      <div class="container">\n\n        <div class="switch-container" id="'+t+'-switch-container"\n             data-placement="bottom"\n             data-toggle="tooltip"\n             title="Switch between Edit/View Mode">\n        </div>\n\n        <div id="'+t+'-dropdown-mode-container"\n             class="dropdown-mode-container">\n        </div>\n\n        <hr class="v-spacer">\n\n        <div style="clear: left;">\n\n          <input type="text" id="'+t+'-spectrum"/>\n\n          <input id="'+t+'-style" type="text"\n              class="input styles"\n              value=\'"stroke-width":0.1, "stroke-opacity":1\'\n              data-placement="bottom"\n              data-toggle="tooltip"\n              title="Set svg style properties">\n\n        </div>\n\n        <hr class="v-spacer-large">\n\n        <div style="clear: left;">\n\n          <button class="btn btn-info btn-row"\n                  id="'+t+'-btn-undo"\n                  data-placement="bottom"\n                  data-toggle="tooltip"\n                  title="Undo last markup action"\n                  disabled>\n           <span class="fa fa-undo btn-span">\n           </span>\n              Undo\n          </button>\n\n          <button class="btn btn-info btn-row"\n                  id="'+t+'-btn-redo"\n                  data-placement="bottom"\n                  data-toggle="tooltip"\n                  title="Redo last markup action"\n                  disabled>\n           <span class="fa fa-repeat btn-span">\n           </span>\n              Redo\n          </button>\n\n          <button class="btn btn-info btn-row"\n                  id="'+t+'-btn-clear-all"\n                  data-placement="bottom"\n                  data-toggle="tooltip"\n                  title="Clear All current markups"\n                  disabled>\n           <span class="glyphicon glyphicon-trash btn-span">\n           </span>\n              Clear\n          </button>\n        </div>\n\n        <hr class="v-spacer-large">\n\n        <div class="layer-container">\n\n          <button class="btn btn-info"\n                  id="'+t+'-btn-save"\n                  data-placement="bottom"\n                  data-toggle="tooltip"\n                  title="Save current markups as layer"\n                  disabled>\n            <span class="glyphicon glyphicon-floppy-open btn-span"\n                  aria-hidden="true">\n            </span>\n            Save\n          </button>\n\n          <input id="'+t+'-layer-name" type="text"\n            class="input"\n            placeholder=" Layer Name ...">\n\n          <hr class="v-spacer-large">\n\n          <div class="layer-list" id="'+t+'-layer-list">\n\n          </div>\n\n        </div>\n\n      </div>';return e}function s(){A.content=document.createElement("div"),t(A.container).addClass("markup"),t(A.container).append(o(i));var e=[{label:"Arrow",handler:function(){v("arrow")}},{label:"Circle",handler:function(){v("circle")}},{label:"Cloud",handler:function(){v("cloud")}},{label:"Free Hand",handler:function(){v("freehand")}},{label:"Rectangle",handler:function(){v("rectangle")}},{label:"Text",handler:function(){v("text")}}],n=u("#"+i+"-dropdown-mode-container","Markup Mode",e);t("#"+i+"-spectrum").spectrum({color:"#FF0000",change:function(t){t.toHexString()}}),b=["#"+n.buttonId,"#"+i+"-btn-undo","#"+i+"-btn-redo","#"+i+"-btn-clear-all","#"+i+"-btn-save"],
A.switchMode=new a["default"]("#"+i+"-switch-container",!1),A.switchMode.on("checked",function(t){t?l():c()}),t("#"+i+"-btn-undo").click(h),t("#"+i+"-btn-redo").click(d),t("#"+i+"-btn-clear-all").click(p),t("#"+i+"-btn-save").click(f),t("#"+i+"-style").focusout(m)}function u(e,i,n,o){var s=r(),a=r(),u=r(),l=r(),c='\n        <div id="'+u+'" class="dropdown chart-dropdown">\n          <button id="'+s+'"\n                  class="btn btn-default btn-dropdown dropdown-toggle"\n                  type="button"\n                  data-toggle="dropdown"\n                  disabled>\n          <label id="'+a+'"\n                 style="font: normal 14px Times New Roman; margin-top:-4px;">\n            '+i+'\n          </label>\n          <span class="caret btn-span"></span>\n          </button>\n          <ul id="'+l+'" class="dropdown-menu scrollable-menu">\n          </ul>\n        </div>\n      ';return t(e).append(c),t("#"+a).text(i+": "+n[o||0].label),n.forEach(function(e){var n=r(),o='\n          <li id="'+n+'">\n            <a href="">'+e.label+"</a>\n          </li>";t("#"+l).append(o),t("#"+n).click(function(n){n.preventDefault(),e.handler(),t("#"+a).text(i+": "+e.label)})}),{menuId:u,buttonId:s}}function l(){x=!1,T.hide(),T.enterEditMode(),b.forEach(function(e){t(e).prop("disabled",!1)}),t("#"+i+"-layer-list").removeClass("view-mode"),m()}function c(){x=!0,T.leaveEditMode(),T.show(),b.forEach(function(e){t(e).prop("disabled",!0)}),t("#"+i+"-layer-list").addClass("view-mode"),y()}function h(){T.undo()}function d(){T.redo()}function p(){T.clear()}function f(){var e=t("#"+i+"-layer-name"),n=e.val();e.val(""),n=n.length?n:(new Date).toString("d/M/yyyy H:mm:ss").split("GMT")[0];var o={name:n,id:r(),enabled:!1,markupData:T.generateData()};E[o.id]=o,g(o)}function g(e){var n='\n\n        <div id="'+e.id+'"\n             class="list-group-item '+(e.enabled?"enabled":"")+'">\n\n            '+e.name+'\n\n            <button id="'+e.id+'-delete-btn"\n                    class="btn btn-danger btn-list">\n              <span class="glyphicon glyphicon-remove-sign btn-span-list">\n              </span>\n            </button>\n        </div>\n      ';t("#"+i+"-layer-list").append(n);var o=t("#"+e.id);o.click(function(){x&&(o.toggleClass("enabled"),o.hasClass("enabled")?T.loadMarkups(e.markupData,e.id):T.unloadMarkups(e.id))}),t("#"+e.id+"-delete-btn").click(function(){T.unloadMarkups(e.id),delete E[e.id],o.remove()})}function y(){t(".markup .list-group-item").each(function(){var e=t(this);if(e.hasClass("enabled")){var i=E[this.id];T.loadMarkups(i.markupData,i.id)}})}function v(t){switch(t){case"arrow":var t=new k.EditModeArrow(T);T.changeEditMode(t);break;case"circle":var t=new k.EditModeCircle(T);T.changeEditMode(t);break;case"cloud":var t=new k.EditModeCloud(T);T.changeEditMode(t);break;case"freehand":var t=new k.EditModeFreehand(T);T.changeEditMode(t);break;case"rectangle":var t=new k.EditModeRectangle(T);T.changeEditMode(t);break;case"text":var t=new k.EditModeText(T);T.changeEditMode(t)}}function m(){if(!x)try{var n="{"+t("#"+i+"-style").val()+"}",o=JSON.parse(n),r=["stroke-width","stroke-color","stroke-opacity"],s=Autodesk.Viewing.Extensions.Markups.Core.Utils,a=s.createStyle(r,e);console.log(JSON.stringify(a)),console.log(o),T.setStyle(o)}catch(u){console.log(u)}}Autodesk.Viewing.UI.DockingPanel.call(this,e.container,i,"Markup 2D",{shadow:!0});var A=this,x=!0,b=[],E={},k=null,w=!1,M=!1,T=null;A.unload=function(){A.setVisible(!1),deactivateMarkups()},A.setVisible=function(t){w=t,Autodesk.Viewing.UI.DockingPanel.prototype.setVisible.call(this,t),t?(n.classList.add("active"),e.loadExtension("Autodesk.Viewing.MarkupsCore"),T=e.getExtension("Autodesk.Viewing.MarkupsCore"),k=Autodesk.Viewing.Extensions.Markups.Core,c()):(n.classList.remove("active"),e.unloadExtension("Autodesk.Viewing.MarkupsCore"),T=null)},A.toggleVisibility=function(){A.setVisible(!w)},A.initialize=function(){this.title=this.createTitleBar(this.titleLabel||this.container.id),this.closer=this.createCloseButton(),this.container.appendChild(this.title),this.title.appendChild(this.closer),this.container.appendChild(this.content),this.initializeMoveHandlers(this.title),this.initializeCloseHandler(this.closer)},A.onTitleDoubleClick=function(e){M=!M,M?t(A.container).addClass("minimized"):t(A.container).removeClass("minimized")},s()}function r(){var t=arguments.length<=0||void 0===arguments[0]?"xxxxxxxxxx":arguments[0],e=(new Date).getTime(),i=t.replace(/[xy]/g,function(t){var i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?i:7&i|8).toString(16)});return i}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var s=i(9),a=n(s);o.prototype=Object.create(Autodesk.Viewing.UI.DockingPanel.prototype),o.prototype.constructor=o}).call(e,i(1))},29:function(t,e,i){(function(t){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(t,i,n){function o(t,e,n,o){for(var r=[],s=0;s<t.length;s++){var a=t[s];if(a){var u=tinycolor(a),l=u.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";l+=tinycolor.equals(e,a)?" sp-thumb-active":"";var c=u.toString(o.preferredFormat||"rgb"),h=v?"background-color:"+u.toRgbString():"filter:"+u.toFilter();r.push('<span title="'+c+'" data-color="'+u.toRgbString()+'" class="'+l+'"><span class="sp-thumb-inner" style="'+h+';" /></span>')}else{var d="sp-clear-display";r.push(i("<div />").append(i('<span data-color="" style="background-color:transparent;" class="'+d+'"></span>').attr("title",o.noColorSelectedText)).html())}}return"<div class='sp-cf "+n+"'>"+r.join("")+"</div>"}function r(){for(var t=0;t<g.length;t++)g[t]&&g[t].hide()}function s(t,e){var n=i.extend({},f,t);return n.callbacks={move:h(n.move,e),change:h(n.change,e),show:h(n.show,e),hide:h(n.hide,e),beforeShow:h(n.beforeShow,e)},n}function a(e,a){function l(){if(q.showPaletteOnly&&(q.showPalette=!0),Lt.text(q.showPaletteOnly?q.togglePaletteMoreText:q.togglePaletteLessText),q.palette){ht=q.palette.slice(0),dt=i.isArray(ht[0])?ht:[ht],pt={};for(var t=0;t<dt.length;t++)for(var e=0;e<dt[t].length;e++){var n=tinycolor(dt[t][e]).toRgbString();pt[n]=!0}}bt.toggleClass("sp-flat",W),bt.toggleClass("sp-input-disabled",!q.showInput),bt.toggleClass("sp-alpha-enabled",q.showAlpha),bt.toggleClass("sp-clear-enabled",Xt),bt.toggleClass("sp-buttons-disabled",!q.showButtons),bt.toggleClass("sp-palette-buttons-disabled",!q.togglePaletteOnly),bt.toggleClass("sp-palette-disabled",!q.showPalette),bt.toggleClass("sp-palette-only",q.showPaletteOnly),bt.toggleClass("sp-initial-disabled",!q.showInitial),bt.addClass(q.className).addClass(q.containerClassName),F()}function h(){function t(t){return t.data&&t.data.ignore?(P(i(t.target).closest(".sp-thumb-el").data("color")),L()):(P(i(t.target).closest(".sp-thumb-el").data("color")),L(),H(!0),q.hideAfterPaletteSelect&&N()),!1}if(y&&bt.find("*:not(input)").attr("unselectable","on"),l(),Ht&&At.after(Ft).hide(),Xt||It.hide(),W)At.after(bt).hide();else{var e="parent"===q.appendTo?At.parent():i(q.appendTo);1!==e.length&&(e=i("body")),e.append(bt)}f(),Bt.bind("click.spectrum touchstart.spectrum",function(t){xt||S(),t.stopPropagation(),i(t.target).is("input")||t.preventDefault()}),(At.is(":disabled")||q.disabled===!0)&&G(),bt.click(c),Dt.change(C),Dt.bind("paste",function(){setTimeout(C,1)}),Dt.keydown(function(t){13==t.keyCode&&C()}),Pt.text(q.cancelText),Pt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),_(),N()}),It.attr("title",q.clearText),It.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Yt=!0,L(),W&&H(!0)}),zt.text(q.chooseText),zt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),z()&&(H(!0),N())}),Lt.text(q.showPaletteOnly?q.togglePaletteMoreText:q.togglePaletteLessText),Lt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),q.showPaletteOnly=!q.showPaletteOnly,q.showPaletteOnly||W||bt.css("left","-="+(Et.outerWidth(!0)+5)),l()}),d(St,function(t,e,i){ct=t/ot,Yt=!1,i.shiftKey&&(ct=Math.round(10*ct)/10),L()},M,T),d(Mt,function(t,e){at=parseFloat(e/it),Yt=!1,q.showAlpha||(ct=1),L()},M,T),d(kt,function(t,e,i){if(i.shiftKey){if(!vt){var n=ut*Z,o=tt-lt*tt,r=Math.abs(t-n)>Math.abs(e-o);vt=r?"x":"y"}}else vt=null;var s=!vt||"x"===vt,a=!vt||"y"===vt;s&&(ut=parseFloat(t/Z)),a&&(lt=parseFloat((tt-e)/tt)),Yt=!1,q.showAlpha||(ct=1),L()},M,T),Ut?(P(Ut),V(),Wt=qt||tinycolor(Ut).format,b(Ut)):V(),W&&R();var n=y?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Nt.delegate(".sp-thumb-el",n,t),_t.delegate(".sp-thumb-el:nth-child(1)",n,{ignore:!0},t)}function f(){if(Y&&t.localStorage){try{var e=t.localStorage[Y].split(",#");e.length>1&&(delete t.localStorage[Y],i.each(e,function(t,e){b(e)}))}catch(n){}try{ft=t.localStorage[Y].split(";")}catch(n){}}}function b(e){if(K){var n=tinycolor(e).toRgbString();if(!pt[n]&&-1===i.inArray(n,ft))for(ft.push(n);ft.length>gt;)ft.shift();if(Y&&t.localStorage)try{t.localStorage[Y]=ft.join(";")}catch(o){}}}function E(){var t=[];if(q.showPalette)for(var e=0;e<ft.length;e++){var i=tinycolor(ft[e]).toRgbString();pt[i]||t.push(ft[e])}return t.reverse().slice(0,q.maxSelectionSize)}function k(){var t=I(),e=i.map(dt,function(e,i){return o(e,t,"sp-palette-row sp-palette-row-"+i,q)});f(),ft&&e.push(o(E(),t,"sp-palette-row sp-palette-row-selection",q)),Nt.html(e.join(""))}function w(){if(q.showInitial){var t=Gt,e=I();_t.html(o([t,e],e,"sp-palette-row-initial",q))}}function M(){(0>=tt||0>=Z||0>=it)&&F(),bt.addClass(yt),vt=null,At.trigger("dragstart.spectrum",[I()])}function T(){bt.removeClass(yt),At.trigger("dragstop.spectrum",[I()])}function C(){var t=Dt.val();if(null!==t&&""!==t||!Xt){var e=tinycolor(t);e.isValid()?(P(e),H(!0)):Dt.addClass("sp-validation-error")}else P(null),H(!0)}function S(){Q?N():R()}function R(){var e=i.Event("beforeShow.spectrum");return Q?void F():(At.trigger(e,[I()]),void($.beforeShow(I())===!1||e.isDefaultPrevented()||(r(),Q=!0,i(mt).bind("click.spectrum",D),i(t).bind("resize.spectrum",J),Ft.addClass("sp-active"),bt.removeClass("sp-hidden"),F(),V(),Gt=I(),w(),$.show(Gt),At.trigger("show.spectrum",[Gt]))))}function D(t){t&&"click"==t.type&&2==t.button||(Kt?H(!0):_(),N())}function N(){Q&&!W&&(Q=!1,i(mt).unbind("click.spectrum",D),i(t).unbind("resize.spectrum",J),Ft.removeClass("sp-active"),bt.addClass("sp-hidden"),$.hide(I()),At.trigger("hide.spectrum",[I()]))}function _(){P(Gt,!0)}function P(t,e){if(tinycolor.equals(t,I()))return void V();var i,n;!t&&Xt?Yt=!0:(Yt=!1,i=tinycolor(t),n=i.toHsv(),at=n.h%360/360,ut=n.s,lt=n.v,ct=n.a),V(),i&&i.isValid()&&!e&&(Wt=qt||i.getFormat())}function I(t){return t=t||{},Xt&&Yt?null:tinycolor.fromRatio({h:at,s:ut,v:lt,a:Math.round(100*ct)/100},{format:t.format||Wt})}function z(){return!Dt.hasClass("sp-validation-error")}function L(){V(),$.move(I()),At.trigger("move.spectrum",[I()])}function V(){Dt.removeClass("sp-validation-error"),O();var t=tinycolor.fromRatio({h:at,s:1,v:1});kt.css("background-color",t.toHexString());var e=Wt;1>ct&&(0!==ct||"name"!==e)&&("hex"!==e&&"hex3"!==e&&"hex6"!==e&&"name"!==e||(e="rgb"));var i=I({format:e}),n="";if(jt.removeClass("sp-clear-display"),jt.css("background-color","transparent"),!i&&Xt)jt.addClass("sp-clear-display");else{var o=i.toHexString(),r=i.toRgbString();if(v||1===i.alpha?jt.css("background-color",r):(jt.css("background-color","transparent"),jt.css("filter",i.toFilter())),q.showAlpha){var s=i.toRgb();s.a=0;var a=tinycolor(s).toRgbString(),u="linear-gradient(left, "+a+", "+o+")";y?Ct.css("filter",tinycolor(a).toFilter({gradientType:1},o)):(Ct.css("background","-webkit-"+u),Ct.css("background","-moz-"+u),Ct.css("background","-ms-"+u),Ct.css("background","linear-gradient(to right, "+a+", "+o+")"))}n=i.toString(e)}q.showInput&&Dt.val(n),q.showPalette&&k(),w()}function O(){var t=ut,e=lt;if(Xt&&Yt)Rt.hide(),Tt.hide(),wt.hide();else{Rt.show(),Tt.show(),wt.show();var i=t*Z,n=tt-e*tt;i=Math.max(-et,Math.min(Z-et,i-et)),n=Math.max(-et,Math.min(tt-et,n-et)),wt.css({top:n+"px",left:i+"px"});var o=ct*ot;Rt.css({left:o-rt/2+"px"});var r=at*it;Tt.css({top:r-st+"px"})}}function H(t){var e=I(),i="",n=!tinycolor.equals(e,Gt);e&&(i=e.toString(Wt),b(e)),Vt&&At.val(i),t&&n&&($.change(e),At.trigger("change",[e]))}function F(){Z=kt.width(),tt=kt.height(),et=wt.height(),nt=Mt.width(),it=Mt.height(),st=Tt.height(),ot=St.width(),rt=Rt.width(),W||(bt.css("position","absolute"),bt.offset(u(bt,Bt))),O(),q.showPalette&&k(),At.trigger("reflow.spectrum")}function B(){At.show(),Bt.unbind("click.spectrum touchstart.spectrum"),bt.remove(),Ft.remove(),g[$t.id]=null}function j(t,e){return t===n?i.extend({},q):e===n?q[t]:(q[t]=e,void l())}function U(){xt=!1,At.attr("disabled",!1),Bt.removeClass("sp-disabled")}function G(){N(),xt=!0,At.attr("disabled",!0),Bt.addClass("sp-disabled")}var q=s(a,e),W=q.flat,K=q.showSelectionPalette,Y=q.localStorageKey,X=q.theme,$=q.callbacks,J=p(F,10),Q=!1,Z=0,tt=0,et=0,it=0,nt=0,ot=0,rt=0,st=0,at=0,ut=0,lt=0,ct=1,ht=[],dt=[],pt={},ft=q.selectionPalette.slice(0),gt=q.maxSelectionSize,yt="sp-dragging",vt=null,mt=e.ownerDocument,At=(mt.body,i(e)),xt=!1,bt=i(x,mt).addClass(X),Et=bt.find(".sp-picker-container"),kt=bt.find(".sp-color"),wt=bt.find(".sp-dragger"),Mt=bt.find(".sp-hue"),Tt=bt.find(".sp-slider"),Ct=bt.find(".sp-alpha-inner"),St=bt.find(".sp-alpha"),Rt=bt.find(".sp-alpha-handle"),Dt=bt.find(".sp-input"),Nt=bt.find(".sp-palette"),_t=bt.find(".sp-initial"),Pt=bt.find(".sp-cancel"),It=bt.find(".sp-clear"),zt=bt.find(".sp-choose"),Lt=bt.find(".sp-palette-toggle"),Vt=At.is("input"),Ot=Vt&&m&&"color"===At.attr("type"),Ht=Vt&&!W,Ft=Ht?i(A).addClass(X).addClass(q.className).addClass(q.replacerClassName):i([]),Bt=Ht?Ft:At,jt=Ft.find(".sp-preview-inner"),Ut=q.color||Vt&&At.val(),Gt=!1,qt=q.preferredFormat,Wt=qt,Kt=!q.showButtons||q.clickoutFiresChange,Yt=!Ut,Xt=q.allowEmpty&&!Ot;h();var $t={show:R,hide:N,toggle:S,reflow:F,option:j,enable:U,disable:G,set:function(t){P(t),H()},get:I,destroy:B,container:bt};return $t.id=g.push($t)-1,$t}function u(t,e){var n=0,o=t.outerWidth(),r=t.outerHeight(),s=e.outerHeight(),a=t[0].ownerDocument,u=a.documentElement,l=u.clientWidth+i(a).scrollLeft(),c=u.clientHeight+i(a).scrollTop(),h=e.offset();return h.top+=s,h.left-=Math.min(h.left,h.left+o>l&&l>o?Math.abs(h.left+o-l):0),h.top-=Math.min(h.top,h.top+r>c&&c>r?Math.abs(r+s-n):n),h}function l(){}function c(t){t.stopPropagation()}function h(t,e){var i=Array.prototype.slice,n=i.call(arguments,2);return function(){return t.apply(e,n.concat(i.call(arguments)))}}function d(e,n,o,r){function s(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function a(t){if(h){if(y&&c.documentMode<9&&!t.button)return l();var i=t.originalEvent.touches,o=i?i[0].pageX:t.pageX,r=i?i[0].pageY:t.pageY,a=Math.max(0,Math.min(o-d.left,f)),u=Math.max(0,Math.min(r-d.top,p));g&&s(t),n.apply(e,[a,u,t])}}function u(t){var n=t.which?3==t.which:2==t.button;n||h||o.apply(e,arguments)!==!1&&(h=!0,p=i(e).height(),f=i(e).width(),d=i(e).offset(),i(c).bind(v),i(c.body).addClass("sp-dragging"),g||a(t),s(t))}function l(){h&&(i(c).unbind(v),i(c.body).removeClass("sp-dragging"),r.apply(e,arguments)),h=!1}n=n||function(){},o=o||function(){},r=r||function(){};var c=document,h=!1,d={},p=0,f=0,g="ontouchstart"in t,v={};v.selectstart=s,v.dragstart=s,v["touchmove mousemove"]=a,v["touchend mouseup"]=l,i(e).bind("touchstart mousedown",u)}function p(t,e,i){var n;return function(){var o=this,r=arguments,s=function(){n=null,t.apply(o,r)};i&&clearTimeout(n),!i&&n||(n=setTimeout(s,e))}}var f={beforeShow:l,move:l,change:l,show:l,hide:l,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!1,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1},g=[],y=!!/msie/i.exec(t.navigator.userAgent),v=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div"),i=e.style;return i.cssText="background-color:rgba(0,0,0,.5)",t(i.backgroundColor,"rgba")||t(i.backgroundColor,"hsla")}(),m=function(){var t=i("<input type='color' value='!' />")[0];return"color"===t.type&&"!"!==t.value}(),A=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),x=function(){var t="";if(y)for(var e=1;6>=e;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),b="spectrum.id";i.fn.spectrum=function(t,e){if("string"==typeof t){var n=this,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=g[i(this).data(b)];if(e){var r=e[t];if(!r)throw new Error("Spectrum: no such method: '"+t+"'");"get"==t?n=e.get():"container"==t?n=e.container:"option"==t?n=e.option.apply(e,o):"destroy"==t?(e.destroy(),i(this).removeData(b)):r.apply(e,o)}}),n}return this.spectrum("destroy").each(function(){var e=i.extend({},t,i(this).data()),n=a(this,e);i(this).data(b,n.id)})},i.fn.spectrum.load=!0,i.fn.spectrum.loadOpts={},i.fn.spectrum.draggable=d,i.fn.spectrum.defaults=f,i.spectrum={},i.spectrum.localization={},i.spectrum.palettes={},i.fn.spectrum.processNativeColorInputs=function(){m||i("input[type=color]").spectrum({preferredFormat:"hex6"})},function(){function i(t){var i={r:0,g:0,b:0},o=1,s=!1,u=!1;return"string"==typeof t&&(t=I(t)),"object"==("undefined"==typeof t?"undefined":e(t))&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(i=n(t.r,t.g,t.b),s=!0,u="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=N(t.s),t.v=N(t.v),i=a(t.h,t.s,t.v),s=!0,u="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=N(t.s),t.l=N(t.l),i=r(t.h,t.s,t.l),s=!0,u="hsl"),t.hasOwnProperty("a")&&(o=t.a)),o=w(o),{ok:s,format:t.format||u,r:F(255,B(i.r,0)),g:F(255,B(i.g,0)),b:F(255,B(i.b,0)),a:o}}function n(t,e,i){return{r:255*M(t,255),g:255*M(e,255),b:255*M(i,255)}}function o(t,e,i){t=M(t,255),e=M(e,255),i=M(i,255);var n,o,r=B(t,e,i),s=F(t,e,i),a=(r+s)/2;if(r==s)n=o=0;else{var u=r-s;switch(o=a>.5?u/(2-r-s):u/(r+s),r){case t:n=(e-i)/u+(i>e?6:0);break;case e:n=(i-t)/u+2;break;case i:n=(t-e)/u+4}n/=6}return{h:n,s:o,l:a}}function r(t,e,i){function n(t,e,i){return 0>i&&(i+=1),i>1&&(i-=1),1/6>i?t+6*(e-t)*i:.5>i?e:2/3>i?t+(e-t)*(2/3-i)*6:t}var o,r,s;if(t=M(t,360),e=M(e,100),i=M(i,100),0===e)o=r=s=i;else{var a=.5>i?i*(1+e):i+e-i*e,u=2*i-a;o=n(u,a,t+1/3),r=n(u,a,t),s=n(u,a,t-1/3)}return{r:255*o,g:255*r,b:255*s}}function s(t,e,i){t=M(t,255),e=M(e,255),i=M(i,255);var n,o,r=B(t,e,i),s=F(t,e,i),a=r,u=r-s;if(o=0===r?0:u/r,r==s)n=0;else{switch(r){case t:n=(e-i)/u+(i>e?6:0);break;case e:n=(i-t)/u+2;break;case i:n=(t-e)/u+4}n/=6}return{h:n,s:o,v:a}}function a(t,e,i){t=6*M(t,360),e=M(e,100),i=M(i,100);var n=O.floor(t),o=t-n,r=i*(1-e),s=i*(1-o*e),a=i*(1-(1-o)*e),u=n%6,l=[i,s,r,r,a,i][u],c=[a,i,i,s,r,r][u],h=[r,r,a,i,i,s][u];return{r:255*l,g:255*c,b:255*h}}function u(t,e,i,n){var o=[D(H(t).toString(16)),D(H(e).toString(16)),D(H(i).toString(16))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function l(t,e,i,n){var o=[D(_(n)),D(H(t).toString(16)),D(H(e).toString(16)),D(H(i).toString(16))];return o.join("")}function c(t,e){e=0===e?0:e||10;var i=U(t).toHsl();return i.s-=e/100,i.s=T(i.s),U(i)}function h(t,e){e=0===e?0:e||10;var i=U(t).toHsl();return i.s+=e/100,i.s=T(i.s),U(i)}function d(t){return U(t).desaturate(100)}function p(t,e){e=0===e?0:e||10;var i=U(t).toHsl();return i.l+=e/100,i.l=T(i.l),U(i)}function f(t,e){e=0===e?0:e||10;var i=U(t).toRgb();return i.r=B(0,F(255,i.r-H(255*-(e/100)))),i.g=B(0,F(255,i.g-H(255*-(e/100)))),i.b=B(0,F(255,i.b-H(255*-(e/100)))),U(i)}function g(t,e){e=0===e?0:e||10;var i=U(t).toHsl();return i.l-=e/100,i.l=T(i.l),U(i)}function y(t,e){var i=U(t).toHsl(),n=(H(i.h)+e)%360;return i.h=0>n?360+n:n,U(i)}function v(t){var e=U(t).toHsl();return e.h=(e.h+180)%360,U(e)}function m(t){var e=U(t).toHsl(),i=e.h;return[U(t),U({h:(i+120)%360,s:e.s,l:e.l}),U({h:(i+240)%360,s:e.s,l:e.l})]}function A(t){var e=U(t).toHsl(),i=e.h;return[U(t),U({h:(i+90)%360,s:e.s,l:e.l}),U({h:(i+180)%360,s:e.s,l:e.l}),U({h:(i+270)%360,s:e.s,l:e.l})]}function x(t){var e=U(t).toHsl(),i=e.h;return[U(t),U({h:(i+72)%360,s:e.s,l:e.l}),U({h:(i+216)%360,s:e.s,l:e.l})]}function b(t,e,i){e=e||6,i=i||30;var n=U(t).toHsl(),o=360/i,r=[U(t)];for(n.h=(n.h-(o*e>>1)+720)%360;--e;)n.h=(n.h+o)%360,r.push(U(n));return r}function E(t,e){e=e||6;for(var i=U(t).toHsv(),n=i.h,o=i.s,r=i.v,s=[],a=1/e;e--;)s.push(U({h:n,s:o,v:r})),r=(r+a)%1;return s}function k(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=i);return e}function w(t){return t=parseFloat(t),(isNaN(t)||0>t||t>1)&&(t=1),t}function M(t,e){S(t)&&(t="100%");var i=R(t);return t=F(e,B(0,parseFloat(t))),i&&(t=parseInt(t*e,10)/100),O.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function T(t){return F(1,B(0,t))}function C(t){return parseInt(t,16)}function S(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function R(t){return"string"==typeof t&&-1!=t.indexOf("%")}function D(t){return 1==t.length?"0"+t:""+t}function N(t){return 1>=t&&(t=100*t+"%"),t}function _(t){return Math.round(255*parseFloat(t)).toString(16)}function P(t){return C(t)/255}function I(t){t=t.replace(z,"").replace(L,"").toLowerCase();var e=!1;if(G[t])t=G[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var i;return(i=W.rgb.exec(t))?{r:i[1],g:i[2],b:i[3]}:(i=W.rgba.exec(t))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=W.hsl.exec(t))?{h:i[1],s:i[2],l:i[3]}:(i=W.hsla.exec(t))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=W.hsv.exec(t))?{h:i[1],s:i[2],v:i[3]}:(i=W.hex8.exec(t))?{a:P(i[1]),r:C(i[2]),g:C(i[3]),b:C(i[4]),format:e?"name":"hex8"}:(i=W.hex6.exec(t))?{r:C(i[1]),g:C(i[2]),b:C(i[3]),format:e?"name":"hex"}:(i=W.hex3.exec(t))?{r:C(i[1]+""+i[1]),g:C(i[2]+""+i[2]),b:C(i[3]+""+i[3]),format:e?"name":"hex"}:!1}var z=/^[\s,#]+/,L=/\s+$/,V=0,O=Math,H=O.round,F=O.min,B=O.max,j=O.random,U=function K(t,e){if(t=t?t:"",e=e||{},t instanceof K)return t;if(!(this instanceof K))return new K(t,e);var n=i(t);this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=H(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=H(this._r)),this._g<1&&(this._g=H(this._g)),this._b<1&&(this._b=H(this._b)),this._ok=n.ok,this._tc_id=V++};U.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=w(t),this._roundA=H(100*this._a)/100,this},toHsv:function(){var t=s(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=s(this._r,this._g,this._b),e=H(360*t.h),i=H(100*t.s),n=H(100*t.v);return 1==this._a?"hsv("+e+", "+i+"%, "+n+"%)":"hsva("+e+", "+i+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var t=o(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=o(this._r,this._g,this._b),e=H(360*t.h),i=H(100*t.s),n=H(100*t.l);return 1==this._a?"hsl("+e+", "+i+"%, "+n+"%)":"hsla("+e+", "+i+"%, "+n+"%, "+this._roundA+")"},toHex:function(t){return u(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return l(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:H(this._r),g:H(this._g),b:H(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+H(this._r)+", "+H(this._g)+", "+H(this._b)+")":"rgba("+H(this._r)+", "+H(this._g)+", "+H(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:H(100*M(this._r,255))+"%",g:H(100*M(this._g,255))+"%",b:H(100*M(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+H(100*M(this._r,255))+"%, "+H(100*M(this._g,255))+"%, "+H(100*M(this._b,255))+"%)":"rgba("+H(100*M(this._r,255))+"%, "+H(100*M(this._g,255))+"%, "+H(100*M(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":this._a<1?!1:q[u(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var e="#"+l(this._r,this._g,this._b,this._a),i=e,n=this._gradientType?"GradientType = 1, ":"";if(t){var o=U(t);i=o.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+e+",endColorstr="+i+")"},toString:function(t){var e=!!t;t=t||this._format;var i=!1,n=this._a<1&&this._a>=0,o=!e&&n&&("hex"===t||"hex6"===t||"hex3"===t||"name"===t);return o?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(i=this.toRgbString()),"prgb"===t&&(i=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(i=this.toHexString()),"hex3"===t&&(i=this.toHexString(!0)),"hex8"===t&&(i=this.toHex8String()),"name"===t&&(i=this.toName()),"hsl"===t&&(i=this.toHslString()),"hsv"===t&&(i=this.toHsvString()),i||this.toHexString())},_applyModification:function(t,e){var i=t.apply(null,[this].concat([].slice.call(e)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(p,arguments)},brighten:function(){return this._applyModification(f,arguments)},darken:function(){return this._applyModification(g,arguments)},desaturate:function(){return this._applyModification(c,arguments)},saturate:function(){return this._applyModification(h,arguments)},greyscale:function(){return this._applyModification(d,arguments)},spin:function(){return this._applyModification(y,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(b,arguments)},complement:function(){return this._applyCombination(v,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(x,arguments)},triad:function(){return this._applyCombination(m,arguments)},tetrad:function(){return this._applyCombination(A,arguments)}},U.fromRatio=function(t,i){if("object"==("undefined"==typeof t?"undefined":e(t))){var n={};for(var o in t)t.hasOwnProperty(o)&&("a"===o?n[o]=t[o]:n[o]=N(t[o]));t=n}return U(t,i)},U.equals=function(t,e){return t&&e?U(t).toRgbString()==U(e).toRgbString():!1},U.random=function(){return U.fromRatio({r:j(),g:j(),b:j()})},U.mix=function(t,e,i){i=0===i?0:i||50;var n,o=U(t).toRgb(),r=U(e).toRgb(),s=i/100,a=2*s-1,u=r.a-o.a;n=a*u==-1?a:(a+u)/(1+a*u),n=(n+1)/2;var l=1-n,c={r:r.r*n+o.r*l,g:r.g*n+o.g*l,b:r.b*n+o.b*l,a:r.a*s+o.a*(1-s)};return U(c)},U.readability=function(t,e){var i=U(t),n=U(e),o=i.toRgb(),r=n.toRgb(),s=i.getBrightness(),a=n.getBrightness(),u=Math.max(o.r,r.r)-Math.min(o.r,r.r)+Math.max(o.g,r.g)-Math.min(o.g,r.g)+Math.max(o.b,r.b)-Math.min(o.b,r.b);return{brightness:Math.abs(s-a),color:u}},U.isReadable=function(t,e){var i=U.readability(t,e);return i.brightness>125&&i.color>500},U.mostReadable=function(t,e){for(var i=null,n=0,o=!1,r=0;r<e.length;r++){var s=U.readability(t,e[r]),a=s.brightness>125&&s.color>500,u=3*(s.brightness/125)+s.color/500;(a&&!o||a&&o&&u>n||!a&&!o&&u>n)&&(o=a,n=u,i=U(e[r]))}return i};var G=U.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},q=U.hexNames=k(G),W=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",i="(?:"+e+")|(?:"+t+")",n="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?",o="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?";return{rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+o),
hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+n),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();t.tinycolor=U}(),i(function(){i.fn.spectrum.load&&i.fn.spectrum.processNativeColorInputs()})}(window,t)}).call(e,i(1))},62:function(t,e,i){e=t.exports=i(2)(),e.push([t.id,".markup{top:10px;left:10px;width:300px;height:350px;resize:auto}.markup .container{height:calc(100% - 50px);width:calc(100% - 24px);padding-top:10px;padding-left:10px;padding-right:10px;margin:0}.markup .switch-container{float:left;margin-right:28px}.markup .dropdown-mode-container{float:left;margin-top:1px;margin-bottom:10px}.markup .input{height:14px;margin-left:2px;margin-top:0;border-radius:5px;vertical-align:top;width:calc(100% - 88px)}.markup .styles{width:calc(100% - 84px);margin-left:6px;height:20px}.markup .btn{height:6px;line-height:0;vertical-align:top}.markup .btn-dropdown{width:170px;height:10px}.markup .btn-span{margin-right:0;line-height:.3;top:1px}.markup .btn-row{width:63px}.markup .btn-span-list{margin-right:0;line-height:.3;top:1px}.markup .btn-list{margin-top:-8px;float:right}.minimized{height:34px;min-height:34px}.markup .v-spacer{border-width:0;margin:2px}.markup .v-spacer-large{border-width:0;margin:10px}.markup .list-group-item{width:calc(100% - 20px);height:4px;line-height:.3;border-radius:4px;margin-top:0;margin-bottom:2px;padding-right:2px;background-color:#f0f0f0}.markup .view-mode .list-group-item{cursor:pointer}.markup .view-mode .list-group-item.enabled{border:1px solid #42c542;background-color:#42c542}.markup .view-mode .list-group-item.enabled:hover{border:1px solid #42c542;background-color:#41e641}.markup .view-mode .list-group-item:hover{border:1px solid #34afd4;background-color:#34afd4}",""])},63:function(t,e,i){e=t.exports=i(2)(),e.push([t.id,".sp-container{position:absolute;top:0;left:0;display:inline-block;*display:inline;*zoom:1;z-index:9999994;overflow:hidden}.sp-container.sp-flat{position:relative}.sp-container,.sp-container *{box-sizing:content-box}.sp-top{position:relative;width:100%;display:inline-block}.sp-top-inner{right:0}.sp-color,.sp-top-inner{position:absolute;top:0;left:0;bottom:0}.sp-color{right:20%}.sp-hue{position:absolute;top:0;right:0;bottom:0;left:84%;height:100%}.sp-clear-enabled .sp-hue{top:33px;height:77.5%}.sp-fill{padding-top:80%}.sp-sat,.sp-val{position:absolute;top:0;left:0;right:0;bottom:0}.sp-alpha-enabled .sp-top{margin-bottom:18px}.sp-alpha-enabled .sp-alpha{display:block}.sp-alpha-handle{position:absolute;top:-4px;bottom:-4px;width:6px;left:50%;cursor:pointer;border:1px solid #000;background:#fff;opacity:.8}.sp-alpha{display:none;position:absolute;bottom:-14px;right:0;left:0;height:8px}.sp-alpha-inner{border:1px solid #333}.sp-clear{display:none}.sp-clear.sp-clear-display{background-position:50%}.sp-clear-enabled .sp-clear{display:block;position:absolute;top:0;right:0;bottom:0;left:84%;height:28px}.sp-alpha,.sp-alpha-handle,.sp-clear,.sp-container,.sp-container.sp-dragging .sp-input,.sp-container button,.sp-dragger,.sp-preview,.sp-replacer,.sp-slider{-webkit-user-select:none;-moz-user-select:-moz-none;-o-user-select:none;user-select:none}.sp-container.sp-buttons-disabled .sp-button-container,.sp-container.sp-input-disabled .sp-input-container,.sp-container.sp-palette-buttons-disabled .sp-palette-button-container,.sp-initial-disabled .sp-initial,.sp-palette-disabled .sp-palette-container,.sp-palette-only .sp-picker-container{display:none}.sp-sat{background-image:-webkit-gradient(linear,0 0,100% 0,from(#fff),to(hsla(20,42%,65%,0)));background-image:-webkit-linear-gradient(left,#fff,hsla(20,42%,65%,0));background-image:linear-gradient(90deg,#fff,hsla(20,42%,65%,0));-ms-filter:\"progid:DXImageTransform.Microsoft.gradient(GradientType = 1, startColorstr=#FFFFFFFF, endColorstr=#00CC9A81)\";filter:progid:DXImageTransform.Microsoft.gradient(GradientType = 1,startColorstr='#FFFFFFFF',endColorstr='#00CC9A81')}.sp-val{background-image:-webkit-gradient(linear,0 100%,0 0,from(#000),to(hsla(20,42%,65%,0)));background-image:-webkit-linear-gradient(bottom,#000,hsla(20,42%,65%,0));background-image:linear-gradient(0deg,#000,hsla(20,42%,65%,0));-ms-filter:\"progid:DXImageTransform.Microsoft.gradient(startColorstr=#00CC9A81, endColorstr=#FF000000)\";filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#00CC9A81',endColorstr='#FF000000')}.sp-hue{background:-webkit-gradient(linear,left top,left bottom,from(red),color-stop(.17,#ff0),color-stop(.33,#0f0),color-stop(.5,#0ff),color-stop(.67,#00f),color-stop(.83,#f0f),to(red));background:-webkit-linear-gradient(top,red,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red);background:linear-gradient(180deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.sp-1{height:17%;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff0000',endColorstr='#ffff00')}.sp-2{height:16%;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffff00',endColorstr='#00ff00')}.sp-3{height:17%;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#00ff00',endColorstr='#00ffff')}.sp-4{height:17%;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#00ffff',endColorstr='#0000ff')}.sp-5{height:16%;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#0000ff',endColorstr='#ff00ff')}.sp-6{height:17%;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff00ff',endColorstr='#ff0000')}.sp-hidden{display:none!important}.sp-cf:after,.sp-cf:before{content:\"\";display:table}.sp-cf:after{clear:both}.sp-cf{*zoom:1}@media (max-device-width:480px){.sp-color{right:40%}.sp-hue{left:63%}.sp-fill{padding-top:60%}}.sp-dragger{border-radius:5px;height:5px;width:5px;border:1px solid #fff;background:#000;left:0}.sp-dragger,.sp-slider{cursor:pointer;position:absolute;top:0}.sp-slider{height:3px;left:-1px;right:-1px;border:1px solid #000;background:#fff;opacity:.8}.sp-container{border-radius:0;background-color:#ececec;border:1px solid #f0c49b;padding:0}.sp-clear,.sp-color,.sp-container,.sp-container button,.sp-container input,.sp-hue{font:normal 12px Lucida Grande,Lucida Sans Unicode,Lucida Sans,Geneva,Verdana,sans-serif;-ms-box-sizing:border-box;box-sizing:border-box}.sp-top{margin-bottom:3px}.sp-clear,.sp-color,.sp-hue{border:1px solid #666}.sp-input-container{float:right;width:100px;margin-bottom:4px}.sp-initial-disabled .sp-input-container,.sp-input{width:100%}.sp-input{font-size:12px!important;border:1px inset;padding:4px 5px;margin:0;background:transparent;border-radius:3px;color:#222}.sp-input:focus{border:1px solid orange}.sp-input.sp-validation-error{border:1px solid red;background:#fdd}.sp-palette-container,.sp-picker-container{float:left;position:relative;padding:10px;padding-bottom:300px;margin-bottom:-290px}.sp-picker-container{width:172px;border-left:1px solid #fff}.sp-palette-container{border-right:1px solid #ccc}.sp-palette-only .sp-palette-container{border:0}.sp-palette .sp-thumb-el{display:block;position:relative;float:left;width:24px;height:15px;margin:3px;cursor:pointer;border:2px solid transparent}.sp-palette .sp-thumb-el.sp-thumb-active,.sp-palette .sp-thumb-el:hover{border-color:orange}.sp-thumb-el{position:relative}.sp-initial{float:left;border:1px solid #333}.sp-initial span{width:30px;height:25px;border:none;display:block;float:left;margin:0}.sp-initial .sp-clear-display{background-position:50%}.sp-button-container,.sp-palette-button-container{float:right}.sp-replacer{margin:0;overflow:hidden;cursor:pointer;padding:4px;display:inline-block;*zoom:1;*display:inline;border:1px solid #91765d;background:#eee;color:#333;vertical-align:middle;height:17px;width:56px;border-radius:10px}.sp-replacer.sp-active,.sp-replacer:hover{border-color:#f0c49b;color:#111}.sp-replacer.sp-disabled{cursor:default;border-color:silver;color:silver}.sp-dd{padding:2px 0;height:16px;line-height:16px;float:left;font-size:10px}.sp-preview{position:relative;width:25px;height:15px;border:1px solid #222;margin-right:5px;float:left;z-index:0;border-radius:8px;width:36px}.sp-palette{*width:220px;max-width:220px}.sp-palette .sp-thumb-el{width:16px;height:16px;margin:2px 1px;border:1px solid #d0d0d0}.sp-container{padding-bottom:0}.sp-container button{background-color:#eee;background-image:-webkit-linear-gradient(top,#eee,#ccc);background-image:linear-gradient(180deg,#eee,#ccc);border:1px solid #ccc;border-bottom:1px solid #bbb;border-radius:3px;color:#333;font-size:14px;line-height:1;padding:5px 4px;text-align:center;text-shadow:0 1px 0 #eee;vertical-align:middle}.sp-container button:hover{background-color:#ddd;background-image:-webkit-linear-gradient(top,#ddd,#bbb);background-image:linear-gradient(180deg,#ddd,#bbb);border:1px solid #bbb;border-bottom:1px solid #999;cursor:pointer;text-shadow:0 1px 0 #ddd}.sp-container button:active{border:1px solid #aaa;border-bottom:1px solid #888;-ms-box-shadow:inset 0 0 5px 2px #aaa,0 1px 0 0 #eee;-o-box-shadow:inset 0 0 5px 2px #aaa,0 1px 0 0 #eee;box-shadow:inset 0 0 5px 2px #aaa,0 1px 0 0 #eee}.sp-cancel{font-size:11px;color:#d93f3f!important;margin:0;padding:2px;margin-right:5px;vertical-align:middle;text-decoration:none}.sp-cancel:hover{color:#d93f3f!important;text-decoration:underline}.sp-palette span.sp-thumb-active,.sp-palette span:hover{border-color:#000}.sp-alpha,.sp-preview,.sp-thumb-el{position:relative;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==)}.sp-alpha-inner,.sp-preview-inner,.sp-thumb-inner{display:block;position:absolute;top:0;left:0;bottom:0;right:0;border-radius:8px}.sp-palette .sp-thumb-inner{background-position:50% 50%;background-repeat:no-repeat}.sp-palette .sp-thumb-light.sp-thumb-active .sp-thumb-inner{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIVJREFUeNpiYBhsgJFMffxAXABlN5JruT4Q3wfi/0DsT64h8UD8HmpIPCWG/KemIfOJCUB+Aoacx6EGBZyHBqI+WsDCwuQ9mhxeg2A210Ntfo8klk9sOMijaURm7yc1UP2RNCMbKE9ODK1HM6iegYLkfx8pligC9lCD7KmRof0ZhjQACDAAceovrtpVBRkAAAAASUVORK5CYII=)}.sp-palette .sp-thumb-dark.sp-thumb-active .sp-thumb-inner{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjEwMPRyoQAAAMdJREFUOE+tkgsNwzAMRMugEAahEAahEAZhEAqlEAZhEAohEAYh81X2dIm8fKpEspLGvudPOsUYpxE2BIJCroJmEW9qJ+MKaBFhEMNabSy9oIcIPwrB+afvAUFoK4H0tMaQ3XtlrggDhOVVMuT4E5MMG0FBbCEYzjYT7OxLEvIHQLY2zWwQ3D+9luyOQTfKDiFD3iUIfPk8VqrKjgAiSfGFPecrg6HN6m/iBcwiDAo7WiBeawa+Kwh7tZoSCGLMqwlSAzVDhoK+6vH4G0P5wdkAAAAASUVORK5CYII=)}.sp-clear-display{background-repeat:no-repeat;background-position:50%;background-image:url(data:image/gif;base64,R0lGODlhFAAUAPcAAAAAAJmZmZ2dnZ6enqKioqOjo6SkpKWlpaampqenp6ioqKmpqaqqqqurq/Hx8fLy8vT09PX19ff39/j4+Pn5+fr6+vv7+wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAUABQAAAihAP9FoPCvoMGDBy08+EdhQAIJCCMybCDAAYUEARBAlFiQQoMABQhKUJBxY0SPICEYHBnggEmDKAuoPMjS5cGYMxHW3IiT478JJA8M/CjTZ0GgLRekNGpwAsYABHIypcAgQMsITDtWJYBR6NSqMico9cqR6tKfY7GeBCuVwlipDNmefAtTrkSzB1RaIAoXodsABiZAEFB06gIBWC1mLVgBa0AAOw==)}",""])},90:function(t,e,i){var n=i(62);"string"==typeof n&&(n=[[t.id,n,""]]);i(3)(n,{});n.locals&&(t.exports=n.locals)},91:function(t,e,i){var n=i(63);"string"==typeof n&&(n=[[t.id,n,""]]);i(3)(n,{});n.locals&&(t.exports=n.locals)}})});